/**
 * @license
 * Video.js 7.7.5 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
var els,i,chartEL;!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("global/window"),require("global/document")):"function"==typeof define&&define.amd?define(["global/window","global/document"],t):(n=n||self).videojs=t(n.window,n.document)}(this,function(n,t){"use strict";function gi(n,t){return n(t={exports:{}},t.exports),t.exports}function br(n,t){wy(n).forEach(function(i){return t(n[i],i)})}function y(n){for(var i=arguments.length,r=new Array(1<i?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return Object.assign?pe.apply(void 0,[n].concat(r)):(r.forEach(function(t){t&&br(t,function(t,i){n[i]=t})}),n)}function ai(n){return!!n&&"object"==typeof n}function sf(n){return ai(n)&&"[object Object]"===cit.call(n)&&n.constructor===Object}function we(t,i){if(!t||!i||"function"!=typeof n.getComputedStyle)return"";var r=n.getComputedStyle(t);return r?r.getPropertyValue(i)||r[i]:""}function by(n){return"string"==typeof n&&Boolean(n.trim())}function ky(n){if(0<=n.indexOf(" "))throw new Error("class has illegal whitespace characters");}function kr(){return t===n.document}function hf(n){return ai(n)&&1===n.nodeType}function dy(){try{return n.parent!==n.self}catch(t){return!0}}function gy(n){return function(i,r){if(!by(i))return t[n](null);by(r)&&(r=t.querySelector(r));var u=hf(r)?r:t;return u[n]&&u[n](i)}}function p(n,i,r,u){void 0===n&&(n="div");void 0===i&&(i={});void 0===r&&(r={});var f=t.createElement(n);return Object.getOwnPropertyNames(i).forEach(function(n){var t=i[n];-1!==n.indexOf("aria-")||"role"===n||"type"===n?(h.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+n+" to "+t+"."),f.setAttribute(n,t)):"textContent"===n?dr(f,t):f[n]!==t&&(f[n]=t)}),Object.getOwnPropertyNames(r).forEach(function(n){f.setAttribute(n,r[n])}),u&&wh(f,u),f}function dr(n,t){return"undefined"==typeof n.textContent?n.innerText=t:n.textContent=t,n}function vh(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}function nr(n,t){return ky(t),n.classList?n.classList.contains(t):function(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}(t).test(n.className)}function ei(n,t){return n.classList?n.classList.add(t):nr(n,t)||(n.className=(n.className+" "+t).trim()),n}function cf(n,t){return n.classList?n.classList.remove(t):(ky(t),n.className=n.className.split(/\s+/).filter(function(n){return n!==t}).join(" ")),n}function np(n,t,i){var r=nr(n,t);if("function"==typeof i&&(i=i(n,t)),"boolean"!=typeof i&&(i=!r),i!==r)return i?ei(n,t):cf(n,t),n}function tp(n,t){Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];null===r||"undefined"==typeof r||!1===r?n.removeAttribute(i):n.setAttribute(i,!0===r?"":r)})}function oi(n){var f={},i,t,r,u;if(n&&n.attributes&&0<n.attributes.length)for(i=n.attributes,t=i.length-1;0<=t;t--)r=i[t].name,u=i[t].value,"boolean"!=typeof n[r]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")||(u=null!==u),f[r]=u;return f}function ip(n,t){return n.getAttribute(t)}function lf(n,t,i){n.setAttribute(t,i)}function be(n,t){n.removeAttribute(t)}function rp(){t.body.focus();t.onselectstart=function(){return!1}}function up(){t.onselectstart=function(){return!0}}function af(n){if(n&&n.getBoundingClientRect&&n.parentNode){var i=n.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(function(n){void 0!==i[n]&&(t[n]=i[n])}),t.height||(t.height=parseFloat(we(n,"height"))),t.width||(t.width=parseFloat(we(n,"width"))),t}}function fp(i){var r;if(i.getBoundingClientRect&&i.parentNode&&(r=i.getBoundingClientRect()),!r)return{left:0,top:0};var f=t.documentElement,u=t.body,e=f.clientLeft||u.clientLeft||0,o=n.pageXOffset||u.scrollLeft,s=r.left+o-e,h=f.clientTop||u.clientTop||0,c=n.pageYOffset||u.scrollTop,l=r.top+c-h;return{left:Math.round(s),top:Math.round(l)}}function yh(n,t){var i={},r=fp(n),o=n.offsetWidth,u=n.offsetHeight,s=r.top,h=r.left,f=t.pageY,e=t.pageX;return t.changedTouches&&(e=t.changedTouches[0].pageX,f=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(s-f+u)/u)),i.x=Math.max(0,Math.min(1,(e-h)/o)),i}function ep(n){return ai(n)&&3===n.nodeType}function ph(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function op(n){return"function"==typeof n&&(n=n()),(Array.isArray(n)?n:[n]).map(function(n){return"function"==typeof n&&(n=n()),hf(n)||ep(n)?n:"string"==typeof n&&/\S/.test(n)?t.createTextNode(n):void 0}).filter(function(n){return n})}function wh(n,t){return op(t).forEach(function(t){return n.appendChild(t)}),n}function sp(n,t){return wh(ph(n),t)}function gr(n){return void 0===n.button&&void 0===n.buttons||0===n.button&&void 0===n.buttons||"mouseup"===n.type&&0===n.button&&0===n.buttons||0===n.button&&1===n.buttons}function kh(t,i){i&&(bh=i);n.setTimeout(lit,t)}function dh(){lp=!0;n.removeEventListener("load",dh)}function ap(n){var i=t.createElement("style");return i.className=n,i}function vp(n,t){n.styleSheet?n.styleSheet.cssText=t:n.textContent=t}function yi(){return pp++}function wp(n,t){if(nt.has(n)){var i=nt.get(n);0===i.handlers[t].length&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher));Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled);0===Object.getOwnPropertyNames(i).length&&nt.delete(n)}}function gh(n,t,i,r){i.forEach(function(i){n(t,i,r)})}function de(i){function o(){return!0}function s(){return!1}var r,u,f,e;if(i.fixed_)return i;if(!i||!i.isPropagationStopped){r=i||n.event;for(u in i={},r)"layerX"!==u&&"layerY"!==u&&"keyLocation"!==u&&"webkitMovementX"!==u&&"webkitMovementY"!==u&&("returnValue"===u&&r.preventDefault||(i[u]=r[u]));(i.target||(i.target=i.srcElement||t),i.relatedTarget||(i.relatedTarget=i.fromElement===i.target?i.toElement:i.fromElement),i.preventDefault=function(){r.preventDefault&&r.preventDefault();i.returnValue=!1;r.returnValue=!1;i.defaultPrevented=!0},i.defaultPrevented=!1,i.stopPropagation=function(){r.stopPropagation&&r.stopPropagation();i.cancelBubble=!0;r.cancelBubble=!0;i.isPropagationStopped=o},i.isPropagationStopped=s,i.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation();i.isImmediatePropagationStopped=o;i.stopPropagation()},i.isImmediatePropagationStopped=s,null!==i.clientX&&void 0!==i.clientX)&&(f=t.documentElement,e=t.body,i.pageX=i.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),i.pageY=i.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));i.which=i.charCode||i.keyCode;null!==i.button&&void 0!==i.button&&(i.button=1&i.button?0:4&i.button?1:2&i.button?2:0)}return i.fixed_=!0,i}function vt(n,t,i){var r,u;if(Array.isArray(t))return gh(vt,n,t,i);nt.has(n)||nt.set(n,{});r=nt.get(n);(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),i.guid||(i.guid=yi()),r.handlers[t].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,i){var u;if(!r.disabled&&(t=de(t),u=r.handlers[t.type],u))for(var e=u.slice(0),f=0,o=e.length;f<o&&!t.isImmediatePropagationStopped();f++)try{e[f].call(n,t,i)}catch(t){h.error(t)}}),1===r.handlers[t].length)&&(n.addEventListener?(u=!1,bp()&&-1<kp.indexOf(t)&&(u={passive:!0}),n.addEventListener(t,r.dispatcher,u)):n.attachEvent&&n.attachEvent("on"+t,r.dispatcher))}function tt(n,t,i){var r,e,u,f,o;if(nt.has(n)&&(r=nt.get(n),r.handlers)){if(Array.isArray(t))return gh(tt,n,t,i);if(e=function(n,t){r.handlers[t]=[];wp(n,t)},void 0!==t){if(u=r.handlers[t],u)if(i){if(i.guid)for(f=0;f<u.length;f++)u[f].guid===i.guid&&u.splice(f--,1);wp(n,t)}else e(n,t)}else for(o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&e(n,o)}}function nu(n,t,i){var f=nt.has(n)?nt.get(n):{},r=n.parentNode||n.ownerDocument,u;return("string"==typeof t?t={type:t,target:n}:t.target||(t.target=n),t=de(t),f.dispatcher&&f.dispatcher.call(n,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)?nu.call(null,r,t,i):!r&&!t.defaultPrevented&&t.target&&t.target[t.type]&&(nt.has(t.target)||nt.set(t.target,{}),u=nt.get(t.target),t.target[t.type]&&(u.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),u.disabled=!1)),!t.defaultPrevented}function ge(n,t,i){function r(){tt(n,t,r);i.apply(this,arguments)}if(Array.isArray(t))return gh(ge,n,t,i);r.guid=i.guid=i.guid||yi();vt(n,t,r)}function dp(n,t,i){function r(){tt(n,t,r);i.apply(this,arguments)}r.guid=i.guid=i.guid||yi();vt(n,t,r)}function s(n,t,i){t.guid||(t.guid=yi());var r=t.bind(n);return r.guid=i?i+"_"+t.guid:t.guid,r}function tr(t,i){var r=n.performance.now();return function(){var u=n.performance.now();i<=u-r&&(t.apply(void 0,arguments),r=u)}}function rt(){}function nw(n){return"string"==typeof n&&/\S/.test(n)||Array.isArray(n)&&!!n.length}function nc(n){if(!n.nodeName&&!pi(n))throw new Error("Invalid target; must be a DOM node or evented object.");}function tw(n){if(!nw(n))throw new Error("Invalid event type; must be a non-empty string or array.");}function iw(n){if("function"!=typeof n)throw new Error("Invalid listener; must be a function.");}function tc(n,t){var i,r,u,f=t.length<3||t[0]===n||t[0]===n.eventBusEl_;return u=f?(i=n.eventBusEl_,3<=t.length&&t.shift(),r=t[0],t[1]):(i=t[0],r=t[1],t[2]),nc(i),tw(r),iw(u),{isTargetingSelf:f,target:i,type:r,listener:u=s(n,u)}}function ir(n,t,i,r){nc(n);n.nodeName?gp[t](n,i,r):n[t](i,r)}function ic(t,i){void 0===i&&(i={});var r=i.eventBusKey;if(r){if(!t[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');t.eventBusEl_=t[r]}else t.eventBusEl_=p("span",{className:"vjs-event-bus"});return y(t,rw),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(n){n()}),t.on("dispose",function(){t.off();n.setTimeout(function(){t.eventBusEl_=null},0)}),t}function fw(n,t){return y(n,uw),n.state=y({},n.state,t),"function"==typeof n.handleStateChanged&&pi(n)&&n.on("statechanged",n.handleStateChanged),n}function no(n){return"string"!=typeof n?n:n.replace(/./,function(n){return n.toLowerCase()})}function b(n){return"string"!=typeof n?n:n.replace(/./,function(n){return n.toUpperCase()})}function v(){for(var n={},i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];return r.forEach(function(t){t&&br(t,function(t,i){sf(t)?(sf(n[i])||(n[i]={}),n[i]=v(n[i],t)):n[i]=t})}),n}function aw(n,t,i,r){return function(n,t,i){if("number"!=typeof t||t<0||i<t)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").");}(n,r,i.length-1),i[r][t]}function ac(n){return void 0===n||0===n.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty");},end:function(){throw new Error("This TimeRanges object is empty");}}:{length:n.length,start:aw.bind(null,"start",0,n),end:aw.bind(null,"end",1,n)}}function rr(n,t){return Array.isArray(n)?ac(n):void 0===n||void 0===t?ac():ac([[n,t]])}function vw(n,t){var u,r,f=0,i;if(!t)return 0;for(n&&n.length||(n=rr(0,0)),i=0;i<n.length;i++)u=n.start(i),t<(r=n.end(i))&&(r=t),f+=r-u;return f/t}function ut(n){if(n instanceof ut)return n;"number"==typeof n?this.code=n:"string"==typeof n?this.message=n:ai(n)&&("number"==typeof n.code&&(this.code=n.code),y(this,n));this.message||(this.message=ut.defaultMessages[this.code]||"")}function wf(n){return null!=n&&"function"==typeof n.then}function iu(n){wf(n)&&n.then(null,function(){})}function ww(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i){return n[i]&&(t[i]=n[i]),t},{cues:n.cues&&Array.prototype.map.call(n.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})}function pc(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].enabled=!1)}function wc(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].selected=!1)}function bc(i){var o=["protocol","hostname","port","pathname","search","hash","host"],u=t.createElement("a"),f,s,r,e;for(u.href=i,s=""===u.host&&"file:"!==u.protocol,s&&((f=t.createElement("div")).innerHTML='<a href="'+i+'"><\/a>',u=f.firstChild,f.setAttribute("style","display:none; position:absolute;"),t.body.appendChild(f)),r={},e=0;e<o.length;e++)r[o[e]]=u[o[e]];return"http:"===r.protocol&&(r.host=r.host.replace(/:80$/,"")),"https:"===r.protocol&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=n.location.protocol),s&&t.body.removeChild(f),r}function kw(n){if(!n.match(/^https?:\/\//)){var i=t.createElement("div");i.innerHTML='<a href="'+n+'">x<\/a>';n=i.firstChild.href}return n}function kc(n){if("string"==typeof n){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(n);if(t)return t.pop().toLowerCase()}return""}function fo(t,i){void 0===i&&(i=n.location);var r=bc(t);return(":"===r.protocol?i.protocol:r.protocol)+r.host!==i.protocol+i.host}function tb(n,t,i){var r=n;return rrt(t)?(i=t,"string"==typeof n&&(r={uri:n})):r=pe({},t,{uri:n}),r.callback=i,r}function hi(n,t,i){return ib(t=tb(n,t,i))}function ib(n){function s(n){return clearTimeout(h),n instanceof Error||(n=new Error(""+(n||"Unknown XMLHttpRequest Error"))),n.statusCode=0,o(n,p)}function v(){var u,i,e;if(!f)return clearTimeout(h),u=n.useXDR&&void 0===t.status?200:1223===t.status?204:t.status,i=p,e=null,0!==u?(i={body:function(){var n=void 0;if(n=t.response?t.response:t.responseText||function(n){try{if("document"===n.responseType)return n.responseXML;var t=n.responseXML&&"parsererror"===n.responseXML.documentElement.nodeName;if(""===n.responseType&&!t)return n.responseXML}catch(n){}return null}(t),y)try{n=JSON.parse(n)}catch(n){}return n}(),statusCode:u,method:r,headers:{},url:c,rawRequest:t},t.getAllResponseHeaders&&(i.headers=frt(t.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),o(e,i,i.body)}var e,o;if("undefined"==typeof n.callback)throw new Error("callback argument missing");e=!1;o=function(t,i,r){e||(e=!0,n.callback(t,i,r))};var u,f,h,t=n.xhr||null,c=(t=t||(n.cors||n.useXDR?new hi.XDomainRequest:new hi.XMLHttpRequest)).url=n.uri||n.url,r=t.method=n.method||"GET",l=n.body||n.data,i=t.headers=n.headers||{},a=!!n.sync,y=!1,p={body:void 0,headers:{},statusCode:0,method:r,url:c,rawRequest:t};if("json"in n&&!1!==n.json&&(y=!0,i.accept||i.Accept||(i.Accept="application/json"),"GET"!==r&&"HEAD"!==r&&(i["content-type"]||i["Content-Type"]||(i["Content-Type"]="application/json"),l=JSON.stringify(!0===n.json?l:n.json))),t.onreadystatechange=function(){4===t.readyState&&setTimeout(v,0)},t.onload=v,t.onerror=s,t.onprogress=function(){},t.onabort=function(){f=!0},t.ontimeout=s,t.open(r,c,!a,n.username,n.password),a||(t.withCredentials=!!n.withCredentials),!a&&0<n.timeout&&(h=setTimeout(function(){if(!f){f=!0;t.abort("timeout");var n=new Error("XMLHttpRequest timeout");n.code="ETIMEDOUT";s(n)}},n.timeout)),t.setRequestHeader)for(u in i)i.hasOwnProperty(u)&&t.setRequestHeader(u,i[u]);else if(n.headers&&!function(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(t.responseType=n.responseType),"beforeSend"in n&&"function"==typeof n.beforeSend&&n.beforeSend(t),t.send(l||null),t}function rb(t,i){var r=new n.WebVTT.Parser(n,n.vttjs,n.WebVTT.StringDecoder()),u=[];r.oncue=function(n){i.addCue(n)};r.onparsingerror=function(n){u.push(n)};r.onflush=function(){i.trigger({type:"loadeddata",target:i})};r.parse(t);0<u.length&&(n.console&&n.console.groupCollapsed&&n.console.groupCollapsed("Text Track parsing errors for "+i.src),u.forEach(function(n){return h.error(n)}),n.console&&n.console.groupEnd&&n.console.groupEnd());r.flush()}function ub(t,i){var r={uri:t},u=fo(t);u&&(r.cors=u);gc(r,s(this,function(t,r,u){if(t)return h.error(t,r);i.loaded_=!0;"function"!=typeof n.WebVTT?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(n){if("vttjserror"!==n.type)return rb(u,i);h.error("vttjs failed to load, stopping trying to process "+i.src)}):rb(u,i)}))}function ob(){}function ri(n,t){this.name="ParsingError";this.code=n.code;this.message=t||n.message}function nl(n){function i(n,t,i,r){return 3600*(0|n)+60*(0|t)+(0|i)+(0|r)/1e3}var t=n.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):59<t[1]?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function bf(){this.values=eo(null)}function kf(n,t,i,r){var f=r?n.split(r):[n],e,u;for(e in f)"string"==typeof f[e]&&(u=f[e].split(i),2===u.length&&t(u[0],u[1]))}function ort(n,t,i){function f(){var t=nl(n);if(null===t)throw new ri(ri.Errors.BadTimeStamp,"Malformed timestamp: "+u);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){n=n.replace(/^\s+/,"")}var u=n;if(r(),t.startTime=f(),r(),"-->"!==n.substr(0,3))throw new ri(ri.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);n=n.substr(3);r();t.endTime=f();r(),function(n,t){var r=new bf;kf(n,function(n,t){var f,u,e;switch(n){case"region":for(f=i.length-1;0<=f;f--)if(i[f].id===t){r.set(n,i[f].region);break}break;case"vertical":r.alt(n,t,["rl","lr"]);break;case"line":u=t.split(",");e=u[0];r.integer(n,e);r.percent(n,e)&&r.set("snapToLines",!1);r.alt(n,e,["auto"]);2===u.length&&r.alt("lineAlign",u[1],["start","center","end"]);break;case"position":u=t.split(",");r.percent(n,u[0]);2===u.length&&r.alt("positionAlign",u[1],["start","center","end"]);break;case"size":r.percent(n,t);break;case"align":r.alt(n,t,["start","center","end","left","right"])}},/:/,/\s/);t.region=r.get("region",null);t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(n){}t.lineAlign=r.get("lineAlign","start");t.snapToLines=r.get("snapToLines",!0);t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(n){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(n){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(n,t)}function cb(n,t){function v(){if(!t)return null;var n,i=t.match(/^([^<]*)(<[^>]*>?)?/);return n=i[1]?i[1]:i[2],t=t.substr(n.length),n}function y(t,i){var f=srt[t],r,u;return f?(r=n.document.createElement(f),u=hrt[t],u&&i&&(r[u]=i.trim()),r):null}for(var r,s,f,h,i,o,c,l,a=n.document.createElement("div"),u=a,e=[];null!==(i=v());)if("<"!==i[0])u.appendChild(n.document.createTextNode((o=i,tl.innerHTML=o,o=tl.textContent,tl.textContent="",o)));else{if("/"===i[1]){e.length&&e[e.length-1]===i.substr(2).replace(">","")&&(e.pop(),u=u.parentNode);continue}if(s=nl(i.substr(1,i.length-2)),s){r=n.document.createProcessingInstruction("timestamp",s);u.appendChild(r);continue}if(f=i.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/),!f)continue;if(!(r=y(f[1],f[3])))continue;if(c=u,hb[(l=r).localName]&&hb[l.localName]!==c.localName)continue;f[2]&&(h=f[2].split("."),h.forEach(function(n){var t=/^bg_/.test(n),i=t?n.slice(3):n,u,f;sb.hasOwnProperty(i)&&(u=t?"background-color":"color",f=sb[i],r.style[u]=f)}),r.className=h.join(" "));e.push(f[1]);u.appendChild(r);u=r}return a}function crt(n){for(var i,t=0;t<il.length;t++)if(i=il[t],n>=i[0]&&n<=i[1])return!0;return!1}function oo(){}function rl(n,t,i){var u,r;oo.call(this);this.cue=t;this.cueDiv=cb(n,t.text);u={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(u,this.cueDiv);this.div=n.document.createElement("div");u={direction:function(n){function f(n,t){for(var i=t.childNodes.length-1;0<=i;i--)n.push(t.childNodes[i])}function r(n){var t,i,u;return!n||!n.length?null:(t=n.pop(),i=t.textContent||t.innerText,i)?(u=i.match(/^.*(\n|\r)/),u?u[n.length=0]:i):"ruby"===t.tagName?r(n):t.childNodes?(f(n,t),r(n)):void 0}var u=[],i="",t;if(!n||!n.childNodes)return"ltr";for(f(u,n);i=r(u);)for(t=0;t<i.length;t++)if(crt(i.charCodeAt(t)))return"rtl";return"ltr"}(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};this.applyStyles(u);this.div.appendChild(this.cueDiv);r=0;switch(t.positionAlign){case"start":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")});this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}function ft(n){var i,r,f,u,t;n.div&&(r=n.div.offsetHeight,f=n.div.offsetWidth,u=n.div.offsetTop,t=(t=n.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects(),n=n.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,n.height/t.length):0);this.left=n.left;this.right=n.right;this.top=n.top||u;this.height=n.height||r;this.bottom=n.bottom||u+(n.height||r);this.width=n.width||f;this.lineHeight=void 0!==i?i:n.lineHeight}function lrt(n,t,i,r){var s=new ft(t),e=t.cue,f=function(n){if("number"==typeof n.line&&(n.snapToLines||0<=n.line&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;for(var r=n.track,i=r.textTrackList,u=0,t=0;t<i.length&&i[t]!==r;t++)"showing"===i[t].mode&&u++;return-1*++u}(e),u=[],h,l,v;if(e.snapToLines){switch(e.vertical){case"":u=["+y","-y"];h="height";break;case"rl":u=["+x","-x"];h="width";break;case"lr":u=["-x","+x"];h="width"}var c=s.lineHeight,o=c*Math.round(f),a=i[h]+c,y=u[0];Math.abs(o)>a&&(o=o<0?-1:1,o*=Math.ceil(a/c)*c);f<0&&(o+=""===e.vertical?i.height:i.width,u=u.reverse());s.move(y,o)}else{l=s.lineHeight/i.height*100;switch(e.lineAlign){case"center":f-=l/2;break;case"end":f-=l}switch(e.vertical){case"":t.applyStyles({top:t.formatStyle(f,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(f,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(f,"%")})}u=["+y","-x","+x","-y"];s=new ft(t)}v=function(n,t){for(var f,e,o=new ft(n),s=1,u=0;u<t.length;u++){for(;n.overlapsOppositeAxis(i,t[u])||n.within(i)&&n.overlapsAny(r);)n.move(t[u]);if(n.within(i))return n;f=n.intersectPercentage(i);f<s&&(e=new ft(n),s=f);n=new ft(o)}return e||o}(s,u);t.move(v.toCSSCompatValues(i))}function df(){}function ul(n){return"string"==typeof n&&!!yrt[n.toLowerCase()]&&n.toLowerCase()}function lb(n,t,i){this.hasBeenReset=!1;var r="",u=!1,f=n,e=t,o=i,s=null,h="",c=!0,l="auto",a="start",v="auto",y="auto",p=100,w="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(n){r=""+n}},pauseOnExit:{enumerable:!0,get:function(){return u},set:function(n){u=!!n}},startTime:{enumerable:!0,get:function(){return f},set:function(n){if("number"!=typeof n)throw new TypeError("Start time must be set to a number.");f=n;this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return e},set:function(n){if("number"!=typeof n)throw new TypeError("End time must be set to a number.");e=n;this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(n){o=""+n;this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return s},set:function(n){s=n;this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return h},set:function(n){var t=function(n){return"string"==typeof n&&!!vrt[n.toLowerCase()]&&n.toLowerCase()}(n);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");h=t;this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(n){c=!!n;this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return l},set:function(n){if("number"!=typeof n&&"auto"!==n)throw new SyntaxError("Line: an invalid number or illegal string was specified.");l=n;this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return a},set:function(n){var t=ul(n);t&&(a=t,this.hasBeenReset=!0)}},position:{enumerable:!0,get:function(){return v},set:function(n){if(n<0||100<n)throw new Error("Position must be between 0 and 100.");v=n;this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(n){var t=ul(n);t&&(y=t,this.hasBeenReset=!0)}},size:{enumerable:!0,get:function(){return p},set:function(n){if(n<0||100<n)throw new Error("Size must be between 0 and 100.");p=n;this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return w},set:function(n){var t=ul(n);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");w=t;this.hasBeenReset=!0}}});this.displayState=void 0}function gf(n){return"number"==typeof n&&0<=n&&n<=100}function prt(){var n=100,t=3,i=0,r=100,u=0,f=100,e="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(t){if(!gf(t))throw new Error("Width must be between 0 and 100.");n=t}},lines:{enumerable:!0,get:function(){return t},set:function(n){if("number"!=typeof n)throw new TypeError("Lines must be set to a number.");t=n}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(n){if(!gf(n))throw new Error("RegionAnchorX must be between 0 and 100.");r=n}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(n){if(!gf(n))throw new Error("RegionAnchorY must be between 0 and 100.");i=n}},viewportAnchorY:{enumerable:!0,get:function(){return f},set:function(n){if(!gf(n))throw new Error("ViewportAnchorY must be between 0 and 100.");f=n}},viewportAnchorX:{enumerable:!0,get:function(){return u},set:function(n){if(!gf(n))throw new Error("ViewportAnchorX must be between 0 and 100.");u=n}},scroll:{enumerable:!0,get:function(){return e},set:function(n){var t=function(n){return"string"==typeof n&&!!vb[n.toLowerCase()]&&n.toLowerCase()}(n);!1===t||(e=t)}}})}function wrt(n,t,i){n.setTimeout(function(){return function i(n,t,r,u,f,e){var s;void 0===n&&(n={});void 0===t&&(t=[]);void 0===f&&(f=[]);void 0===e&&(e=!1);var c=t,h=c[0],o=c.slice(1);if("string"==typeof h)i(n,er[h],r,u,f,e);else if(h){if(s=drt(u,h),!s.setSource)return f.push(s),i(n,o,r,u,f,e);s.setSource(y({},n),function(t,h){if(t)return i(n,o,r,u,f,e);f.push(s);i(h,n.type===h.type?o:er[h.type],r,u,f,e)})}else o.length?i(n,o,r,u,f,e):e?r(n,f):i(n,er["*"],r,u,f,!0)}(t,er[t.type],i,n)},1)}function yb(n,t,i,r){void 0===r&&(r=null);var o="call"+b(i),u=n.reduce(el(o),r),f=u===so,e=f?null:t[i](u);return function(n,t,i,r){for(var f,u=n.length-1;0<=u;u--)f=n[u],f[t]&&f[t](r,i)}(n,i,e,f),e}function el(n){return function(t,i){return t===so?so:i[n]?i[n](t):t}}function drt(n,t){var r=fl[n.id()],i=null,u;if(null==r)return i=t(n),fl[n.id()]=[[t,i]],i;for(u=0;u<r.length;u++){var f=r[u],e=f[0],o=f[1];e===t&&(i=o)}return null===i&&(i=t(n),r.push([t,i])),i}function ho(n){void 0===n&&(n="");var t=kc(n);return wb[t.toLowerCase()]||""}function bb(n){if(!n.type){var t=ho(n.src);t&&(n.type=t)}return n}function ol(n,t){var i;if(4===n.length)i=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else{if(7!==n.length)throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");i=n.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function sl(n,t,i){try{n.style[t]=i}catch(n){return}}function rk(n,t){n=n<0?0:n;var i=Math.floor(n%60),r=Math.floor(n/60%60),u=Math.floor(n/3600),f=Math.floor(t/60%60),e=Math.floor(t/3600);return!isNaN(n)&&n!==1/0||(u=r=i="-"),(u=0<u||0<e?u+":":"")+(r=((u||10<=f)&&r<10?"0"+r:r)+":")+(i=i<10?"0"+i:i)}function su(n,t){return void 0===t&&(t=n),co(n,t)}function al(n,t,i){return n=Number(n),Math.min(i,Math.max(t,isNaN(n)?t:n))}function vl(n,t){return al(n/t*100,0,100).toFixed(2)+"%"}function gk(n,t){if(t&&(n=t(n)),n&&"none"!==n)return n}function la(n){var f=n.el(),i,r;if(f.hasAttribute("src"))return n.triggerSourceset(f.src),!0;var u=n.$$("source"),t=[],e="";if(!u.length)return!1;for(i=0;i<u.length;i++)r=u[i].src,r&&-1===t.indexOf(r)&&t.push(r);return!!t.length&&(1===t.length&&(e=t[0]),n.triggerSourceset(e),!0)}function rd(n,t){for(var i={},r=0;r<n.length&&!((i=Object.getOwnPropertyDescriptor(n[r],t))&&i.set&&i.get);r++);return i.enumerable=!0,i.configurable=!0,i}function ud(t){var i=t.el();if(!i.resetSourceWatch_){var r={},u=function(t){return rd([t.el(),n.HTMLMediaElement.prototype,n.Element.prototype,nut],"innerHTML")}(t),f=function(n){return function(){for(var e,u=arguments.length,f=new Array(u),r=0;r<u;r++)f[r]=arguments[r];return e=n.apply(i,f),la(t),e}};["append","appendChild","insertAdjacentHTML"].forEach(function(n){i[n]&&(r[n]=i[n],i[n]=f(r[n]))});Object.defineProperty(i,"innerHTML",v(u,{set:f(u.set)}));i.resetSourceWatch_=function(){i.resetSourceWatch_=null;Object.keys(r).forEach(function(n){i[n]=r[n]});Object.defineProperty(i,"innerHTML",u)};t.one("sourceset",i.resetSourceWatch_)}}function grt(t){var i;if(t.featuresSourceset&&(i=t.el(),!i.resetSourceset_)){var r=function(t){return rd([t.el(),n.HTMLMediaElement.prototype,tut],"src")}(t),u=i.setAttribute,f=i.load;Object.defineProperty(i,"src",v(r,{set:function(n){var u=r.set.call(i,n);return t.triggerSourceset(i.src),u}}));i.setAttribute=function(n,r){var f=u.call(i,n,r);return/src/i.test(n)&&t.triggerSourceset(i.src),f};i.load=function(){var n=f.call(i);return la(t)||(t.triggerSourceset(""),ud(t)),n};i.currentSrc?t.triggerSourceset(i.currentSrc):la(t)||ud(t);i.resetSourceset_=function(){i.resetSourceset_=null;i.load=f;i.setAttribute=u;Object.defineProperty(i,"src",r);i.resetSourceWatch_&&i.resetSourceWatch_()}}}function aa(n,t,i,r){function u(i){return Object.defineProperty(n,t,{value:i,enumerable:!0,writable:!0})}void 0===r&&(r=!0);var f={configurable:!0,enumerable:!0,get:function(){var n=i();return u(n),n}};return r&&(f.set=u),Object.defineProperty(n,t,f)}function cs(n){return vu.hasOwnProperty(n)}function ls(n){if(cs(n))return vu[n]}function od(n,t){n[au]=n[au]||{};n[au][t]=!0}function as(n,t,i){var r=(i?"before":"")+"pluginsetup";n.trigger(r,t);n.trigger(r+":"+t.name,t)}function sd(n,t){return t.prototype.name=n,function(){var r;as(this,{name:n,plugin:t,instance:null},!0);for(var u=arguments.length,f=new Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=iut(t,[this].concat(f)),this[n]=function(){return r},as(this,r.getEventHash()),r}}function i(n,t,u){var e=i.getPlayer(n),f,o;if(e)return t&&h.warn('Player "'+n+'" is already initialised. Options will not be applied.'),u&&e.ready(u),e;if(f="string"==typeof n?vi("#"+pa(n)):n,!hf(f))throw new TypeError("The element or ID supplied is not valid. (videojs)");return f.ownerDocument.defaultView&&f.ownerDocument.body.contains(f)||h.warn("The element supplied is not included in the DOM"),t=t||{},i.hooks("beforesetup").forEach(function(n){var i=n(f,v(t));ai(i)&&!Array.isArray(i)?t=v(t,i):h.error("please return an object in beforesetup hooks")}),o=r.getComponent("Player"),e=new o(f,t,u),i.hooks("setup").forEach(function(n){return n(e)}),e}function ld(){return(ld=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n}).apply(this,arguments)}function ba(n,t){n.prototype=Object.create(t.prototype);(n.prototype.constructor=n).__proto__=t}function ue(n){for(var t,i=n.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),u={},r=i.length;r--;)""!==i[r]&&((t=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),u[t[0]]=t[1]);return u}function ad(n){return!!n&&"object"==typeof n}function ct(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.reduce(function(n,t){return Object.keys(t).forEach(function(i){n[i]=Array.isArray(n[i])&&Array.isArray(t[i])?n[i].concat(t[i]):ad(n[i])&&ad(t[i])?ct(n[i],t[i]):t[i]}),n},{})}function ps(n){return n.reduce(function(n,t){return n.concat(t)},[])}function vd(n){if(!n.length)return[];for(var i=[],t=0;t<n.length;t++)i.push(n[t]);return i}function da(t,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(t)||(t=gd.buildAbsoluteURL(n.location.href,t)),gd.buildAbsoluteURL(t,i))}function fe(n){var t=n.baseUrl,l=void 0===t?"":t,i=n.source,r=void 0===i?"":i,u=n.range,f=void 0===u?"":u,e=n.indexRange,o=void 0===e?"":e,s={uri:r,resolvedUri:da(l||"",r)};if(f||o){var h=(f||o).split("-"),c=parseInt(h[0],10),a=parseInt(h[1],10);s.byterange={length:a-c+1,offset:c}}return s}function ga(n){var r=n.type,u=void 0===r?"static":r,o=n.duration,f=n.timescale,s=void 0===f?1:f,h=n.sourceDuration,e=but[u](n),t=function(n,t){for(var r=[],i=n;i<t;i++)r.push(i);return r}(e.start,e.end).map(function(n){return function(t,i){var r=n.duration,u=n.timescale,e=void 0===u?1:u,o=n.periodIndex,f=n.startNumber;return{number:(void 0===f?1:f)+t,duration:r/e,timeline:o,time:i*r}}}(n)),i;return"static"===u&&(i=t.length-1,t[i].duration=h-o/s*i),t}function pd(n){var i=n.baseUrl,u=n.initialization,f=void 0===u?{}:u,e=n.sourceDuration,o=n.timescale,c=void 0===o?1:o,s=n.indexRange,l=void 0===s?"":s,a=n.duration,h,t,r;if(!i)throw new Error(sut);return h=fe({baseUrl:i,source:f.sourceURL,range:f.range}),t=fe({baseUrl:i,source:i,indexRange:l}),(t.map=h,a)?(r=ga(n),r.length&&(t.duration=r[0].duration,t.timeline=r[0].timeline)):e&&(t.duration=e/c,t.timeline=0),t.number=0,[t]}function lut(n,t,i){for(var f=n.sidx.map?n.sidx.map:null,a=n.sidx.duration,e=n.timeline||0,o=n.sidx.byterange,v=o.offset+o.length,y=t.timescale,p=t.references.filter(function(n){return 1!==n.referenceType}),s=[],r=v+t.firstOffset,u=0;u<p.length;u++){var h=t.references[u],c=h.referencedSize,w=h.subsegmentDuration,l=pd({baseUrl:i,timescale:y,timeline:e,periodIndex:e,duration:w,sourceDuration:a,indexRange:r+"-"+(r+c-1)})[0];f&&(l.map=f);s.push(l);r+=c}return n.segments=s,n}function wd(n){return function(n){return Object.keys(n).map(function(t){return n[t]})}(n.reduce(function(n,t){var r,i=t.attributes.id+(t.attributes.lang||"");return n[i]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(r=n[i].segments).push.apply(r,t.segments),t.attributes.contentProtection&&(n[i].attributes.contentProtection=t.attributes.contentProtection)):n[i]=t,n},{})).map(function(n){return n.discontinuityStarts=function(n,t){return n.reduce(function(n,i,r){return i[t]&&n.push(r),n},[])}(n.segments,"discontinuity"),n})}function nv(n,t){var e,i,u,f,r,o;if(void 0===t&&(t={}),!Object.keys(t).length)return n;for(e in n)i=n[e],i.sidx&&(u=i.sidx.uri+"-"+(r=i.sidx.byterange,void 0,o=r.offset+r.length-1,r.offset+"-"+o),f=t[u]&&t[u].sidx,i.sidx&&f&&lut(i,f,i.sidx.resolvedUri));return n}function aut(n){var i,t=n.attributes,r=n.segments,f=n.sidx,u={attributes:(i={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:r,mediaSequence:r.length?r[0].number:1};return t.contentProtection&&(u.contentProtection=t.contentProtection),f&&(u.sidx=f),u}function vut(n,t){var i;if(void 0===t&&(t={}),!n.length)return{};var u=n[0].attributes,s=u.sourceDuration,f=u.minimumUpdatePeriod,h=void 0===f?0:f,c=wd(n.filter(function(n){var t=n.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType})).map(aut),e=wd(n.filter(function(n){var t=n.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType})),o=n.filter(function(n){var t=n.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),r={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:s,playlists:nv(c,t),minimumUpdatePeriod:1e3*h};return e.length&&(r.mediaGroups.AUDIO.audio=function(n,t){var r,i;return void 0===t&&(t={}),i=n.reduce(function(n,i){var u=i.attributes.role&&i.attributes.role.value||"",e=i.attributes.lang||"",f="main",o;return e&&(o=u?" ("+u+")":"",f=i.attributes.lang+o),n[f]&&n[f].playlists[0].attributes.BANDWIDTH>i.attributes.bandwidth||(n[f]={language:e,autoselect:!0,"default":"main"===u,playlists:nv([function(n){var i,t=n.attributes,r=n.segments,f=n.sidx,u={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:r,mediaSequence:r.length?r[0].number:1};return t.contentProtection&&(u.contentProtection=t.contentProtection),f&&(u.sidx=f),u}(i)],t),uri:""},"undefined"==typeof r&&"main"===u&&((r=i).default=!0)),n},{}),r||(i[Object.keys(i)[0]].default=!0),i}(e,t)),o.length&&(r.mediaGroups.SUBTITLES.subs=function(n,t){return void 0===t&&(t={}),n.reduce(function(n,i){var r=i.attributes.lang||"text";return n[r]||(n[r]={language:r,"default":!1,autoselect:!1,playlists:nv([function(n){var r,t=n.attributes,i=n.segments;return"undefined"==typeof i&&(i=[{uri:t.baseUrl,timeline:t.periodIndex,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),{attributes:(r={NAME:t.id,BANDWIDTH:t.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:"static"===(t.type||"static"),timeline:t.periodIndex,resolvedUri:t.baseUrl||"",targetDuration:t.duration,segments:i,mediaSequence:i.length?i[0].number:1}}(i)],t),uri:""}),n},{})}(o,t)),r}function bd(n,t){for(var s,y,ct,h,r,p,w,b,k,d,c,g,l,nt,a,tt,it=n.type,lt=void 0===it?"static":it,rt=n.minimumUpdatePeriod,at=void 0===rt?0:rt,ut=n.media,vt=void 0===ut?"":ut,yt=n.sourceDuration,ft=n.timescale,et=void 0===ft?1:ft,ot=n.startNumber,st=void 0===ot?1:ot,pt=n.periodIndex,f=[],i=-1,e=0;e<t.length;e++){var v=t[e],u=v.d,ht=v.r||0,o=v.t||0;for(i<0&&(i=o),o&&i<o&&(i=o),s=void 0,ht<0?(y=e+1,s=y===t.length?"dynamic"===lt&&0<at&&0<vt.indexOf("$Number$")?(p=i,w=u,void 0,b=(r=n).NOW,k=r.clientOffset,d=r.availabilityStartTime,c=r.timescale,g=void 0===c?1:c,l=r.start,nt=void 0===l?0:l,a=r.minimumUpdatePeriod,tt=(b+k)/1e3+(void 0===a?0:a)-(d+nt),Math.ceil((tt*g-p)/w)):(yt*et-i)/u:(t[y].t-i)/u):s=ht+1,ct=st+f.length+s,h=st+f.length;h<ct;)f.push({number:h,duration:u/et,time:i,timeline:pt}),i+=u,h++}return f}function kd(n,t){return n.replace(kut,function(n){return function(t,i,r,u){if("$$"===t)return"$";if("undefined"==typeof n[i])return t;var f=""+n[i];return"RepresentationID"===i?f:(u=r?parseInt(u,10):1)<=f.length?f:new Array(u-f.length+1).join("0")+f}}(t))}function yut(n,t){var i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},r=n.initialization,u=void 0===r?{sourceURL:"",range:""}:r,f=fe({baseUrl:n.baseUrl,source:kd(u.sourceURL,i),range:u.range});return function(n,t){return n.duration||t?n.duration?ga(n):bd(n,t):[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodIndex}]}(n,t).map(function(t){i.Number=t.number;i.Time=t.time;var r=kd(n.media||"",i);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:da(n.baseUrl||"",r),map:f,number:t.number}})}function put(n,t){var i=n.duration,f=n.segmentUrls,e=void 0===f?[]:f,r,u;if(!i&&!t||i&&t)throw new Error(hut);return u=e.map(function(t){return function(n,t){var i=n.baseUrl,r=n.initialization,u=void 0===r?{}:r,e=fe({baseUrl:i,source:u.sourceURL,range:u.range}),f=fe({baseUrl:i,source:t.media,range:t.mediaRange});return f.map=e,f}(n,t)}),i&&(r=ga(n)),t&&(r=bd(n,t)),r.map(function(n,t){if(u[t]){var i=u[t];return i.timeline=n.timeline,i.duration=n.duration,i.number=n.number,i}}).filter(function(n){return n})}function wut(n){var t,u,e=n.attributes,i=n.segmentInfo,r,f;if(i.template?(u=yut,t=ct(e,i.template)):i.base?(u=pd,t=ct(e,i.base)):i.list&&(u=put,t=ct(e,i.list)),r={attributes:e},!u)return r;if(f=u(t,i.timeline),t.duration){var o=t,h=o.duration,s=o.timescale,c=void 0===s?1:s;t.duration=h/c}else t.duration=f.length?f.reduce(function(n,t){return Math.max(n,Math.ceil(t.duration))},0):0;return r.attributes=t,r.segments=f,i.base&&t.indexRange&&(r.sidx=f[0],r.segments=[]),r}function g(n,t){return vd(n.childNodes).filter(function(n){return n.tagName===t})}function dd(n){return n.textContent.trim()}function ee(n){var i=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!i)return 0;var t=i.slice(1),r=t[0],u=t[1],f=t[2],e=t[3],o=t[4],s=t[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(u||0)+86400*parseFloat(f||0)+3600*parseFloat(e||0)+60*parseFloat(o||0)+parseFloat(s||0)}function et(n){return n&&n.attributes?vd(n.attributes).reduce(function(n,t){var i=ng[t.name]||ng.DEFAULT;return n[t.name]=i(t.value),n},{}):{}}function ws(n,t){return t.length?ps(n.map(function(n){return t.map(function(t){return da(n,dd(t))})})):n}function iv(n){var f=g(n,"SegmentTemplate")[0],i=g(n,"SegmentList")[0],c=i&&g(i,"SegmentURL").map(function(n){return ct({tag:"SegmentURL"},et(n))}),e=g(n,"SegmentBase")[0],o=i||f,s=o&&g(o,"SegmentTimeline")[0],h=i||e||f,r=h&&g(h,"Initialization")[0],t=f&&et(f),u;return t&&r?t.initialization=r&&et(r):t&&t.initialization&&(t.initialization={sourceURL:t.initialization}),u={template:t,timeline:s&&g(s,"S").map(function(n){return et(n)}),list:i&&ct(et(i),{segmentUrls:c,initialization:et(r)}),base:e&&ct(et(e),{initialization:et(r)})},Object.keys(u).forEach(function(n){u[n]||delete u[n]}),u}function dut(t){return t.reduce(function(t,i){var e=et(i),r=ift[e.schemeIdUri],u,f,o;return r&&(t[r]={attributes:e},u=g(i,"cenc:pssh")[0],u&&(f=dd(u),o=f&&function(t){for(var r=n.atob(t),u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r.charCodeAt(i);return u}(f),t[r].pssh=o)),t},{})}function gut(n,t,i){return function(r){var e=et(r),o=ws(t,g(r,"BaseURL")),s=g(r,"Role")[0],h={role:et(s)},u=ct(n,e,h),f=dut(g(r,"ContentProtection"));Object.keys(f).length&&(u=ct(u,{contentProtection:f}));var c=iv(r),l=g(r,"Representation"),a=ct(i,c);return ps(l.map(function(n,t,i){return function(r){var u=g(r,"BaseURL"),f=ws(t,u),e=ct(n,et(r)),o=iv(r);return f.map(function(n){return{segmentInfo:ct(i,o),attributes:ct(e,{baseUrl:n})}})}}(u,o,a)))}}function nft(t,i){var r,h;void 0===i&&(i={});var u=i,f=u.manifestUri,c=void 0===f?"":f,e=u.NOW,l=void 0===e?Date.now():e,o=u.clientOffset,a=void 0===o?0:o,s=g(t,"Period");if(!s.length)throw new Error(fut);return r=et(t),h=ws([c],g(t,"BaseURL")),r.sourceDuration=r.mediaPresentationDuration||0,r.NOW=l,r.clientOffset=a,ps(s.map(function(t,i){return function(r,u){var e=ws(i,g(r,"BaseURL")),o=et(r),f=parseInt(o.id,10),s=n.isNaN(f)?u:f,h=ct(t,{periodIndex:s}),c=g(r,"AdaptationSet"),l=iv(r);return ps(c.map(gut(h,e,l)))}}(r,h)))}function tg(t){if(""===t)throw new Error(eut);var r=(new n.DOMParser).parseFromString(t,"application/xml"),i=r&&"MPD"===r.documentElement.tagName?r.documentElement:null;if(!i||i&&0<i.getElementsByTagName("parsererror").length)throw new Error(out);return i}function ig(n,t){return void 0===t&&(t={}),vut(function(n){return n.map(wut)}(nft(tg(n),t)),t.sidxMapping)}function tft(n){return function(n){var i=g(n,"UTCTiming")[0],t;if(!i)return null;t=et(i);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT";t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(cut);}return t}(tg(n))}function kt(n){return new Date(1e3*n-20828448e5)}function rg(n){return{isLeading:(12&n[0])>>>2,dependsOn:3&n[0],isDependedOn:(192&n[1])>>>6,hasRedundancy:(48&n[1])>>>4,paddingValue:(14&n[1])>>>1,isNonSyncSample:1&n[1],degradationPriority:n[2]<<8|n[3]}}function yu(n){var t="";return t+=String.fromCharCode(n[0]),t+=String.fromCharCode(n[1]),t+=String.fromCharCode(n[2]),t+String.fromCharCode(n[3])}function cr(){this.init=function(){var n={};this.on=function(t,i){n[t]||(n[t]=[]);n[t]=n[t].concat(i)};this.off=function(t,i){var r;return!!n[t]&&(r=n[t].indexOf(i),n[t]=n[t].slice(),n[t].splice(r,1),-1<r)};this.trigger=function(t){var r,i,u,f;if(r=n[t])if(2===arguments.length)for(u=r.length,i=0;i<u;++i)r[i].call(this,arguments[1]);else{for(f=[],i=arguments.length,i=1;i<arguments.length;++i)f.push(arguments[i]);for(u=r.length,i=0;i<u;++i)r[i].apply(this,f)}};this.dispose=function(){n={}}}}function dt(){dt.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new w(0,0),new w(0,1),new w(1,0),new w(1,1)];this.reset();this.ccStreams_.forEach(function(n){n.on("data",this.trigger.bind(this,"data"));n.on("partialdone",this.trigger.bind(this,"partialdone"));n.on("done",this.trigger.bind(this,"done"))},this)}function ks(n){return null===n?"":(n=hft[n]||n,String.fromCharCode(n))}function lr(){for(var n=[],t=15;t--;)n.push("");return n}function lft(n,t){for(var r,u=n,i=0;i<t.length;i++){if(r=t[i],u<r.size)return r;u-=r.size}return null}function aft(n,t){var u=ci.findBox(n,["moof","traf"]),f=ci.findBox(n,["mdat"]),i={},r=[];return f.forEach(function(n,t){var i=u[t];r.push({mdat:n,traf:i})}),r.forEach(function(n){var f,h=n.mdat,u=n.traf,c=ci.findBox(u,["tfhd"]),e=l.parseTfhd(c[0]),r=e.trackId,o=ci.findBox(u,["tfdt"]),a=0<o.length?l.parseTfdt(o[0]).baseMediaDecodeTime:0,s=ci.findBox(u,["trun"]);t===r&&0<s.length&&(f=function(n,t,i){for(var u,f,o,c=new DataView(n.buffer,n.byteOffset,n.byteLength),h=[],s,e,r=0;r+4<n.length;r+=f)if(f=c.getUint32(r),r+=4,!(f<=0))switch(31&n[r]){case 6:s=n.subarray(r+1,r+1+f);e=lft(r,t);u={nalUnitType:"sei_rbsp",size:f,data:s,escapedRBSP:yft(s),trackId:i};e?(u.pts=e.pts,u.dts=e.dts,o=e):(u.pts=o.pts,u.dts=o.dts);h.push(u)}return h}(h,function(n,t,i){var r=t,f=i.defaultSampleDuration||0,e=i.defaultSampleSize||0,o=i.trackId,u=[];return n.forEach(function(n){var t=l.parseTrun(n).samples;t.forEach(function(n){void 0===n.duration&&(n.duration=f);void 0===n.size&&(n.size=e);n.trackId=o;n.dts=r;void 0===n.compositionTimeOffset&&(n.compositionTimeOffset=0);n.pts=r+n.compositionTimeOffset;r+=n.duration});u=u.concat(t)}),u}(s,a,e),r),i[r]||(i[r]=[]),i[r]=i[r].concat(f))}),i}function vft(n,t){var i=1;for(t<n&&(i=-1);4294967296<Math.abs(t-n);)n+=8589934592*i;return n}function vg(n){var t=31&n[1];return t<<=8,t|n[2]}function ds(n){return!!(64&n[1])}function gs(n){var t=0;return 1<(48&n[3])>>>4&&(t+=n[4]+1),t}function uv(n){switch(n){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}}function yg(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]}function uet(n,t,i){for(var u,s,h,e,f=0,r=ot,o=!1;r<=n.byteLength;)if(71!==n[f]||71!==n[r]&&r!==n.byteLength)f++,r++;else{switch(u=n.subarray(f,r),c.ts.parseType(u,t.pid)){case"pes":s=c.ts.parsePesType(u,t.table);h=c.ts.parsePayloadUnitStartIndicator(u);"audio"===s&&h&&(e=c.ts.parsePesTime(u))&&(e.type="audio",i.audio.push(e),o=!0)}if(o)break;f+=ot;r+=ot}for(f=(r=n.byteLength)-ot,o=!1;0<=f;)if(71!==n[f]||71!==n[r]&&r!==n.byteLength)f--,r--;else{switch(u=n.subarray(f,r),c.ts.parseType(u,t.pid)){case"pes":s=c.ts.parsePesType(u,t.table);h=c.ts.parsePayloadUnitStartIndicator(u);"audio"===s&&h&&(e=c.ts.parsePesTime(u))&&(e.type="audio",i.audio.push(e),o=!0)}if(o)break;f-=ot;r-=ot}}function fet(n,t,i){for(var p,r,l,h,o,a,v,y,u=0,f=ot,s=!1,e={data:[],size:0};f<n.byteLength;)if(71!==n[u]||71!==n[f])u++,f++;else{switch(r=n.subarray(u,f),c.ts.parseType(r,t.pid)){case"pes":if(l=c.ts.parsePesType(r,t.table),h=c.ts.parsePayloadUnitStartIndicator(r),"video"===l&&(h&&!s&&(o=c.ts.parsePesTime(r))&&(o.type="video",i.video.push(o),s=!0),!i.firstKeyFrame)){if(h&&0!==e.size){for(a=new Uint8Array(e.size),v=0;e.data.length;)y=e.data.shift(),a.set(y,v),v+=y.byteLength;c.ts.videoPacketContainsKeyFrame(a)&&(p=c.ts.parsePesTime(a),p&&(i.firstKeyFrame=p,i.firstKeyFrame.type="video"));e.size=0}e.data.push(r);e.size+=r.byteLength}}if(s&&i.firstKeyFrame)break;u+=ot;f+=ot}for(u=(f=n.byteLength)-ot,s=!1;0<=u;)if(71!==n[u]||71!==n[f])u--,f--;else{switch(r=n.subarray(u,f),c.ts.parseType(r,t.pid)){case"pes":l=c.ts.parsePesType(r,t.table);h=c.ts.parsePayloadUnitStartIndicator(r);"video"===l&&h&&(o=c.ts.parsePesTime(r))&&(o.type="video",i.video.push(o),s=!0)}if(s)break;u-=ot;f-=ot}}function eet(n){var i={pid:null,table:null},t={};for(var r in function(n,t){for(var r,u=0,i=ot;i<n.byteLength;)if(71!==n[u]||71!==n[i])u++,i++;else{switch(r=n.subarray(u,i),c.ts.parseType(r,t.pid)){case"pat":t.pid||(t.pid=c.ts.parsePat(r));break;case"pmt":t.table||(t.table=c.ts.parsePmt(r))}if(t.pid&&t.table)return;u+=ot;i+=ot}}(n,i),i.table)if(i.table.hasOwnProperty(r))switch(i.table[r]){case lg:t.video=[];fet(n,i,t);0===t.video.length&&delete t.video;break;case ag:t.audio=[];uet(n,i,t);0===t.audio.length&&delete t.audio}return t}function nh(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function wg(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function fv(n){nh(this,fv);pt=pt||function(){for(var h=[[[],[],[],[],[]],[[],[],[],[],[]]],f=h[0],e=h[1],l=f[4],y=e[4],n=void 0,i=void 0,t=void 0,u=[],a=[],c=void 0,v=void 0,r=void 0,o=void 0,s=void 0,n=0;n<256;n++)a[(u[n]=n<<1^283*(n>>7))^n]=n;for(i=t=0;!l[i];i^=c||1,t=a[t]||1)for(r=(r=t^t<<1^t<<2^t<<3^t<<4)>>8^255&r^99,s=16843009*u[v=u[c=u[y[l[i]=r]=i]]]^65537*v^257*c^16843008*i,o=257*u[r]^16843008*r,n=0;n<4;n++)f[n][i]=o=o<<24^o>>>8,e[n][r]=s=s<<24^s>>>8;for(n=0;n<5;n++)f[n]=f[n].slice(0),e[n]=e[n].slice(0);return h}();this._tables=[[pt[0][0].slice(),pt[0][1].slice(),pt[0][2].slice(),pt[0][3].slice(),pt[0][4].slice()],[pt[1][0].slice(),pt[1][1].slice(),pt[1][2].slice(),pt[1][3].slice(),pt[1][4].slice()]];var i=void 0,e=void 0,t=void 0,f=void 0,h=void 0,u=this._tables[0][4],o=this._tables[1],r=n.length,s=1;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size");for(f=n.slice(0),h=[],this._key=[f,h],i=r;i<4*r+28;i++)t=f[i-1],(i%r==0||8===r&&i%r==4)&&(t=u[t>>>24]<<24^u[t>>16&255]<<16^u[t>>8&255]<<8^u[255&t],i%r==0&&(t=t<<8^t>>>24^s<<24,s=s<<1^283*(s>>7))),f[i]=f[i-r]^t;for(e=0;i;e++,i--)t=f[3&e?i:i-4],h[e]=i<=4||e<4?t:o[0][u[t>>>24]]^o[1][u[t>>16&255]]^o[2][u[t>>8&255]]^o[3][u[255&t]]}function vr(){nh(this,vr);this.listeners={}}function se(){nh(this,se);var n=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,kg.call(this,ev));return n.jobs=[],n.delay=1,n.timeout_=null,n}function gt(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24}function dg(n,t,i){var f=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),p=new bg(Array.prototype.slice.call(t)),y=new Uint8Array(n.byteLength),u=new Int32Array(y.buffer),e=void 0,o=void 0,s=void 0,h=void 0,c=void 0,l=void 0,a=void 0,v=void 0,r=void 0;for(e=i[0],o=i[1],s=i[2],h=i[3],r=0;r<f.length;r+=4)c=gt(f[r]),l=gt(f[r+1]),a=gt(f[r+2]),v=gt(f[r+3]),p.decrypt(c,l,a,v,u,r),u[r]=gt(u[r]^e),u[r+1]=gt(u[r+1]^o),u[r+2]=gt(u[r+2]^s),u[r+3]=gt(u[r+3]^h),e=c,o=l,s=a,h=v;return y}function he(n,t,i,r){nh(this,he);var e=he.STEP,f=new Int32Array(n.buffer),o=new Uint8Array(n.byteLength),u=0;for(this.asyncStream_=new ov,this.asyncStream_.push(this.decryptChunk_(f.subarray(u,u+e),t,i,o)),u=e;u<f.length;u+=e)i=new Uint32Array([gt(f[u-4]),gt(f[u-3]),gt(f[u-2]),gt(f[u-1])]),this.asyncStream_.push(this.decryptChunk_(f.subarray(u,u+e),t,i,o));this.asyncStream_.push(function(){r(null,function(n){return n.subarray(0,n.byteLength-n[n.byteLength-1])}(o))})}function yr(t,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(t)||(t=wa.buildAbsoluteURL(n.location.href,t)),wa.buildAbsoluteURL(t,i))}function th(n,t,i){return n&&i.responseURL&&t!==i.responseURL?i.responseURL:t}function ni(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function nn(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function li(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function fi(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function ih(n,t){["AUDIO","SUBTITLES"].forEach(function(i){var r,u,f;for(r in n.mediaGroups[i])for(u in n.mediaGroups[i][r])f=n.mediaGroups[i][r][u],t(f,i,r,u)})}function sv(n,t){var r=hv(n,{}),i=r.playlists[t.uri],u,f;if(!i||i.segments&&t.segments&&i.segments.length===t.segments.length&&i.endList===t.endList&&i.mediaSequence===t.mediaSequence)return null;for(u=hv(i,t),i.segments&&(u.segments=function(n,t,i){var u=t.slice(),f,r;for(i=i||0,f=Math.min(n.length,t.length+i),r=i;r<f;r++)u[r-i]=hv(n[r],u[r-i]);return u}(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),u.segments.forEach(function(n){!function(n,t){n.resolvedUri||(n.resolvedUri=yr(t,n.uri));n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=yr(t,n.key.uri));n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=yr(t,n.map.uri))}(n,u.resolvedUri)}),f=0;f<r.playlists.length;f++)r.playlists[f].uri===t.uri&&(r.playlists[f]=u);return r.playlists[t.uri]=u,r}function tn(n){for(var t,i=n.playlists.length;i--;)t=n.playlists[i],(n.playlists[t.uri]=t).resolvedUri=yr(n.uri,t.uri),t.id=i,t.attributes||(t.attributes={},het.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}function rn(n){ih(n,function(t){t.uri&&(t.resolvedUri=yr(n.uri,t.uri))})}function un(n,t){var i=n.segments[n.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(n.targetDuration||10)}function bu(n,t){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r;ni(this,bu);var i=fi(this,(bu.__proto__||Object.getPrototypeOf(bu)).call(this)),f=u.withCredentials,o=void 0!==f&&f,e=u.handleManifestRedirects,s=void 0!==e&&e;if(i.srcUrl=n,i.hls_=t,i.withCredentials=o,i.handleManifestRedirects=s,r=t.options_,i.customTagParsers=r&&r.customTagParsers||[],i.customTagMappers=r&&r.customTagMappers||[],!i.srcUrl)throw new Error("A non-empty playlist URL is required");return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:yr(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(n){if(i.request)return n?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i}function fn(n,t,i){var r,u;return"undefined"==typeof t&&(t=n.mediaSequence+n.segments.length),t<n.mediaSequence?0:(r=function(n,t){var r=0,u=t-n.mediaSequence,i=n.segments[u];if(i){if("undefined"!=typeof i.start)return{result:i.start,precise:!0};if("undefined"!=typeof i.end)return{result:i.end-i.duration,precise:!0}}for(;u--;){if("undefined"!=typeof(i=n.segments[u]).end)return{result:r+i.end,precise:!0};if(r+=i.duration,"undefined"!=typeof i.start)return{result:r+i.start,precise:!0}}return{result:r,precise:!1}}(n,t)).precise?r.result:(u=function(n,t){for(var r=0,i=void 0,u=t-n.mediaSequence;u<n.segments.length;u++){if("undefined"!=typeof(i=n.segments[u]).start)return{result:i.start-r,precise:!0};if(r+=i.duration,"undefined"!=typeof i.end)return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}}(n,t)).precise?u.result:r.result+i}function en(t,i,r){if(!t)return 0;if("number"!=typeof r&&(r=0),"undefined"==typeof i){if(t.totalDuration)return t.totalDuration;if(!t.endList)return n.Infinity}return fn(t,i,r)}function ce(n,t,i){var u=0,f,e,r;if(i<t&&(f=[i,t],t=f[0],i=f[1]),t<0){for(e=t;e<Math.min(0,i);e++)u+=n.targetDuration;t=0}for(r=t;r<i;r++)u+=n.segments[r].duration;return u}function on(n){if(!n.segments.length)return 0;for(var t=n.segments.length-1,i=n.segments[t].duration||n.targetDuration,r=i+2*n.targetDuration;t--&&!(r<=(i+=n.segments[t].duration)););return Math.max(0,t)}function sn(n,t,i){if(!n||!n.segments)return null;if(n.endList)return en(n);if(null===t)return null;t=t||0;var r=i?on(n):n.segments.length;return fn(n,n.mediaSequence+r,t)}function hn(n){return n-Math.floor(n)==0}function cn(n,t){var r,i,u,f;if(hn(t))return t+.1*n;for(r=t.toString().split(".")[1].length,i=1;i<=r;i++)if(u=Math.pow(10,i),f=t*u,hn(f)||i===r)return(f+n)/u}function ln(n){return n.excludeUntil&&n.excludeUntil>Date.now()}function cv(n){return n.excludeUntil&&n.excludeUntil===1/0}function uh(n){var t=ln(n);return!n.disabled&&!t}function an(n,t){return t.attributes&&t.attributes[n]}function lv(n,t){if(1===n.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===n.playlists.filter(function(n){return!!uh(n)&&(n.attributes.BANDWIDTH||0)<i}).length}function vn(){return function n(t,r){var f,e,u,o;return t=ket({timeout:45e3},t),f=n.beforeRequest||i.Hls.xhr.beforeRequest,f&&"function"==typeof f&&(e=f(t),e&&(t=e)),u=bet(t,function(n,t){var i=u.response;!n&&i&&(u.responseTime=Date.now(),u.roundTripTime=u.responseTime-u.requestTime,u.bytesReceived=i.byteLength||i.length,u.bandwidth||(u.bandwidth=Math.floor(u.bytesReceived/u.roundTripTime*8e3)));t.headers&&(u.responseHeaders=t.headers);n&&"ETIMEDOUT"===n.code&&(u.timedout=!0);n||u.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(n=new Error("XHR Failed with a response of: "+(u&&(i||u.responseText))));r(n,u)}),o=u.abort,u.abort=function(){return u.aborted=!0,o.apply(u,arguments)},u.uri=t.uri,u.requestTime=Date.now(),u}}function av(n){var t={};return n.byterange&&(t.Range=function(n){var t;return t=n.offset+n.length-1,"bytes="+n.offset+"-"+t}(n.byterange)),t}function cet(n,t){var i=n.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")}function aet(n){return 32<=n&&n<126?String.fromCharCode(n):"."}function yn(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i];t[i]=ArrayBuffer.isView(r)?{bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:r}),t}function fh(n){var t=n.byterange||{length:1/0,offset:0};return[t.length,t.offset,n.resolvedUri].join(",")}function pn(n){return n.resolvedUri}function wn(n){for(var i=Array.prototype.slice.call(n),r="",t=0;t<i.length/16;t++)r+=i.slice(16*t,16*t+16).map(cet).join("")+" "+i.slice(16*t,16*t+16).map(aet).join("")+"\n";return r}function vet(n){var e=n.playlist,o=n.time,r=void 0===o?void 0:o,t=n.callback,i,u,f;if(!t)throw new Error("getProgramTime: callback must be provided");return!e||void 0===r?t({message:"getProgramTime: playlist and time must be provided"}):(i=function(n,t){var u;if(!t||!t.segments||0===t.segments.length)return null;for(var r=0,i=void 0,f=0;f<t.segments.length&&!(n<=(r=(i=t.segments[f]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:r+i.duration));f++);if(u=t.segments[t.segments.length-1],u.videoTimingInfo&&u.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(r<n){if(n>r+.25*u.duration)return null;i=u}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:r-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(r,e),!i)?t({message:"valid programTime was not found"}):"estimate"===i.type?t({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart}):(u={mediaSeconds:r},f=function(n,t){if(!t.dateTimeObject)return null;var i=t.videoTimingInfo.transmuxerPrependedSeconds,r=n-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,i.segment),f&&(u.programDateTime=f.toISOString()),t(null,u))}function bn(n){var i=n.programTime,r=n.playlist,h=n.retryCount,c=void 0===h?2:h,e=n.seekTo,l=n.pauseAfterSeek,a=void 0===l||l,u=n.tech,t=n.callback,f,o,s,v;if(!t)throw new Error("seekToProgramTime: callback must be provided");if("undefined"==typeof i||!r||!e)return t({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return t({message:"player must be playing a live stream to start buffering"});if(!function(n){if(!n.segments||0===n.segments.length)return!1;for(var t=0;t<n.segments.length;t++)if(!n.segments[t].dateTimeObject)return!1;return!0}(r))return t({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});if(f=function(n,t){var u=void 0,i,f;try{u=new Date(n)}catch(n){return null}if(!t||!t.segments||0===t.segments.length||(i=t.segments[0],u<i.dateTimeObject))return null;for(f=0;f<t.segments.length-1;f++)if(i=t.segments[f],u<t.segments[f+1].dateTimeObject)break;var r=t.segments[t.segments.length-1],e=r.dateTimeObject,o=r.videoTimingInfo?function(n){return n.transmuxedPresentationEnd-n.transmuxedPresentationStart-n.transmuxerPrependedSeconds}(r.videoTimingInfo):r.duration+.25*r.duration;return new Date(e.getTime()+1e3*o)<u?null:(e<u&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:at.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})}(i,r),!f)return t({message:i+" was not found in the stream"});if(o=f.segment,s=function(n,t){var i=void 0,r=void 0,u;try{i=new Date(n);r=new Date(t)}catch(n){}return u=i.getTime(),(r.getTime()-u)/1e3}(o.dateTimeObject,i),"estimate"===f.type)return 0===c?t({message:i+" is not buffered yet. Try again"}):(e(f.estimatedStart+s),void u.one("seeked",function(){bn({programTime:i,playlist:r,retryCount:c-1,seekTo:e,pauseAfterSeek:a,tech:u,callback:t})}));v=o.start+s;u.one("seeked",function(){return t(null,u.currentTime())});a&&u.pause();e(v)}function kn(n,t){var u=[],r=void 0;if(n&&n.length)for(r=0;r<n.length;r++)t(n.start(r),n.end(r))&&u.push([n.start(r),n.end(r)]);return i.createTimeRanges(u)}function dn(n,t){return kn(n,function(n,i){return n-.1<=t&&t<=i+.1})}function gn(n,t){return kn(n,function(n){return t<=n-1/30})}function vv(n){var i=[],t;if(!n||!n.length)return"";for(t=0;t<n.length;t++)i.push(n.start(t)+" => "+n.end(t));return i.join(", ")}function ntt(n){for(var i=[],t=0;t<n.length;t++)i.push({start:n.start(t),end:n.end(t)});return i}function ku(n,t,i){var r=void 0,u=void 0;if(i&&i.cues)for(r=i.cues.length;r--;)(u=i.cues[r]).startTime<=t&&u.endTime>=n&&i.removeCue(u)}function ttt(n){return isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}function yet(t,r,u){var h=n.WebKitDataCue||n.VTTCue,c,o,s;if((r&&r.forEach(function(n){var t=n.stream;this.inbandTextTracks_[t].addCue(new h(n.startTime+this.timestampOffset,n.endTime+this.timestampOffset,n.text))},t),u)&&(c=ttt(t.mediaSource_.duration),u.forEach(function(t){var r=t.cueTime+this.timestampOffset;!("number"!=typeof r||n.isNaN(r)||r<0)&&r<1/0&&t.frames.forEach(function(n){var t=new h(r,r,n.value||n.url||n.data||"");t.frame=n;t.value=n,function(n){Object.defineProperties(n.frame,{id:{get:function(){return i.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),n.value.key}},value:{get:function(){return i.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),n.value.data}},privateData:{get:function(){return i.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),n.value.data}}})}(t);this.metadataTrack_.addCue(t)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length)){for(var e=t.metadataTrack_.cues,l=[],f=0;f<e.length;f++)e[f]&&l.push(e[f]);o=l.reduce(function(n,t){var i=n[t.startTime]||[];return i.push(t),n[t.startTime]=i,n},{});s=Object.keys(o).sort(function(n,t){return Number(n)-Number(t)});s.forEach(function(n,t){var i=o[n],r=Number(s[t+1])||c;i.forEach(function(n){n.endTime=r})})}}function rtt(n,t){return function(i){var u=this,f,r;if(!t)return new gu(n);if(gu&&!i)return f=utt(t.toString().replace(/^function.+?{/,"").slice(0,-1)),this[yv]=new gu(f),function(n,t){if(n&&t){var i=n.terminate;n.objURL=t;n.terminate=function(){n.objURL&&du.revokeObjectURL(n.objURL);i.call(n)}}}(this[yv],f),this[yv];r={postMessage:function(n){u.onmessage&&setTimeout(function(){u.onmessage({data:n,target:r})})}};t.call(r);this.postMessage=function(n){setTimeout(function(){r.onmessage({data:n,target:u})})};this.isThisThread=!0}}function utt(n){try{return du.createObjectURL(new Blob([n],{type:get}))}catch(i){var t=new not;return t.append(n),du.createObjectURL(t.getBlob(type))}}function ftt(n){return n.map(function(n){return n.replace(/avc1\.(\d+)\.(\d+)/i,function(n,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})}function le(n){var i,r=0<arguments.length&&void 0!==n?n:"",t={codecCount:0};return t.codecCount=r.split(",").length,t.codecCount=t.codecCount||2,(i=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(r))&&(t.videoCodec=i[2],t.videoObjectTypeIndicator=i[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(r),t.audioProfile=t.audioProfile&&t.audioProfile[2],t}function kv(n,t,i){return n+"/"+t+'; codecs="'+i.filter(function(n){return!!n}).join(", ")+'"'}function tot(n,t){var s=function(n){return n.segments&&n.segments.length&&n.segments[0].map?"mp4":"mp2t"}(t),u=function(n){var t=n.attributes||{};return t.CODECS?le(t.CODECS):ott}(t),h=t.attributes||{},f=!0,c=!1,e,l,r;if(!t)return[];if(n.mediaGroups.AUDIO&&h.AUDIO&&(e=n.mediaGroups.AUDIO[h.AUDIO],e))for(l in f=!(c=!0),e)if(!e[l].uri&&!e[l].playlists){f=!0;break}c&&!u.audioProfile&&(f||(u.audioProfile=function(n,t){var i,u,r;if(!n.mediaGroups.AUDIO||!t||(i=n.mediaGroups.AUDIO[t],!i))return null;for(u in i)if(r=i[u],r.default&&r.playlists)return le(r.playlists[0].attributes.CODECS).audioProfile;return null}(n,h.AUDIO)),u.audioProfile||(i.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),u.audioProfile=ott.audioProfile));r={};u.videoCodec&&(r.video=""+u.videoCodec+u.videoObjectTypeIndicator);u.audioProfile&&(r.audio="mp4a.40."+u.audioProfile);var o=kv("audio",s,[r.audio]),v=kv("video",s,[r.video]),a=kv("video",s,[r.video,r.audio]);return c?!f&&r.video?[v,o]:f||r.video?[a,o]:[o,o]:r.video?[a]:[o]}function ett(n){var t={type:"",parameters:{}},i=n.trim().split(";");return t.type=i.shift().trim(),i.forEach(function(n){var i=n.trim().split("="),r,u;1<i.length&&(r=i[0].replace(/"/g,"").trim(),u=i[1].replace(/"/g,"").trim(),t.parameters[r]=u)}),t}function dv(n){return/mp4a\.\d+.\d+/i.test(n)}function gv(n){return/avc1\.[\da-f]+/i.test(n)}function nf(n,t){var r,u;return ni(this,nf),r=fi(this,(nf.__proto__||Object.getPrototypeOf(nf)).call(this,i.EventTarget)),r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=n,r.codecs_=t,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=11<=i.browser.IE_VERSION,u={remux:!1,alignGopsAtEnd:r.safeAppend_},r.codecs_.forEach(function(n){dv(n)?r.audioCodec_=n:gv(n)&&(r.videoCodec_=n)}),r.transmuxer_=new iot,r.transmuxer_.postMessage({action:"init",options:u}),r.transmuxer_.onmessage=function(n){return"data"===n.data.action?r.data_(n):"done"===n.data.action?r.done_(n):"gopInfo"===n.data.action?r.appendGopInfo_(n):"videoSegmentTimingInfo"===n.data.action?r.videoSegmentTimingInfo_(n.data.videoSegmentTimingInfo):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(n){"number"==typeof n&&0<=n&&(this.timestampOffset_=n,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(n){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=n);this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=n)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return function(n,t,r){var e=null,o=null,c=0,f=[],l=[];if(!n&&!t)return i.createTimeRange();if(!n)return t.buffered;if(!t||r)return n.buffered;if(0===n.buffered.length&&0===t.buffered.length)return i.createTimeRange();for(var s=n.buffered,h=t.buffered,u=s.length;u--;)f.push({time:s.start(u),type:"start"}),f.push({time:s.end(u),type:"end"});for(u=h.length;u--;)f.push({time:h.start(u),type:"start"}),f.push({time:h.end(u),type:"end"});for(f.sort(function(n,t){return n.time-t.time}),u=0;u<f.length;u++)"start"===f[u].type?2==++c&&(e=f[u].time):"end"===f[u].type&&1==--c&&(o=f[u].time),null!==e&&null!==o&&(l.push([e,o]),o=e=null);return i.createTimeRanges(l)}(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}function wr(){ni(this,wr);var r=fi(this,(wr.__proto__||Object.getPrototypeOf(wr)).call(this));for(var u in r.nativeMediaSource_=new n.MediaSource,r.nativeMediaSource_)u in wr.prototype||"function"!=typeof r.nativeMediaSource_[u]||(r[u]=r.nativeMediaSource_[u].bind(r.nativeMediaSource_));return r.duration_=NaN,Object.defineProperty(r,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(n){(this.duration_=n)===1/0||(this.nativeMediaSource_.duration=n)}}),Object.defineProperty(r,"seekable",{get:function(){return this.duration_===1/0?i.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(r,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(r,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),r.sourceBuffers=[],r.activeSourceBuffers_=[],r.updateActiveSourceBuffers_=function(){var n,u;if(r.activeSourceBuffers_.length=0,1===r.sourceBuffers.length)return n=r.sourceBuffers[0],n.appendAudioInitSegment_=!0,n.audioDisabled_=!n.audioCodec_,void r.activeSourceBuffers_.push(n);for(var f=!1,t=!0,i=0;i<r.player_.audioTracks().length;i++)if(u=r.player_.audioTracks()[i],u.enabled&&"main"!==u.kind){t=!(f=!0);break}r.sourceBuffers.forEach(function(n,i){if(n.appendAudioInitSegment_=!0,n.videoCodec_&&n.audioCodec_)n.audioDisabled_=f;else if(n.videoCodec_&&!n.audioCodec_)n.audioDisabled_=!0,t=!1;else if(!n.videoCodec_&&n.audioCodec_&&(n.audioDisabled_=i?t:!t,n.audioDisabled_))return;r.activeSourceBuffers_.push(n)})},r.onPlayerMediachange_=function(){r.sourceBuffers.forEach(function(n){n.appendAudioInitSegment_=!0})},r.onHlsReset_=function(){r.sourceBuffers.forEach(function(n){n.transmuxer_&&n.transmuxer_.postMessage({action:"resetCaptions"})})},r.onHlsSegmentTimeMapping_=function(n){r.sourceBuffers.forEach(function(t){return t.timeMapping_=n.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(n){this.nativeMediaSource_.addEventListener(n,this.trigger.bind(this))},r),r.on("sourceopen",function(){var n=t.querySelector('[src="'+r.url_+'"]');n&&(r.player_=i(n.parentNode),r.player_&&(r.player_.tech_.on("hls-reset",r.onHlsReset_),r.player_.tech_.on("hls-segment-time-mapping",r.onHlsSegmentTimeMapping_),r.player_.audioTracks&&r.player_.audioTracks()&&(r.player_.audioTracks().on("change",r.updateActiveSourceBuffers_),r.player_.audioTracks().on("addtrack",r.updateActiveSourceBuffers_),r.player_.audioTracks().on("removetrack",r.updateActiveSourceBuffers_)),r.player_.on("mediachange",r.onPlayerMediachange_)))}),r.on("sourceended",function(){for(var i,n,u=ttt(r.duration),t=0;t<r.sourceBuffers.length;t++)i=r.sourceBuffers[t],n=i.metadataTrack_&&i.metadataTrack_.cues,n&&n.length&&(n[n.length-1].endTime=u)}),r.on("sourceclose",function(){this.sourceBuffers.forEach(function(n){n.transmuxer_&&n.transmuxer_.terminate()});this.sourceBuffers.length=0;this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),r}function stt(n,t){var r=i.mediaSources[n];if(!r)throw new Error("Media Source not found (Video.js)");r.trigger({type:"sourceopen",swfId:t})}function ty(){return!!n.MediaSource&&!!n.MediaSource.isTypeSupported&&n.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function ae(){if(this.MediaSource={open:stt,supportsNativeMediaSources:ty},ty())return new eh;throw new Error("Cannot use create a virtual MediaSource for this video");}function htt(n,t){for(var f,r=void 0,i=uy(n,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),u=0;u<t.playlists.length;u++)f=sv(i,t.playlists[u]),f?i=f:r=!0;return ih(t,function(n,t,u,f){if(n.playlists&&n.playlists.length){var o=n.playlists[0].uri,e=sv(i,n.playlists[0]);e&&((i=e).mediaGroups[t][u][f].playlists[0]=i.playlists[o],r=!1)}}),r?null:i}function ry(n){var t=n.byterange.offset+n.byterange.length-1;return n.uri+"-"+n.byterange.offset+"-"+t}function ctt(n,t){var i,r,e={},o,f,u,s;for(o in n)if(f=n[o].sidx,f){if(u=ry(f),!t[u])break;s=t[u].sidxInfo;i=s;r=f;(Boolean(!i.map&&!r.map)||Boolean(i.map&&r.map&&i.map.byterange.offset===r.map.byterange.offset&&i.map.byterange.length===r.map.byterange.length))&&i.uri===r.uri&&i.byterange.offset===r.byterange.offset&&i.byterange.length===r.byterange.length&&(e[u]=t[u])}return e}function ltt(n,t,r,u,f){var e={uri:th(u.handleManifestRedirects,n.resolvedUri),byterange:n.byterange,playlist:t};return r(i.mergeOptions(e,{responseType:"arraybuffer",headers:av(e)}),f)}function tf(n,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=arguments[3];ni(this,tf);var i=fi(this,(tf.__proto__||Object.getPrototypeOf(tf)).call(this)),u=r.withCredentials,o=void 0!==u&&u,f=r.handleManifestRedirects,s=void 0!==f&&f;if(i.hls_=t,i.withCredentials=o,i.handleManifestRedirects=s,!n)throw new Error("A non-empty playlist URL or playlist is required");return i.on("minimumUpdatePeriod",function(){i.refreshXml_()}),i.on("mediaupdatetimeout",function(){i.refreshMedia_(i.media().uri)}),i.state="HAVE_NOTHING",i.loadedPlaylists_={},"string"==typeof n?(i.srcUrl=n,i.sidxMapping_={},fi(i)):(i.setupChildLoader(e,n),i)}function ve(n){return i.log.debug?i.log.debug.bind(i,"VHS:",n+" >"):function(){}}function rf(){}function fy(n,t,i,r){ni(this,fy);this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=n;this.processedAppend_=!1;this.type_=i;this.mimeType_=t;this.logger_=ve("SourceUpdater["+i+"]["+t+"]");"closed"===n.readyState?n.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,t,r)):this.createSourceBuffer_(t,r)}function vtt(n){n.forEach(function(n){n.abort()})}function ey(n,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:wtt,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:btt,xhr:t}:n?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:sh,xhr:t}:null}function uot(n,t,i){var u=0,r=!1;return function(f,e){if(!r)return f?(r=!0,vtt(n),i(f,e)):(u+=1)===n.length?(e.endOfAllRequests=Date.now(),e.encryptedBytes?function(n,t,i){n.addEventListener("message",function r(u){if(u.data.source===t.requestId){n.removeEventListener("message",r);var f=u.data.decrypted;return t.bytes=new Uint8Array(f.bytes,f.byteOffset,f.byteLength),i(null,t)}});var r=void 0;r=t.key.bytes.slice?t.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.key.bytes));n.postMessage(yn({source:t.requestId,encrypted:t.encryptedBytes,key:r,iv:t.key.iv}),[t.encryptedBytes.buffer,r.buffer])}(t,e,i):i(null,e)):void 0}}function fot(n,t){return function(r){return n.stats=i.mergeOptions(n.stats,function(n){var i=n.target,t={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-i.requestTime||0};return t.bytesReceived=n.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8e3),t}(r)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),t(r,n)}}function eot(n,t,r,u,f,e,o){var s=[],h=uot(s,r,o),l,a,c;return f.key&&!f.key.bytes&&(l=n(i.mergeOptions(t,{uri:f.key.resolvedUri,responseType:"arraybuffer"}),function(n,t){return function(i,r){var f=r.response,e=ey(i,r),u;return e?t(e,n):16!==f.byteLength?t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:sh,xhr:r},n):(u=new DataView(f),n.key.bytes=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),t(null,n))}}(f,h)),s.push(l)),f.map&&!f.map.bytes&&(a=n(i.mergeOptions(t,{uri:f.map.resolvedUri,responseType:"arraybuffer",headers:av(f.map)}),function(n,t,i){return function(r,u){var e=u.response,f=ey(r,u);return f?i(f,n):0===e.byteLength?i({status:u.status,message:"Empty HLS segment content at URL: "+u.uri,code:sh,xhr:u},n):(n.map.bytes=new Uint8Array(u.response),t&&!t.isInitialized()&&t.init(),n.map.timescales=ci.timescale(n.map.bytes),n.map.videoTrackIds=ci.videoTrackIds(n.map.bytes),i(null,n))}}(f,u,h)),s.push(a)),c=n(i.mergeOptions(t,{uri:f.resolvedUri,responseType:"arraybuffer",headers:av(f)}),function(n,t,i){return function(r,u){var o=u.response,e=ey(r,u),f=void 0;return e?i(e,n):0===o.byteLength?i({status:u.status,message:"Empty HLS segment content at URL: "+u.uri,code:sh,xhr:u},n):(n.stats=function(n){return{bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}}(u),n.key?n.encryptedBytes=new Uint8Array(u.response):n.bytes=new Uint8Array(u.response),t&&n.map&&n.map.bytes&&(t.isInitialized()||t.init(),(f=t.parse(n.bytes,n.map.videoTrackIds,n.map.timescales))&&f.captions&&(n.captionStreams=f.captionStreams,n.fmp4Captions=f.captions)),i(null,n))}}(f,u,h)),c.addEventListener("progress",fot(f,e)),s.push(c),function(){return vtt(s)}}function ytt(t,i){var r;return t&&(r=n.getComputedStyle(t))?r[i]:""}function ye(n,t){var i=n.slice();n.sort(function(n,r){var u=t(n,r);return 0===u?i.indexOf(n)-i.indexOf(r):u})}function oy(t,i){var r=void 0,u=void 0;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||n.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(u=i.attributes.BANDWIDTH),r-(u=u||n.Number.MAX_VALUE)}function ptt(n){return"number"==typeof n&&isFinite(n)}function uf(n){ni(this,uf);var t=fi(this,(uf.__proto__||Object.getPrototypeOf(uf)).call(this));if(!n)throw new TypeError("Initialization settings are required");if("function"!=typeof n.currentTime)throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return t.bandwidth=n.bandwidth,t.throughput={rate:0,count:0},t.roundTrip=NaN,t.resetStats_(),t.mediaIndex=null,t.hasPlayed_=n.hasPlayed,t.currentTime_=n.currentTime,t.seekable_=n.seekable,t.seeking_=n.seeking,t.duration_=n.duration,t.mediaSource_=n.mediaSource,t.hls_=n.hls,t.loaderType_=n.loaderType,t.startingMedia_=void 0,t.segmentMetadataTrack_=n.segmentMetadataTrack,t.goalBufferLength_=n.goalBufferLength,t.sourceType_=n.sourceType,t.inbandTextTracks_=n.inbandTextTracks,t.state_="INIT",t.checkBufferTimeout_=null,t.error_=void 0,t.currentTimeline_=-1,t.pendingSegment_=null,t.mimeType_=null,t.sourceUpdater_=null,t.xhrOptions_=null,t.activeInitSegmentId_=null,t.initSegments_={},t.cacheEncryptionKeys_=n.cacheEncryptionKeys,t.keyCache_={},t.captionParser_="main"===t.loaderType_?new wft:null,t.decrypter_=n.decrypter,t.syncController_=n.syncController,t.syncPoint_={segmentIndex:0,time:0},t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=ve("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(n){n!==this.state_&&(this.logger_(this.state_+" -> "+n),this.state_=n)}}),t}function ktt(n){return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))}function ff(n){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t;return ni(this,ff),t=fi(this,(ff.__proto__||Object.getPrototypeOf(ff)).call(this,n,i)),t.mediaSource_=null,t.subtitlesTrack_=null,t}function oot(n,t){for(var r,u=n.cues,i=0;i<u.length;i++)if(r=u[i],t>=r.adStartTime&&t<=r.adEndTime)return r;return null}function ef(){ni(this,ef);var n=fi(this,(ef.__proto__||Object.getPrototypeOf(ef)).call(this));return n.inspectCache_=void 0,n.timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=ve("SyncController"),n}function hh(n,t){n.abort();n.pause();t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)}function nit(n,t){(t.activePlaylistLoader=n).load()}function cot(n){function f(){t.AUDIO.onTrackChanged();i.trigger({type:"usage",name:"hls-audio-change"})}var r,u,e;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){aot[t](t,n)});var t=n.mediaTypes,o=n.masterPlaylistLoader,i=n.tech,s=n.hls;["AUDIO","SUBTITLES"].forEach(function(i){t[i].activeGroup=function(n,t){return function(i){var e=t.masterPlaylistLoader,f=t.mediaTypes[n].groups,u=e.media(),r;return u?(r=null,u.attributes[n]&&(r=f[u.attributes[n]]),r=r||f.main,"undefined"==typeof i?r:null===i?null:r.filter(function(n){return n.id===i.id})[0]||null):null}}(i,n);t[i].activeTrack=vot[i](i,n);t[i].onGroupChanged=function(n,t){return function(){var u=t.segmentLoaders,f=u[n],e=u.main,i=t.mediaTypes[n],o=i.activeTrack(),r=i.activeGroup(o),s=i.activePlaylistLoader;hh(f,i);r&&(r.playlistLoader?(f.resyncLoader(),nit(r.playlistLoader,i)):s&&e.resetEverything())}}(i,n);t[i].onTrackChanged=function(n,t){return function(){var f=t.segmentLoaders,r=f[n],o=f.main,i=t.mediaTypes[n],e=i.activeTrack(),u=i.activeGroup(e),s=i.activePlaylistLoader;hh(r,i);u&&(u.playlistLoader?(s!==u.playlistLoader&&(r.track&&r.track(e),r.resetEverything()),nit(u.playlistLoader,i)):o.resetEverything())}}(i,n)});r=t.AUDIO.activeGroup();u=(r.filter(function(n){return n.default})[0]||r[0]).id;for(e in t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onTrackChanged(),o.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(n){return t[n].onGroupChanged()})}),i.audioTracks().addEventListener("change",f),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),s.on("dispose",function(){i.audioTracks().removeEventListener("change",f);i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),i.clearTracks("audio"),t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[e])}function of(n){var r;ni(this,of);var t=fi(this,(of.__proto__||Object.getPrototypeOf(of)).call(this)),u=n.url,o=n.handleManifestRedirects,e=n.withCredentials,f=n.tech,s=n.bandwidth,h=n.externHls,c=n.useCueTags,l=n.blacklistDuration,a=n.enableLowInitialPlaylist,v=n.sourceType,y=n.seekTo,p=n.cacheEncryptionKeys;if(!u)throw new Error("A non-empty playlist URL is required");return ki=h,t.withCredentials=e,t.tech_=f,t.hls_=f.hls,t.seekTo_=y,t.sourceType_=v,t.useCueTags_=c,t.blacklistDuration=l,t.enableLowInitialPlaylist=a,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:e,handleManifestRedirects:o,timeout:null},t.mediaTypes_=function(){var n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){n[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:rf,activeTrack:rf,onGroupChanged:rf,onTrackChanged:rf}}),n}(),t.mediaSource=new i.MediaSource,t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_.bind(t)),t.seekable_=i.createTimeRanges(),t.hasPlayed_=function(){return!1},t.syncController_=new hot(n),t.segmentMetadataTrack_=f.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new lot,t.inbandTextTracks_={},r={hls:t.hls_,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:s,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:p},t.masterPlaylistLoader_="dash"===t.sourceType_?new oh(u,t.hls_,t.requestOptions_):new rh(u,t.hls_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new sy(i.mergeOptions(r,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),n),t.audioSegmentLoader_=new sy(i.mergeOptions(r,{loaderType:"audio"}),n),t.subtitleSegmentLoader_=new dtt(i.mergeOptions(r,{loaderType:"vtt"}),n),t.setupSegmentLoaderListeners_(),yot.forEach(function(n){t[n+"_"]=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]}.bind(t,n)}),t.logger_=ve("MPC"),t.masterPlaylistLoader_.load(),t}function iit(n,t,i){var r,f,u;ni(this,iit);r=n.masterPlaylistController_;f=r[(n.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(r);t.attributes.RESOLUTION&&(u=t.attributes.RESOLUTION,this.width=u.width,this.height=u.height);this.bandwidth=t.attributes.BANDWIDTH;this.id=i;this.enabled=function(n,t,i){return function(r){var u=n.master.playlists[t],e=cv(u),f=uh(u);return"undefined"==typeof r?f:(r?delete u.disabled:u.disabled=!0,r===f||e||(i(),r?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),r)}}(n.playlists,t.uri,f)}function ly(t){function r(){return i.monitorCurrentTime_()}function u(){return i.techWaiting_()}function f(){return i.cancelTimer_()}function e(){return i.fixesBadSeeks_()}var i=this;ni(this,ly);this.tech_=t.tech;this.seekable=t.seekable;this.seekTo=t.seekTo;this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow;this.media=t.media;this.consecutiveUpdates=0;this.lastRecordedTime=null;this.timer_=null;this.checkCurrentTimeTimeout_=null;this.logger_=ve("PlaybackWatcher");this.logger_("initialize");this.tech_.on("seekablechanged",e);this.tech_.on("waiting",u);this.tech_.on(cy,f);this.tech_.on("canplay",r);this.dispose=function(){i.logger_("dispose");i.tech_.off("seekablechanged",e);i.tech_.off("waiting",u);i.tech_.off(cy,f);i.tech_.off("canplay",r);i.checkCurrentTimeTimeout_&&n.clearTimeout(i.checkCurrentTimeTimeout_);i.cancelTimer_()}}function uit(n){!function t(n,r){function s(){f&&n.currentTime(f)}function c(t){null!=t&&(f=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",s),n.src(t),n.trigger({type:"usage",name:"hls-error-reload"}),n.play())}function h(){if(Date.now()-o<1e3*u.errorInterval)n.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(u.getSource&&"function"==typeof u.getSource)return o=Date.now(),u.getSource.call(n,c);i.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}}function e(){n.off("loadedmetadata",s);n.off("error",h);n.off("dispose",e)}var o=0,f=0,u=i.mergeOptions(fit,r);n.ready(function(){n.trigger({type:"usage",name:"hls-error-reload-initialized"})});n.on("error",h);n.on("dispose",e);n.reloadSourceOnError=function(i){e();t(n,i)}}(this,n)}function eit(n){return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(n)?"hls":/^application\/dash\+xml/i.test(n)?"dash":null}function oit(n,t){for(var u=t.media(),r=-1,i=0;i<n.length;i++)if(n[i].id===u.uri){r=i;break}n.selectedIndex_=r;n.trigger({selectedIndex:r,type:"change"})}function wot(n){var u=n.masterPlaylistController_.mainSegmentLoader_,f=n.masterPlaylistController_.audioSegmentLoader_,t=i.players[n.tech_.options_.playerId],r;t.eme&&(r=function(n,t,r){var o,s,f,e,u;if(!n)return n;if(o=void 0,s=void 0,r.mimeType_)o=t.mimeType_,s=r.mimeType_;else{var h=ett(t.mimeType_),a=h.parameters.codecs.split(","),c=void 0,l=void 0;a.forEach(function(n){n=n.trim();dv(n)?c=n:gv(n)&&(l=n)});o=h.type+'; codecs="'+l+'"';s=h.type.replace("video","audio")+'; codecs="'+c+'"'}f={};e=t.playlist_;for(u in n)f[u]={audioContentType:s,videoContentType:o},e.contentProtection&&e.contentProtection[u]&&e.contentProtection[u].pssh&&(f[u].pssh=e.contentProtection[u].pssh),"string"==typeof n[u]&&(f[u].url=n[u]);return i.mergeOptions(n,f)}(n.source_.keySystems,u,f),r&&(t.currentSource().keySystems=r,11!==i.browser.IE_VERSION&&t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys()))}function sit(){if(!window.localStorage)return null;var n=window.localStorage.getItem(ay);if(!n)return null;try{return JSON.parse(n)}catch(n){return null}}function di(n,r,u){var f,e;if(ni(this,di),f=fi(this,(di.__proto__||Object.getPrototypeOf(di)).call(this,r,u.hls)),r.options_&&r.options_.playerId&&(e=i(r.options_.playerId),e.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return i.log.warn("player.hls is deprecated. Use player.tech().hls instead."),r.trigger({type:"usage",name:"hls-player-access"}),f},configurable:!0}),e.vhs=f,(e.dash=f).player_=e),f.tech_=r,f.source_=n,f.stats={},f.setOptions_(),f.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(f.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return f.on(t,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var n=t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement;n&&n.contains(f.tech_.el())&&f.masterPlaylistController_.smoothQualityChange_()}),f.on(f.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),f.on(f.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),f.on(f.tech_,"play",f.play),f}var yp,pp,ke,nt,bp,kp,vf,gp,pi,rw,uw,r,pf,ur,pw,fr,bw,uu,yt,eu,it,eo,il,ab,vb,ou,a,wb,kb,ne,db,te,gb,nk,tk,bt,hl,ik,cl,co,or,lo,ao,uk,vo,fk,ll,yo,ek,ok,po,yl,wo,pl,wl,bl,sk,bo,kl,dl,gl,ko,go,ns,hk,hu,cu,na,sr,ta,ts,is,rs,us,fs,ia,es,ra,ua,os,fa,ea,ck,ie,oa,nd,td,id,ed,k,lu,cd,pa,re,ys,wa,bs,pg,pt,bg,ev,kg,ov,gg,ti,pv,wv,bv,eh,ny,iy,uy,oh,att,hy,dtt,cy,rit,fit,st,ay,hit,vy,lh;n=n&&n.hasOwnProperty("default")?n.default:n;t=t&&t.hasOwnProperty("default")?t.default:t;var yy="7.7.5",ht=[],ah=function(t,i){return function(r,u,f){var s=i.levels[u],h=new RegExp("^("+s+")$"),o,e;("log"!==r&&f.unshift(r.toUpperCase()+":"),f.unshift(t+":"),ht)&&(ht.push([].concat(f)),o=ht.length-1e3,ht.splice(0,0<o?o:0));n.console&&(e=n.console[r],e||"debug"!==r||(e=n.console.info||n.console.log),e&&s&&h.test(r)&&e[Array.isArray(f)?"apply":"call"](n.console,f))}},h=function gi(n){function t(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];r("log",i,u)}var r,i="info";return r=ah(n,t),t.createLogger=function(t){return gi(n+": "+t)},t.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},t.level=function(n){if("string"==typeof n){if(!t.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');i=n}return i},(t.history=function(){return ht?[].concat(ht):[]}).filter=function(n){return(ht||[]).filter(function(t){return new RegExp(".*"+n+".*").test(t[0])})},t.history.clear=function(){ht&&(ht.length=0)},t.history.disable=function(){null!==ht&&(ht.length=0,ht=null)},t.history.enable=function(){null===ht&&(ht=[])},t.error=function(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return r("error",i,u)},t.warn=function(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return r("warn",i,u)},t.debug=function(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return r("debug",i,u)},t}("VIDEOJS"),py=h.createLogger;var pe=gi(function(n){function t(){return n.exports=t=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},t.apply(this,arguments)}n.exports=t}),cit=Object.prototype.toString,wy=function(n){return ai(n)?Object.keys(n):[]};var bh,vi=gy("querySelector"),hp=gy("querySelectorAll"),cp=Object.freeze({isReal:kr,isEl:hf,isInFrame:dy,createEl:p,textContent:dr,prependTo:vh,hasClass:nr,addClass:ei,removeClass:cf,toggleClass:np,setAttributes:tp,getAttributes:oi,getAttribute:ip,setAttribute:lf,removeAttribute:be,blockTextSelection:rp,unblockTextSelection:up,getBoundingClientRect:af,findPosition:fp,getPointerPosition:yh,isTextNode:ep,emptyEl:ph,normalizeContent:op,appendContent:wh,insertContent:sp,isSingleLeftClick:gr,$:vi,$$:hp}),lp=!1,lit=function(){var r,u,n;if(kr()&&!1!==bh.options.autoSetup){var f=Array.prototype.slice.call(t.getElementsByTagName("video")),e=Array.prototype.slice.call(t.getElementsByTagName("audio")),o=Array.prototype.slice.call(t.getElementsByTagName("video-js")),i=f.concat(e,o);if(i&&0<i.length)for(r=0,u=i.length;r<u;r++){if(n=i[r],!n||!n.getAttribute){kh(1);break}void 0===n.player&&null!==n.getAttribute("data-setup")&&bh(n)}else lp||kh(1)}};kr()&&("complete"===t.readyState?dh():n.addEventListener("load",dh));pp=3;n.WeakMap||(yp=function(){function i(){this.vdata="vdata"+Math.floor(n.performance&&n.performance.now()||Date.now());this.data={}}var t=i.prototype;return t.set=function(n,t){var i=n[this.vdata]||yi();return n[this.vdata]||(n[this.vdata]=i),this.data[i]=t,this},t.get=function(n){var t=n[this.vdata];if(t)return this.data[t];h("We have no data for this element",n)},t.has=function(n){return n[this.vdata]in this.data},t.delete=function(n){var t=n[this.vdata];t&&(delete this.data[t],delete n[this.vdata])},i}());nt=n.WeakMap?new WeakMap:new yp;bp=function(){if("boolean"!=typeof ke){ke=!1;try{var t=Object.defineProperty({},"passive",{get:function(){ke=!0}});n.addEventListener("test",null,t);n.removeEventListener("test",null,t)}catch(t){}}return ke};kp=["touchstart","touchmove"];gp=Object.freeze({fixEvent:de,on:vt,off:tt,trigger:nu,one:ge,any:dp});rt.prototype.allowedEvents_={};rt.prototype.addEventListener=rt.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};vt(this,n,t);this.addEventListener=i};rt.prototype.removeEventListener=rt.prototype.off=function(n,t){tt(this,n,t)};rt.prototype.one=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};ge(this,n,t);this.addEventListener=i};rt.prototype.any=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};dp(this,n,t);this.addEventListener=i};rt.prototype.dispatchEvent=rt.prototype.trigger=function(n){var t=n.type||n;"string"==typeof n&&(n={type:t});n=de(n);this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n);nu(this,n)};rt.prototype.queueTrigger=function(t){var u=this,r,i,f,e;vf=vf||new Map;r=t.type||t;i=vf.get(this);i||(i=new Map,vf.set(this,i));f=i.get(r);i.delete(r);n.clearTimeout(f);e=n.setTimeout(function(){0===i.size&&(i=null,vf.delete(u));u.trigger(t)},0);i.set(r,e)};pi=function(n){return n instanceof rt||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof n[t]})};rw={on:function(){for(var r,f,e=this,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];var t=tc(this,s),c=t.isTargetingSelf,u=t.target,h=t.type,i=t.listener;(ir(u,"on",h,i),c)||(r=function(){return e.off(u,h,i)},r.guid=i.guid,f=function(){return e.off("dispose",r)},f.guid=i.guid,ir(this,"on","dispose",r),ir(u,"on","dispose",f))},one:function(){for(var e,s=this,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];var t=tc(this,o),h=t.isTargetingSelf,r=t.target,u=t.type,f=t.listener;h?ir(r,"one",u,f):(e=function i(){s.off(r,u,i);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(null,e)},e.guid=f.guid,ir(r,"one",u,e))},any:function(){for(var e,s=this,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];var t=tc(this,o),h=t.isTargetingSelf,r=t.target,u=t.type,f=t.listener;h?ir(r,"any",u,f):(e=function i(){s.off(r,u,i);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(null,e)},e.guid=f.guid,ir(r,"any",u,e))},off:function(n,t,i){if(!n||nw(n))tt(this.eventBusEl_,n,t);else{var r=n,u=t;nc(r);tw(u);iw(i);i=s(this,i);this.off("dispose",i);r.nodeName?(tt(r,u,i),tt(r,"dispose",i)):pi(r)&&(r.off(u,i),r.off("dispose",i))}},trigger:function(n,t){return nu(this.eventBusEl_,n,t)}};uw={state:{},setState:function(n){var t,i=this;return"function"==typeof n&&(n=n()),br(n,function(n,r){i.state[r]!==n&&((t=t||{})[r]={from:i.state[r],to:n});i.state[r]=n}),t&&pi(this)&&this.trigger({changes:t,type:"statechanged"}),t}};r=function(){function i(t,i,r){var f,u;(this.player_=!t&&this.play?t=this:t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=v({},this.options_),i=this.options_=v(this.options_,i),this.id_=i.id||i.el&&i.el.id,this.id_)||(f=t&&t.id&&t.id()||"no_player",this.id_=f+"_component_"+yi());this.name_=i.name||null;i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl());!1!==i.evented&&ic(this,{eventBusKey:this.el_?"el_":null});fw(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};n.Set||(u=function(){function t(){this.set_={}}var n=t.prototype;return n.has=function(n){return n in this.set_},n.delete=function(n){var t=this.has(n);return delete this.set_[n],t},n.add=function(n){return this.set_[n]=1,this},n.forEach=function(n,t){for(var i in this.set_)n.call(t,i,i,this)},t}());this.setTimeoutIds_=n.Set?new Set:new u;this.setIntervalIds_=n.Set?new Set:new u;this.rafIds_=n.Set?new Set:new u;(this.clearingTimersOnDispose_=!1)!==i.initChildren&&this.initChildren();this.ready(r);!1!==i.reportTouchActivity&&this.enableTouchActivity()}var t=i.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var n=this.children_.length-1;0<=n;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.parentComponent_=null;this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),nt.has(this.el_)&&nt.delete(this.el_),this.el_=null);this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(n){return n&&(this.options_=v(this.options_,n)),this.options_},t.el=function(){return this.el_},t.createEl=function(n,t,i){return p(n,t,i)},t.localize=function(n,t,i){void 0===i&&(i=n);var f=this.player_.language&&this.player_.language(),u=this.player_.languages&&this.player_.languages(),e=u&&u[f],s=f&&f.split("-")[0],o=u&&u[s],r=i;return e&&e[n]?r=e[n]:o&&o[n]&&(r=o[n]),t&&(r=r.replace(/\{(\d+)\}/g,function(n,i){var r=t[i-1],u=r;return"undefined"==typeof r&&(u=n),u})),r},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(n){return this.childIndex_[n]},t.getChild=function(n){if(n)return this.childNameIndex_[n]},t.addChild=function(n,t,r){var u,f,o,e,s;if(void 0===t&&(t={}),void 0===r&&(r=this.children_.length),"string"==typeof n){if(f=b(n),o=t.componentClass||f,t.name=f,e=i.getComponent(o),!e)throw new Error("Component "+o+" does not exist");if("function"!=typeof e)return null;u=new e(this.player_||this,t)}else u=n;return(u.parentComponent_&&u.parentComponent_.removeChild(u),this.children_.splice(r,0,u),u.parentComponent_=this,"function"==typeof u.id&&(this.childIndex_[u.id()]=u),(f=f||u.name&&b(u.name()))&&(this.childNameIndex_[f]=u,this.childNameIndex_[no(f)]=u),"function"==typeof u.el&&u.el())&&(s=null,this.children_[r+1]&&this.children_[r+1].el_&&(s=this.children_[r+1].el_),this.contentEl().insertBefore(u.el(),s)),u},t.removeChild=function(n){var i,t,r;if("string"==typeof n&&(n=this.getChild(n)),n&&this.children_){for(i=!1,t=this.children_.length-1;0<=t;t--)if(this.children_[t]===n){i=!0;this.children_.splice(t,1);break}i&&(n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[b(n.name())]=null,this.childNameIndex_[no(n.name())]=null,r=n.el(),r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el()))}},t.initChildren=function(){var t=this,n=this.options_.children,u,r,f;n&&(r=this.options_,f=i.getComponent("Tech"),(u=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(n){return!u.some(function(t){return"string"==typeof t?n===t:n===t.name})})).map(function(i){var r,u;return u="string"==typeof i?n[r=i]||t.options_[r]||{}:(r=i.name,i),{name:r,opts:u}}).filter(function(n){var t=i.getComponent(n.opts.componentClass||b(n.name));return t&&!f.isTech(t)}).forEach(function(n){var u=n.name,i=n.opts,f;(void 0!==r[u]&&(i=r[u]),!1!==i)&&(!0===i&&(i={}),i.playerOptions=t.options_.playerOptions,f=t.addChild(u,i),f&&(t[u]=f))}))},t.buildCSSClass=function(){return""},t.ready=function(n,t){if(void 0===t&&(t=!1),n)return this.isReady_?void(t?n.call(this):this.setTimeout(n,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(n))},t.triggerReady=function(){this.isReady_=!0;this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[];n&&0<n.length&&n.forEach(function(n){n.call(this)},this);this.trigger("ready")},1)},t.$=function(n,t){return vi(n,t||this.contentEl())},t.$$=function(n,t){return hp(n,t||this.contentEl())},t.hasClass=function(n){return nr(this.el_,n)},t.addClass=function(n){ei(this.el_,n)},t.removeClass=function(n){cf(this.el_,n)},t.toggleClass=function(n,t){np(this.el_,n,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(n){return ip(this.el_,n)},t.setAttribute=function(n,t){lf(this.el_,n,t)},t.removeAttribute=function(n){be(this.el_,n)},t.width=function(n,t){return this.dimension("width",n,t)},t.height=function(n,t){return this.dimension("height",n,t)},t.dimensions=function(n,t){this.width(n,!0);this.height(t)},t.dimension=function(n,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),this.el_.style[n]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[n],u=r.indexOf("px");return-1!==u?parseInt(r.slice(0,u),10):parseInt(this.el_["offset"+b(n)],10)},t.currentDimension=function(n){var t=0,i;if("width"!==n&&"height"!==n)throw new Error("currentDimension only accepts width or height value");return(t=we(this.el_,n),0===(t=parseFloat(t))||isNaN(t))&&(i="offset"+b(n),t=this.el_[i]),t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(n){this.player_&&(n.stopPropagation(),this.player_.handleKeyDown(n))},t.handleKeyPress=function(n){this.handleKeyDown(n)},t.emitTapEvents=function(){function u(){t=!1}var t,r=0,i=null;this.on("touchstart",function(u){1===u.touches.length&&(i={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},r=n.performance.now(),t=!0)});this.on("touchmove",function(n){if(1<n.touches.length)t=!1;else if(i){var r=n.touches[0].pageX-i.pageX,u=n.touches[0].pageY-i.pageY;10<Math.sqrt(r*r+u*u)&&(t=!1)}});this.on("touchleave",u);this.on("touchcancel",u);this.on("touchend",function(u){!(i=null)===t&&n.performance.now()-r<200&&(u.preventDefault(),this.trigger("tap"))})},t.enableTouchActivity=function(){var t,n,i;if(this.player()&&this.player().reportUserActivity){n=s(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){n();this.clearInterval(t);t=this.setInterval(n,250)});i=function(){n();this.clearInterval(t)};this.on("touchmove",n);this.on("touchend",i);this.on("touchcancel",i)}},t.setTimeout=function(t,i){var r,u=this;return t=s(this,t),this.clearTimersOnDispose_(),r=n.setTimeout(function(){u.setTimeoutIds_.has(r)&&u.setTimeoutIds_.delete(r);t()},i),this.setTimeoutIds_.add(r),r},t.clearTimeout=function(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),n.clearTimeout(t)),t},t.setInterval=function(t,i){t=s(this,t);this.clearTimersOnDispose_();var r=n.setInterval(t,i);return this.setIntervalIds_.add(r),r},t.clearInterval=function(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),n.clearInterval(t)),t},t.requestAnimationFrame=function(t){var i,r=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),t=s(this,t),i=n.requestAnimationFrame(function(){r.rafIds_.has(i)&&r.rafIds_.delete(i);t()}),this.rafIds_.add(i),i):this.setTimeout(t,1e3/60)},t.cancelAnimationFrame=function(t){return this.supportsRaf_?(this.rafIds_.has(t)&&(this.rafIds_.delete(t),n.cancelAnimationFrame(t)),t):this.clearTimeout(t)},t.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var i=t[0],r=t[1];n[i].forEach(n[r],n)});n.clearingTimersOnDispose_=!1}))},i.registerComponent=function(n,t){var r,u,f;if("string"!=typeof n||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var e,o=i.getComponent("Tech"),s=o&&o.isTech(t),h=i===t||i.prototype.isPrototypeOf(t.prototype);if(s||!h)throw e=s?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+n+'"; '+e+".");if(n=b(n),i.components_||(i.components_={}),r=i.getComponent("Player"),"Player"===n&&r&&r.players&&(u=r.players,f=Object.keys(u),u&&0<f.length&&f.map(function(n){return u[n]}).every(Boolean)))throw new Error("Can not register Player component after player has been created.");return i.components_[n]=t,i.components_[no(n)]=t},i.getComponent=function(n){if(n&&i.components_)return i.components_[n]},i}();r.prototype.supportsRaf_="function"==typeof n.requestAnimationFrame&&"function"==typeof n.cancelAnimationFrame;r.registerComponent("Component",r);for(var o=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n},rc,uc,fc,ec,u=function(n,t){n.prototype=Object.create(t.prototype);(n.prototype.constructor=n).__proto__=t},d=n.navigator&&n.navigator.userAgent||"",ew=/AppleWebKit\/([\d.]+)/i.exec(d),ait=ew?parseFloat(ew.pop()):null,ow=/iPod/i.test(d),vit=(rc=d.match(/OS (\d+)_/i))&&rc[1]?rc[1]:null,wi=/Android/i.test(d),oc=function(){var n=d.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),t,i;return n?(t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]),t&&i?parseFloat(n[1]+"."+n[2]):t||null):null}(),sw=wi&&oc<5&&ait<537,hw=/Firefox/i.test(d),to=/Edge/i.test(d),si=!to&&(/Chrome/i.test(d)||/CriOS/i.test(d)),cw=(uc=d.match(/(Chrome|CriOS)\/(\d+)/))&&uc[2]?parseFloat(uc[2]):null,io=(fc=/MSIE\s(\d+)\.\d/.exec(d),!(ec=fc&&parseFloat(fc[1]))&&/Trident\/7.0/i.test(d)&&/rv:11.0/.test(d)&&(ec=11),ec),sc=/Safari/i.test(d)&&!si&&!wi&&!to,lw=/Windows/i.test(d),tu=kr()&&(("ontouchstart"in n)||n.navigator.maxTouchPoints||n.DocumentTouch&&n.document instanceof n.DocumentTouch),hc=/iPad/i.test(d)||sc&&tu&&!/iPhone/i.test(d),cc=/iPhone/i.test(d)&&!hc,ii=cc||hc||ow,lc=(sc||ii)&&!si,yit=Object.freeze({IS_IPOD:ow,IOS_VERSION:vit,IS_ANDROID:wi,ANDROID_VERSION:oc,IS_NATIVE_ANDROID:sw,IS_FIREFOX:hw,IS_EDGE:to,IS_CHROME:si,CHROME_VERSION:cw,IE_VERSION:io,IS_SAFARI:sc,IS_WINDOWS:lw,TOUCH_ENABLED:tu,IS_IPAD:hc,IS_IPHONE:cc,IS_IOS:ii,IS_ANY_SAFARI:lc}),yf,vc={prefixed:!0},ro=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],yw=ro[0],uo=0;uo<ro.length;uo++)if(ro[uo][1]in t){yf=ro[uo];break}if(yf){for(pf=0;pf<yf.length;pf++)vc[yw[pf]]=yf[pf];vc.prefixed=yf[0]!==yw[0]}for(ut.prototype.code=0,ut.prototype.message="",ut.prototype.status=null,ut.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ut.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},ur=0;ur<ut.errorTypes.length;ur++)ut[ut.errorTypes[ur]]=ur,ut.prototype[ut.errorTypes[ur]]=ur;pw=function(n,t){var i,r=null;try{i=JSON.parse(n,t)}catch(n){r=n}return[r,i]};var pit=function(n){var t=n.$$("track"),i=Array.prototype.map.call(t,function(n){return n.track});return Array.prototype.map.call(t,function(n){var t=ww(n.track);return n.src&&(t.src=n.src),t}).concat(Array.prototype.filter.call(n.textTracks(),function(n){return-1===i.indexOf(n)}).map(ww))},wit=function(n,t){return n.forEach(function(n){var i=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(n){return i.addCue(n)})}),t.textTracks()},e=gi(function(n,t){function o(n){var i,e,t;return(n&&"object"==typeof n&&(i=n.which||n.keyCode||n.charCode,i&&(n=i)),"number"==typeof n)?f[n]:(t=String(n),(e=r[t.toLowerCase()])?e:(e=u[t.toLowerCase()])||(1===t.length?t.charCodeAt(0):void 0))}var r,u,i,f,e;for(o.isEventKey=function(n,t){var i,f;if(n&&"object"==typeof n){if(i=n.which||n.keyCode||n.charCode,null==i)return!1;if("string"==typeof t){if((f=r[t.toLowerCase()])||(f=u[t.toLowerCase()]))return f===i}else if("number"==typeof t)return t===i;return!1}},r=(t=n.exports=o).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},u=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,"break":19,caps:20,"return":13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91},i=97;i<123;i++)r[String.fromCharCode(i)]=i-32;for(i=48;i<58;i++)r[i-48]=i;for(i=1;i<13;i++)r["f"+i]=i+111;for(i=0;i<10;i++)r["numpad "+i]=i+96;f=t.names=t.title={};for(i in r)f[r[i]]=i;for(e in u)r[e]=u[e]}),yc=(e.code,e.codes,e.aliases,e.names,e.title,"vjs-modal-dialog"),ru=function(i){function f(n,t){var r;return(r=i.call(this,n,t)||this).opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=p("div",{className:yc+"-content"},{role:"document"}),r.descEl_=p("p",{className:yc+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),dr(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}u(f,i);var r=f.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;i.prototype.dispose.call(this)},r.buildCSSClass=function(){return yc+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},r.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen");this.opened_=!0;!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill();this.wasPlaying_=!n.paused();this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause();this.on("keydown",this.handleKeyDown);this.hadControls_=n.controls();n.controls(!1);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=!0}},r.opened=function(n){return"boolean"==typeof n&&this[n?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose");this.opened_=!1;this.wasPlaying_&&this.options_.pauseOnOpen&&n.play();this.off("keydown",this.handleKeyDown);this.hadControls_&&n.controls(!0);this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();this.options_.temporary&&this.dispose()}},r.closeable=function(n){var i,t,r;return"boolean"==typeof n&&(i=this.closeable_=!!n,t=this.getChild("closeButton"),i&&!t&&(r=this.contentEl_,this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)),!i&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())),this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(n){var t=this.contentEl(),i=t.parentNode,u=t.nextSibling,r;this.trigger("beforemodalfill");this.hasBeenFilled_=!0;i.removeChild(t);this.empty();sp(t,n);this.trigger("modalfill");u?i.insertBefore(t,u):i.appendChild(t);r=this.getChild("closeButton");r&&i.appendChild(r.el_)},r.empty=function(){this.trigger("beforemodalempty");ph(this.contentEl());this.trigger("modalempty")},r.content=function(n){return"undefined"!=typeof n&&(this.content_=n),this.content_},r.conditionalFocus_=function(){var n=t.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null;(i.contains(n)||i===n)&&(this.previouslyActiveEl_=n,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(n){if(n.stopPropagation(),e.isEventKey(n,"Escape")&&this.closeable())return n.preventDefault(),void this.close();if(e.isEventKey(n,"Tab")){for(var r,i=this.focusableEls_(),f=this.el_.querySelector(":focus"),u=0;u<i.length;u++)if(f===i[u]){r=u;break}t.activeElement===this.el_&&(r=0);n.shiftKey&&0===r?(i[i.length-1].focus(),n.preventDefault()):n.shiftKey||r!==i.length-1||(i[0].focus(),n.preventDefault())}},r.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof n.HTMLAnchorElement||t instanceof n.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof n.HTMLInputElement||t instanceof n.HTMLSelectElement||t instanceof n.HTMLTextAreaElement||t instanceof n.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof n.HTMLIFrameElement||t instanceof n.HTMLObjectElement||t instanceof n.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},f}(r);ru.prototype.options_={pauseOnOpen:!0,temporary:!0};r.registerComponent("ModalDialog",ru);fr=function(n){function t(t){var i,r;for(void 0===t&&(t=[]),(i=n.call(this)||this).tracks_=[],Object.defineProperty(o(i),"length",{get:function(){return this.tracks_.length}}),r=0;r<t.length;r++)i.addTrack(t[r]);return i}u(t,n);var i=t.prototype;return i.addTrack=function(n){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}});-1===this.tracks_.indexOf(n)&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this}))},i.removeTrack=function(n){for(var i,t=0,r=this.length;t<r;t++)if(this[t]===n){(i=this[t]).off&&i.off();this.tracks_.splice(t,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})},i.getTrackById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},t}(rt);for(bw in fr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},fr.prototype.allowedEvents_)fr.prototype["on"+bw]=null;var bit=function(n){function t(t){var r,i;for(void 0===t&&(t=[]),i=t.length-1;0<=i;i--)if(t[i].enabled){pc(t,t[i]);break}return(r=n.call(this,t)||this).changing_=!1,r}u(t,n);var i=t.prototype;return i.addTrack=function(t){var i=this;t.enabled&&pc(this,t);n.prototype.addTrack.call(this,t);t.addEventListener&&(t.enabledChange_=function(){i.changing_||(i.changing_=!0,pc(i,t),i.changing_=!1,i.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},i.removeTrack=function(t){n.prototype.removeTrack.call(this,t);t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(fr),kit=function(n){function t(t){var r,i;for(void 0===t&&(t=[]),i=t.length-1;0<=i;i--)if(t[i].selected){wc(t,t[i]);break}return(r=n.call(this,t)||this).changing_=!1,Object.defineProperty(o(r),"selectedIndex",{get:function(){for(var n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set:function(){}}),r}u(t,n);var i=t.prototype;return i.addTrack=function(t){var i=this;t.selected&&wc(this,t);n.prototype.addTrack.call(this,t);t.addEventListener&&(t.selectedChange_=function(){i.changing_||(i.changing_=!0,wc(i,t),i.changing_=!1,i.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},i.removeTrack=function(t){n.prototype.removeTrack.call(this,t);t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(fr),dw=function(n){function t(){return n.apply(this,arguments)||this}u(t,n);var i=t.prototype;return i.addTrack=function(t){var i=this;n.prototype.addTrack.call(this,t);this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")});this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")});t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(t){n.prototype.removeTrack.call(this,t);t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(fr),dit=function(){function t(n){void 0===n&&(n=[]);this.trackElements_=[];Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,i=n.length;t<i;t++)this.addTrackElement_(n[t])}var n=t.prototype;return n.addTrackElement_=function(n){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}});-1===this.trackElements_.indexOf(n)&&this.trackElements_.push(n)},n.getTrackElementByTrack_=function(n){for(var i,t=0,r=this.trackElements_.length;t<r;t++)if(n===this.trackElements_[t].track){i=this.trackElements_[t];break}return i},n.removeTrackElement_=function(n){for(var t=0,i=this.trackElements_.length;t<i;t++)if(n===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off();"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off();this.trackElements_.splice(t,1);break}},t}(),gw=function(){function n(t){n.prototype.setCues_.call(this,t);Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=n.prototype;return t.setCues_=function(n){function u(n){""+n in this||Object.defineProperty(this,""+n,{get:function(){return this.cues_[n]}})}var i=this.length||0,t=0,r=n.length;if(this.cues_=n,this.length_=n.length,i<r)for(t=i;t<r;t++)u.call(this,t)},t.getCueById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},n}(),git={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},nrt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},trt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},nb={disabled:"disabled",hidden:"hidden",showing:"showing"},dc=function(n){function t(t){function f(n){Object.defineProperty(o(i),n,{get:function(){return r[n]},set:function(){}})}var i,r,u;void 0===t&&(t={});i=n.call(this)||this;r={id:t.id||"vjs_track_"+yi(),kind:t.kind||"",label:t.label||"",language:t.language||""};for(u in r)f(u);return i}return u(t,n),t}(rt),irt=Object.freeze({parseUrl:bc,getAbsoluteURL:kw,getFileExtension:kc,isCrossOrigin:fo}),rrt=function(n){var t=urt.call(n);return"[object Function]"===t||"function"==typeof n&&"[object RegExp]"!==t||"undefined"!=typeof window&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)},urt=Object.prototype.toString,frt=function(n){var t={};return n&&n.trim().split("\n").forEach(function(n){var u=n.indexOf(":"),i=n.slice(0,u).trim().toLowerCase(),r=n.slice(u+1).trim();"undefined"==typeof t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]}),t},gc=hi,ert=hi;hi.XMLHttpRequest=n.XMLHttpRequest||function(){};hi.XDomainRequest="withCredentials"in new hi.XMLHttpRequest?hi.XMLHttpRequest:n.XDomainRequest,function(n,t){for(var i=0;i<n.length;i++)t(n[i])}(["get","put","post","patch","head","delete"],function(n){hi["delete"===n?"del":n]=function(t,i,r){return(i=tb(t,i,r)).method=n.toUpperCase(),ib(i)}});gc.default=ert;uu=function(t){function i(n){var i;if(void 0===n&&(n={}),!n.tech)throw new Error("A tech was not provided.");var r=v(n,{kind:trt[n.kind]||"subtitles",language:n.language||n.srclang||""}),u=nb[r.mode]||"disabled",c=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(u="hidden");(i=t.call(this,r)||this).tech_=r.tech;i.cues_=[];i.activeCues_=[];i.preload_=!1!==i.tech_.preloadTextTracks;var l=new gw(i.cues_),e=new gw(i.activeCues_),f=!1,h=s(o(i),function(){this.activeCues=this.activeCues;f&&(this.trigger("cuechange"),f=!1)});return"disabled"!==u&&i.tech_.ready(function(){i.tech_.on("timeupdate",h)},!0),Object.defineProperties(o(i),{"default":{get:function(){return c},set:function(){}},mode:{get:function(){return u},set:function(n){var t=this;nb[n]&&(u=n,this.preload_||"disabled"===u||0!==this.cues.length||ub(this.src,this),"disabled"!==u?this.tech_.ready(function(){t.tech_.on("timeupdate",h)},!0):this.tech_.off("timeupdate",h),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){var n,r;if(!this.loaded_)return null;if(0===this.cues.length)return e;for(var i=this.tech_.currentTime(),t=[],u=0,o=this.cues.length;u<o;u++)n=this.cues[u],n.startTime<=i&&n.endTime>=i?t.push(n):n.startTime===n.endTime&&n.startTime<=i&&n.startTime+.5>=i&&t.push(n);if(f=!1,t.length!==this.activeCues_.length)f=!0;else for(r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(f=!0);return this.activeCues_=t,e.setCues_(this.activeCues_),e},set:function(){}}}),r.src?(i.src=r.src,i.preload_||(i.loaded_=!0),(i.preload_||c||"subtitles"!==r.kind&&"captions"!==r.kind)&&ub(i.src,o(i))):i.loaded_=!0,i}u(i,t);var r=i.prototype;return r.addCue=function(t){var i=t,u,f,r;if(n.vttjs&&!(t instanceof n.vttjs.VTTCue)){for(u in i=new n.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)u in i||(i[u]=t[u]);i.id=t.id;i.originalCue_=t}for(f=this.tech_.textTracks(),r=0;r<f.length;r++)f[r]!==this&&f[r].removeCue(i);this.cues_.push(i);this.cues.setCues_(this.cues_)},r.removeCue=function(n){for(var i,t=this.cues_.length;t--;)if(i=this.cues_[t],i===n||i.originalCue_&&i.originalCue_===n){this.cues_.splice(t,1);this.cues.setCues_(this.cues_);break}},i}(dc);uu.prototype.allowedEvents_={cuechange:"cuechange"};var fb=function(n){function t(t){var i,r,u;return void 0===t&&(t={}),r=v(t,{kind:nrt[t.kind]||""}),i=n.call(this,r)||this,u=!1,Object.defineProperty(o(i),"enabled",{get:function(){return u},set:function(n){"boolean"==typeof n&&n!==u&&(u=n,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return u(t,n),t}(dc),eb=function(n){function t(t){var i,r,u;return void 0===t&&(t={}),r=v(t,{kind:git[t.kind]||""}),i=n.call(this,r)||this,u=!1,Object.defineProperty(o(i),"selected",{get:function(){return u},set:function(n){"boolean"==typeof n&&n!==u&&(u=n,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return u(t,n),t}(dc),fu=function(n){function t(t){var i,u,r;return void 0===t&&(t={}),i=n.call(this)||this,r=new uu(t),i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(o(i),{readyState:{get:function(){return u}},track:{get:function(){return r}}}),u=0,r.addEventListener("loadeddata",function(){u=2;i.trigger({type:"load",target:o(i)})}),i}return u(t,n),t}(rt);fu.prototype.allowedEvents_={load:"load"};fu.NONE=0;fu.LOADING=1;fu.LOADED=2;fu.ERROR=3;yt={audio:{ListClass:bit,TrackClass:fb,capitalName:"Audio"},video:{ListClass:kit,TrackClass:eb,capitalName:"Video"},text:{ListClass:dw,TrackClass:uu,capitalName:"Text"}};Object.keys(yt).forEach(function(n){yt[n].getterName=n+"Tracks";yt[n].privateName=n+"Tracks_"});eu={remoteText:{ListClass:dw,TrackClass:uu,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:dit,TrackClass:fu,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};it=pe({},yt,eu);eu.names=Object.keys(eu);yt.names=Object.keys(yt);it.names=[].concat(eu.names).concat(yt.names);eo=Object.create||function(n){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return ob.prototype=n,new ob};((ri.prototype=eo(Error.prototype)).constructor=ri).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};bf.prototype={set:function(n,t){this.get(n)||""===t||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(n,t),!0)}};var tl=t.createElement("textarea"),srt={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},sb={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},hrt={v:"title",lang:"lang"},hb={rt:"ruby"};il=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];oo.prototype.applyStyles=function(n,t){for(var i in t=t||this.div,n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};oo.prototype.formatStyle=function(n,t){return 0===n?0:n+t};(rl.prototype=eo(oo.prototype)).constructor=rl;ft.prototype.move=function(n,t){switch(t=void 0!==t?t:this.lineHeight,n){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t}};ft.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};ft.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};ft.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};ft.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};ft.prototype.intersectPercentage=function(n){return Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left))*Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top))/(this.height*this.width)};ft.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};ft.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return{left:(n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n).left,right:n.right,top:n.top||i,height:n.height||t,bottom:n.bottom||i+(n.height||t),width:n.width||r}};df.StringDecoder=function(){return{decode:function(n){if(!n)return"";if("string"!=typeof n)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};df.convertCueToDOMTree=function(n,t){return n&&t?cb(n,t):null};df.processCues=function(n,t,i){var r,u;if(!n||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);if(r=n.document.createElement("div"),r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",i.appendChild(r),function(n){for(var t=0;t<n.length;t++)if(n[t].hasBeenReset||!n[t].displayState)return!0;return!1}(t)){var f=[],e=ft.getSimpleBoxPosition(r),o={font:Math.round(.05*e.height*100)/100+"px sans-serif"};!function(){for(var i,u,s=0;s<t.length;s++)u=t[s],i=new rl(n,u,o),r.appendChild(i.div),lrt(0,i,e,f),u.displayState=i.div,f.push(ft.getSimpleBoxPosition(i))}()}else for(u=0;u<t.length;u++)r.appendChild(t[u].displayState)};(df.Parser=function(n,t,i){i||(i=t,t={});t=t||{};this.window=n;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=i||new TextDecoder("utf8");this.regionList=[]}).prototype={reportOrThrowError:function(n){if(!(n instanceof ri))throw n;this.onparsingerror&&this.onparsingerror(n)},parse:function(n){function f(){for(var r,i=t.buffer,n=0;n<i.length&&"\r"!==i[n]&&"\n"!==i[n];)++n;return r=i.substr(0,n),"\r"===i[n]&&++n,"\n"===i[n]&&++n,t.buffer=i.substr(n),r}function o(n){n.match(/X-TIMESTAMP-MAP/)?kf(n,function(n,i){switch(n){case"X-TIMESTAMP-MAP":!function(n){var i=new bf;kf(n,function(n,t){switch(n){case"MPEGT":i.integer(n+"S",t);break;case"LOCA":i.set(n+"L",nl(t))}},/[^\d]:/,/,/);t.ontimestampmap&&t.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}(i)}},/=/):kf(n,function(n,i){switch(n){case"Region":!function(n){var i=new bf,r;(kf(n,function(n,t){var u,r;switch(n){case"id":i.set(n,t);break;case"width":i.percent(n,t);break;case"lines":i.integer(n,t);break;case"regionanchor":case"viewportanchor":if(u=t.split(","),2!==u.length)break;if(r=new bf,r.percent("x",u[0]),r.percent("y",u[1]),!r.has("x")||!r.has("y"))break;i.set(n+"X",r.get("x"));i.set(n+"Y",r.get("y"));break;case"scroll":i.alt(n,t,["up"])}},/=/,/\s/),i.has("id"))&&(r=new(t.vttjs.VTTRegion||t.window.VTTRegion),r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r}))}(i)}},/:/)}var t=this,i,u,r,e;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;if(u=(i=f()).match(/^WEBVTT([ \t].*)?$/),!u||!u[0])throw new ri(ri.Errors.BadSignature);t.state="HEADER"}for(r=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(r?r=!1:i=f(),t.state){case"HEADER":/:/.test(i)?o(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(n){t.cue.align="middle"}if(t.state="CUE",-1===i.indexOf("-->")){t.cue.id=i;continue}case"CUE":try{ort(i,t.cue,t.regionList)}catch(n){t.reportOrThrowError(n);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(e=-1!==i.indexOf("-->"),!i||e&&(r=!0)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}t.cue.text&&(t.cue.text+="\n");t.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(t.state="ID");continue}}}catch(n){t.reportOrThrowError(n);"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue);t.cue=null;t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),!n.cue&&"HEADER"!==n.state||(n.buffer+="\n\n",n.parse()),"INITIAL"===n.state)throw new ri(ri.Errors.BadSignature);}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};var art=df,vrt={"":1,lr:1,rl:1},yrt={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};lb.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};ab=lb;vb={"":!0,up:!0};ou=gi(function(t){var i=t.exports={WebVTT:art,VTTCue:ab,VTTRegion:prt};n.vttjs=i;n.WebVTT=i.WebVTT;var r=i.VTTCue,u=i.VTTRegion,f=n.VTTCue,e=n.VTTRegion;i.shim=function(){n.VTTCue=r;n.VTTRegion=u};i.restore=function(){n.VTTCue=f;n.VTTRegion=e};n.VTTCue||i.shim()});ou.WebVTT;ou.VTTCue;ou.VTTRegion;a=function(i){function f(n,t){var r;return void 0===n&&(n={}),void 0===t&&(t=function(){}),n.reportTouchActivity=!1,(r=i.call(this,null,n,t)||this).hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),it.names.forEach(function(t){var i=it[t];n&&n[i.getterName]&&(r[i.privateName]=n[i.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){!1===n["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==n.preloadTextTracks,r.autoRemoteTextTracks_=new it.text.ListClass,r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}u(f,i);var r=f.prototype;return r.triggerSourceset=function(n){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(n)},1)});this.trigger({src:n,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);this.manualProgress=!0;this.one("ready",this.trackProgress)},r.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)},r.trackProgress=function(){this.stopTrackingProgress();this.progressInterval=this.setInterval(s(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress");1===(this.bufferedPercent_=n)&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(){this.duration_=this.duration()},r.buffered=function(){return rr(0,0)},r.bufferedPercent=function(){return vw(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(yt.names);this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();i.prototype.dispose.call(this)},r.clearTracks=function(n){var t=this;(n=[].concat(n)).forEach(function(n){for(var u,i=t[n+"Tracks"]()||[],r=i.length;r--;)u=i[r],"text"===n&&t.removeRemoteTextTrack(u),i.removeTrack(u)})},r.cleanupAutoTextTracks=function(){for(var i,n=this.autoRemoteTextTracks_||[],t=n.length;t--;)i=n[t],this.removeRemoteTextTrack(i)},r.reset=function(){},r.error=function(n){return void 0!==n&&(this.error_=new ut(n),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?rr(0,0):rr()},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var n=this;yt.names.forEach(function(t){function i(){n.trigger(t+"trackchange")}var u=yt[t],r=n[u.getterName]();r.addEventListener("removetrack",i);r.addEventListener("addtrack",i);n.on("dispose",function(){r.removeEventListener("removetrack",i);r.removeEventListener("addtrack",i)})})},r.addWebVttScript_=function(){var r=this,i;if(!n.WebVTT)if(t.body.contains(this.el())){if(!this.options_["vtt.js"]&&sf(ou)&&0<Object.keys(ou).length)return void this.trigger("vttjsloaded");i=t.createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js";i.onload=function(){r.trigger("vttjsloaded")};i.onerror=function(){r.trigger("vttjserror")};this.on("dispose",function(){i.onload=null;i.onerror=null});n.WebVTT=!0;this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){function u(t){return n.addTrack(t.track)}function f(t){return n.removeTrack(t.track)}function r(){return e.trigger("texttrackchange")}function t(){var t,i;for(r(),t=0;t<n.length;t++)i=n[t],i.removeEventListener("cuechange",r),"showing"===i.mode&&i.addEventListener("cuechange",r)}var e=this,n=this.textTracks(),i=this.remoteTextTracks();i.on("addtrack",u);i.on("removetrack",f);this.addWebVttScript_();t();n.addEventListener("change",t);n.addEventListener("addtrack",t);n.addEventListener("removetrack",t);this.on("dispose",function(){i.off("addtrack",u);i.off("removetrack",f);n.removeEventListener("change",t);n.removeEventListener("addtrack",t);n.removeEventListener("removetrack",t);for(var e=0;e<n.length;e++)n[e].removeEventListener("cuechange",r)})},r.addTextTrack=function(n,t,i){if(!n)throw new Error("TextTrack kind is required but was not provided");return function(n,t,i,r,u){var e,f;return void 0===u&&(u={}),e=n.textTracks(),u.kind=t,i&&(u.label=i),r&&(u.language=r),u.tech=n,f=new it.text.TrackClass(u),e.addTrack(f),f}(this,n,t,i)},r.createRemoteTextTrack=function(n){var t=v(n,{tech:this});return new eu.remoteTextEl.TrackClass(t)},r.addRemoteTextTrack=function(n,t){var r=this,i;return void 0===n&&(n={}),i=this.createRemoteTextTrack(n),!0!==t&&!1!==t&&(h.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!0!==t&&this.ready(function(){return r.autoRemoteTextTracks_.addTrack(i.track)}),i},r.removeRemoteTextTrack=function(n){var t=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(t);this.remoteTextTracks().removeTrack(n);this.autoRemoteTextTracks_.removeTrack(n)},r.getVideoPlaybackQuality=function(){return{}},r.requestPictureInPicture=function(){var t=this.options_.Promise||n.Promise;if(t)return t.reject()},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},f.canPlayType=function(){return""},f.canPlaySource=function(n){return f.canPlayType(n.type)},f.isTech=function(n){return n.prototype instanceof f||n instanceof f||n===f},f.registerTech=function(n,t){if(f.techs_||(f.techs_={}),!f.isTech(t))throw new Error("Tech "+n+" must be a Tech");if(!f.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!f.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=b(n),f.techs_[n]=t,f.techs_[no(n)]=t,"Tech"!==n&&f.defaultTechOrder_.push(n),t},f.getTech=function(t){if(t)return f.techs_&&f.techs_[t]?f.techs_[t]:(t=b(t),n&&n.videojs&&n.videojs[t]?(h.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),n.videojs[t]):void 0)},f}(r);it.names.forEach(function(n){var t=it[n];a.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});a.prototype.featuresVolumeControl=!0;a.prototype.featuresMuteControl=!0;a.prototype.featuresFullscreenResize=!1;a.prototype.featuresPlaybackRate=!1;a.prototype.featuresProgressEvents=!1;a.prototype.featuresSourceset=!1;a.prototype.featuresTimeupdateEvents=!1;a.prototype.featuresNativeTextTracks=!1;a.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){var r=n.sourceHandlers;r=r||(n.sourceHandlers=[]);void 0===i&&(i=r.length);r.splice(i,0,t)};n.canPlayType=function(t){for(var r,u=n.sourceHandlers||[],i=0;i<u.length;i++)if(r=u[i].canPlayType(t))return r;return""};n.selectSourceHandler=function(t,i){for(var u=n.sourceHandlers||[],r=0;r<u.length;r++)if(u[r].canHandleSource(t,i))return u[r];return null};n.canPlaySource=function(t,i){var r=n.selectSourceHandler(t,i);return r?r.canHandleSource(t,i):""};["seekable","seeking","duration"].forEach(function(n){var t=this[n];"function"==typeof t&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},n.prototype);n.prototype.setSource=function(t){var i=n.selectSourceHandler(t,this.options_);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:h.error("No source handler found for the current source."));this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);i!==n.nativeSourceHandler&&(this.currentSource_=t);this.sourceHandler_=i.handleSource(t,this,this.options_);this.one("dispose",this.disposeSourceHandler)};n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null);this.cleanupAutoTextTracks();this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};r.registerComponent("Tech",a);a.registerTech("Tech",a);a.defaultTechOrder_=[];var er={},fl={},so={};var brt={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},krt={setCurrentTime:1,setMuted:1,setVolume:1},pb={play:1,pause:1};wb={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};kb=function(n){function t(t,i,u){var h,c=v({createEl:!1},i),e,s,f,o;if(h=n.call(this,t,c,u)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)t.src(i.playerOptions.sources);else for(e=0,s=i.playerOptions.techOrder;e<s.length;e++)if(f=b(s[e]),o=a.getTech(f),f||(o=r.getComponent(f)),o&&o.isSupported()){t.loadTech_(f);break}return h}return u(t,n),t}(r);r.registerComponent("MediaLoader",kb);ne=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).emitTapEvents(),r.enable(),r}u(i,n);var t=i.prototype;return t.createEl=function(t,i,r){void 0===t&&(t="div");void 0===i&&(i={});void 0===r&&(r={});i=y({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass(),tabIndex:0},i);"button"===t&&h.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead.");r=y({role:"button"},r);this.tabIndex_=i.tabIndex;var u=n.prototype.createEl.call(this,t,i,r);return this.createControlTextEl(u),u},t.dispose=function(){this.controlTextEl_=null;n.prototype.dispose.call(this)},t.createControlTextEl=function(n){return this.controlTextEl_=p("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},t.controlText=function(n,t){if(void 0===t&&(t=this.el()),void 0===n)return this.controlText_||"Need Text";var i=this.localize(n);this.controlText_=n;dr(this.controlTextEl_,i);this.nonIconControl||t.setAttribute("title",i)},t.buildCSSClass=function(){return"vjs-control vjs-button "+n.prototype.buildCSSClass.call(this)},t.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},t.disable=function(){this.enabled_=!1;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex");this.off("mouseover",this.handleMouseOver);this.off("mouseout",this.handleMouseOut);this.off(["tap","click"],this.handleClick);this.off("keydown",this.handleKeyDown)},t.handleClick=function(){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},t.handleKeyDown=function(t){e.isEventKey(t,"Space")||e.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},i}(r);r.registerComponent("ClickableComponent",ne);db=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).update(),t.on("posterchange",s(o(r),r.update)),r}u(i,n);var t=i.prototype;return t.dispose=function(){this.player().off("posterchange",this.update);n.prototype.dispose.call(this)},t.createEl=function(){return p("div",{className:"vjs-poster",tabIndex:-1})},t.update=function(){var n=this.player().poster();this.setSrc(n);n?this.show():this.hide()},t.setSrc=function(n){var t="";n&&(t='url("'+n+'")');this.el_.style.backgroundImage=t},t.handleClick=function(){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?iu(this.player_.play()):this.player_.pause())},i}(ne);r.registerComponent("PosterImage",db);te="#222";gb={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};nk=function(t){function r(i,r,u){var f,e;return f=t.call(this,i,r,u)||this,e=s(o(f),f.updateDisplay),i.on("loadstart",s(o(f),f.toggleDisplay)),i.on("texttrackchange",e),i.on("loadedmetadata",s(o(f),f.preselectTrack)),i.ready(s(o(f),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",e);i.on("playerresize",e);n.addEventListener("orientationchange",e);i.on("dispose",function(){return n.removeEventListener("orientationchange",e)});for(var r=this.options_.playerOptions.tracks||[],t=0;t<r.length;t++)this.player_.addRemoteTextTrack(r[t],!0);this.preselectTrack()}})),f}u(r,t);var i=r.prototype;return i.preselectTrack=function(){for(var n,i,r,u,e={captions:1,subtitles:1},o=this.player_.textTracks(),t=this.player_.cache_.selectedLanguage,f=0;f<o.length;f++)n=o[f],t&&t.enabled&&t.language&&t.language===n.language&&n.kind in e?u=n.kind===t.kind?n:u||n:t&&!t.enabled?r=i=u=null:n.default&&("descriptions"!==n.kind||i?n.kind in e&&!r&&(r=n):i=n);u?u.mode="showing":r?r.mode="showing":i&&(i.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){"function"==typeof n.WebVTT&&n.WebVTT.processCues(n,[],this.el_)},i.updateDisplay=function(){var t=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks,r,i,u,n;if(this.clearDisplay(),s){for(r=[],i=0;i<t.length;++i)u=t[i],"showing"===u.mode&&r.push(u);this.updateForTrack(r)}else{for(var f=null,e=null,o=t.length;o--;)n=t[o],"showing"===n.mode&&("descriptions"===n.kind?f=n:e=n);e?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(e)):f&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(f))}},i.updateDisplayState=function(t){for(var u,r,o,i=this.player_.textTrackSettings.getValues(),f=t.activeCues,e=f.length;e--;)u=f[e],u&&(r=u.displayState,(i.color&&(r.firstChild.style.color=i.color),i.textOpacity&&sl(r.firstChild,"color",ol(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(r.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&sl(r.firstChild,"backgroundColor",ol(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?sl(r,"backgroundColor",ol(i.windowColor,i.windowOpacity)):r.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?r.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+te:"raised"===i.edgeStyle?r.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+te:"depressed"===i.edgeStyle?r.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+te:"uniform"===i.edgeStyle&&(r.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+te)),i.fontPercent&&1!==i.fontPercent)&&(o=n.parseFloat(r.style.fontSize),r.style.fontSize=o*i.fontPercent+"px",r.style.height="auto",r.style.top="auto",r.style.bottom="2px"),i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=gb[i.fontFamily]))},i.updateForTrack=function(t){var o,u,s,f,r,i,e,h;if(Array.isArray(t)||(t=[t]),"function"==typeof n.WebVTT&&!t.every(function(n){return!n.activeCues})){for(o=[],u=0;u<t.length;++u)for(s=t[u],f=0;f<s.activeCues.length;++f)o.push(s.activeCues[f]);for(n.WebVTT.processCues(n,o,this.el_),r=0;r<t.length;++r){for(i=t[r],e=0;e<i.activeCues.length;++e)h=i.activeCues[e].displayState,ei(h,"vjs-text-track-cue"),ei(h,"vjs-text-track-cue-"+(i.language?i.language:r));this.player_.textTrackSettings&&this.updateDisplayState(i)}}},r}(r);r.registerComponent("TextTrackDisplay",nk);tk=function(n){function t(){return n.apply(this,arguments)||this}return u(t,n),t.prototype.createEl=function(){var i=this.player_.isAudio(),r=this.localize(i?"Audio Player":"Video Player"),u=p("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),t=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(u),t},t}(r);r.registerComponent("LoadingSpinner",tk);bt=function(n){function i(){return n.apply(this,arguments)||this}u(i,n);var t=i.prototype;return t.createEl=function(n,t,i){void 0===t&&(t={});void 0===i&&(i={});t=y({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass()},t);i=y({type:"button"},i);var u=r.prototype.createEl.call(this,"button",t,i);return this.createControlTextEl(u),u},t.addChild=function(n,t){void 0===t&&(t={});var i=this.constructor.name;return h.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),r.prototype.addChild.call(this,n,t)},t.enable=function(){n.prototype.enable.call(this);this.el_.removeAttribute("disabled")},t.disable=function(){n.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")},t.handleKeyDown=function(t){e.isEventKey(t,"Space")||e.isEventKey(t,"Enter")?t.stopPropagation():n.prototype.handleKeyDown.call(this,t)},i}(ne);r.registerComponent("Button",bt);hl=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}u(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(n){var t=this.player_.play(),f,i,r,u;if(this.mouseused_&&n.clientX&&n.clientY)return f=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&0<this.player_.eme.sessions.length,iu(t),void(!this.player_.tech(!0)||(io||to)&&f||this.player_.tech(!0).focus());i=this.player_.getChild("controlBar");r=i&&i.getChild("playToggle");r?(u=function(){return r.focus()},wf(t)?t.then(u,function(){}):this.setTimeout(u,1)):this.player_.tech(!0).focus()},t.handleKeyDown=function(t){this.mouseused_=!1;n.prototype.handleKeyDown.call(this,t)},t.handleMouseDown=function(){this.mouseused_=!0},i}(bt);hl.prototype.controlText_="Play Video";r.registerComponent("BigPlayButton",hl);ik=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).controlText(i&&i.controlText||r.localize("Close")),r}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(t){e.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):n.prototype.handleKeyDown.call(this,t)},t}(bt);r.registerComponent("CloseButton",ik);cl=function(n){function i(t,i){var r;return void 0===i&&(i={}),r=n.call(this,t,i)||this,i.replay=void 0===i.replay||i.replay,r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),i.replay&&r.on(t,"ended",r.handleEnded),r}u(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleSeeked=function(n){this.removeClass("vjs-ended");this.player_.paused()?this.handlePause(n):this.handlePlay(n)},t.handlePlay=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")},t.handlePause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")},t.handleEnded=function(){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)},i}(bt);cl.prototype.controlText_="Play";r.registerComponent("PlayToggle",cl);co=rk;or=function(n){function r(t,i){var r;return(r=n.call(this,t,i)||this).on(t,["timeupdate","ended"],r.updateContent),r.updateTextNode_(),r}u(r,n);var i=r.prototype;return i.createEl=function(){var t=this.buildCSSClass(),i=n.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"<\/span>"});return this.contentEl_=p("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},i.dispose=function(){this.contentEl_=null;this.textNode_=null;n.prototype.dispose.call(this)},i.updateTextNode_=function(n){var i=this;void 0===n&&(n=0);n=su(n);this.formattedTime_!==n&&(this.formattedTime_=n,this.requestAnimationFrame(function(){if(i.contentEl_){var n=i.textNode_;i.textNode_=t.createTextNode(i.formattedTime_);i.textNode_&&(n?i.contentEl_.replaceChild(i.textNode_,n):i.contentEl_.appendChild(i.textNode_))}}))},i.updateContent=function(){},r}(r);or.prototype.labelText_="Time";or.prototype.controlText_="Time";r.registerComponent("TimeDisplay",or);lo=function(n){function t(){return n.apply(this,arguments)||this}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(){var n;n=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateTextNode_(n)},t}(or);lo.prototype.labelText_="Current Time";lo.prototype.controlText_="Current Time";r.registerComponent("CurrentTimeDisplay",lo);ao=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).on(t,"durationchange",r.updateContent),r.on(t,"loadstart",r.updateContent),r.on(t,"loadedmetadata",r.updateContent),r}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(){var n=this.player_.duration();this.updateTextNode_(n)},t}(or);ao.prototype.labelText_="Duration";ao.prototype.controlText_="Duration";r.registerComponent("DurationDisplay",ao);uk=function(n){function t(){return n.apply(this,arguments)||this}return u(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/<\/span><\/div>"},{"aria-hidden":!0})},t}(r);r.registerComponent("TimeDivider",uk);vo=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).on(t,"durationchange",r.updateContent),r}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var t=n.prototype.createEl.call(this);return t.insertBefore(p("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},i.updateContent=function(){var n;"number"==typeof this.player_.duration()&&(n=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(n))},t}(or);vo.prototype.labelText_="Remaining Time";vo.prototype.controlText_="Remaining Time";r.registerComponent("RemainingTimeDisplay",vo);fk=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}u(t,n);var i=t.prototype;return i.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=p("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"<\/span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},i.dispose=function(){this.contentEl_=null;n.prototype.dispose.call(this)},i.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t}(r);r.registerComponent("LiveDisplay",fk);ll=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus),r}u(i,n);var t=i.prototype;return t.createEl=function(){var t=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=p("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},t.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus);this.textEl_=null;n.prototype.dispose.call(this)},i}(bt);ll.prototype.controlText_="Seek to live, currently playing live";r.registerComponent("SeekToLive",ll);yo=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}u(i,n);var t=i.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown);this.off("touchstart",this.handleMouseDown);this.off("keydown",this.handleKeyDown);this.off("click",this.handleClick);this.off(this.player_,"controlsvisible",this.update);this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.removeAttribute("tabindex");this.addClass("disabled");this.playerEvent&&this.off(this.player_,this.playerEvent,this.update);this.enabled_=!1}},t.createEl=function(t,i,r){return void 0===i&&(i={}),void 0===r&&(r={}),i.className=i.className+" vjs-slider",i=y({tabIndex:0},i),r=y({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),n.prototype.createEl.call(this,t,i,r)},t.handleMouseDown=function(n){var t=this.bar.el_.ownerDocument;"mousedown"===n.type&&n.preventDefault();"touchstart"!==n.type||si||n.preventDefault();rp();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(t,"mousemove",this.handleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchmove",this.handleMouseMove);this.on(t,"touchend",this.handleMouseUp);this.handleMouseMove(n)},t.handleMouseMove=function(){},t.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;up();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.update()},t.update=function(){var t=this,n;if(this.el_&&this.bar)return n=this.getProgress(),n===this.progress_||(this.progress_=n,this.requestAnimationFrame(function(){var i=t.vertical()?"height":"width";t.bar.el().style[i]=(100*n).toFixed(2)+"%"})),n},t.getProgress=function(){return Number(al(this.getPercent(),0,1).toFixed(4))},t.calculateDistance=function(n){var t=yh(this.el_,n);return this.vertical()?t.y:t.x},t.handleKeyDown=function(t){e.isEventKey(t,"Left")||e.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):e.isEventKey(t,"Right")||e.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):n.prototype.handleKeyDown.call(this,t)},t.handleClick=function(n){n.stopPropagation();n.preventDefault()},t.vertical=function(n){if(void 0===n)return this.vertical_||!1;this.vertical_=!!n;this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},i}(r);r.registerComponent("Slider",yo);ek=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).partEls_=[],r.on(t,"progress",r.update),r}u(i,n);var r=i.prototype;return r.createEl=function(){var r=n.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),i=p("span",{className:"vjs-control-text"}),u=p("span",{textContent:this.localize("Loaded")}),f=t.createTextNode(": ");return this.percentageEl_=p("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),r.appendChild(i),i.appendChild(u),i.appendChild(f),i.appendChild(this.percentageEl_),r},r.dispose=function(){this.partEls_=null;this.percentageEl_=null;n.prototype.dispose.call(this)},r.update=function(){var n=this;this.requestAnimationFrame(function(){var s=n.player_.liveTracker,r=n.player_.buffered(),l=s&&s.isLive()?s.seekableEnd():n.player_.duration(),h=n.player_.bufferedEnd(),u=n.partEls_,f=vl(h,l),i,o;for(n.percent_!==f&&(n.el_.style.width=f,dr(n.percentageEl_,f),n.percent_=f),i=0;i<r.length;i++){var e=r.start(i),c=r.end(i),t=u[i];t||(t=n.el_.appendChild(p()),u[i]=t);t.dataset.start===e&&t.dataset.end===c||(t.dataset.start=e,t.dataset.end=c,t.style.left=vl(e,h),t.style.width=vl(c-e,h))}for(o=u.length;o>r.length;o--)n.el_.removeChild(u[o-1]);u.length=r.length})},i}(r);r.registerComponent("LoadProgressBar",ek);ok=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).update=tr(s(o(r),r.update),30),r}u(i,n);var t=i.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},t.update=function(n,t,i){var u=af(this.el_),f=af(this.player_.el()),e=n.width*t;if(f&&u){var o=n.left-f.left+e,s=n.width-e+(f.right-n.right),r=u.width/2;o<r?r+=r-o:s<r&&(r=s);r<0?r=0:r>u.width&&(r=u.width);this.el_.style.right="-"+r+"px";this.write(i)}},t.write=function(n){dr(this.el_,n)},t.updateTime=function(n,t,i,r){var u=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);this.rafId_=this.requestAnimationFrame(function(){var e,s=u.player_.duration(),f,o;u.player_.liveTracker&&u.player_.liveTracker.isLive()?(f=u.player_.liveTracker.liveWindow(),o=f-t*f,e=(o<1?"":"-")+su(o,f)):e=su(i,s);u.update(n,t,e);r&&r()})},i}(r);r.registerComponent("TimeTooltip",ok);po=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).update=tr(s(o(r),r.update),30),r}u(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(n,t){var i=this.getChild("timeTooltip"),r;i&&(r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i.updateTime(n,t,r))},t}(r);po.prototype.options_={children:[]};ii||wi||po.prototype.options_.children.push("timeTooltip");r.registerComponent("PlayProgressBar",po);yl=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).update=tr(s(o(r),r.update),30),r}u(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(n,t){var i=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(n,t,r,function(){i.el_.style.left=n.width*t+"px"})},t}(r);yl.prototype.options_={children:["timeTooltip"]};r.registerComponent("MouseTimeDisplay",yl);wo=function(n){function r(t,i){var r;return(r=n.call(this,t,i)||this).setEventHandlers_(),r}u(r,n);var i=r.prototype;return i.setEventHandlers_=function(){this.update_=s(this,this.update);this.update=tr(this.update_,30);this.on(this.player_,["ended","durationchange","timeupdate"],this.update);this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update);this.updateInterval=null;this.on(this.player_,["playing"],this.enableInterval_);this.on(this.player_,["ended","pause","waiting"],this.disableInterval_);"hidden"in t&&"visibilityState"in t&&this.on(t,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(n){t.hidden?this.disableInterval_(n):(this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},i.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==n.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(){var t=this,i=n.prototype.update.call(this);return this.requestAnimationFrame(function(){var r=t.player_.ended()?t.player_.duration():t.getCurrentTime_(),u=t.player_.liveTracker,n=t.player_.duration();u&&u.isLive()&&(n=t.player_.liveTracker.liveCurrentTime());t.percent_!==i&&(t.el_.setAttribute("aria-valuenow",(100*i).toFixed(2)),t.percent_=i);t.currentTime_===r&&t.duration_===n||(t.el_.setAttribute("aria-valuetext",t.localize("progress bar timing: currentTime={1} duration={2}",[su(r,n),su(n,n)],"{1} of {2}")),t.currentTime_=r,t.duration_=n);t.bar&&t.bar.update(af(t.el()),t.getProgress())}),i},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var t,i=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(t=(i-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=i/this.player_.duration(),t},i.handleMouseDown=function(t){gr(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,t))},i.handleMouseMove=function(n){var t,u,i,r,f;if(gr(n)){if(u=this.calculateDistance(n),i=this.player_.liveTracker,i&&i.isLive()){if(r=i.seekableStart(),f=i.liveCurrentTime(),f<=(t=r+u*i.liveWindow())&&(t=f),t<=r&&(t=r+.1),t===1/0)return}else(t=u*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},i.enable=function(){n.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},i.disable=function(){n.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},i.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t);t&&t.stopPropagation();this.player_.scrubbing(!1);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0});this.videoWasPlaying?iu(this.player_.play()):this.update_()},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(t){if(e.isEventKey(t,"Space")||e.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(e.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(e.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(e(t))){t.preventDefault();t.stopPropagation();var i=(e.codes[e(t)]-e.codes[0])/10;this.player_.currentTime(this.player_.duration()*i)}else e.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):e.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):n.prototype.handleKeyDown.call(this,t)},r}(yo);wo.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};ii||wi||wo.prototype.options_.children.splice(1,0,"mouseTimeDisplay");r.registerComponent("SeekBar",wo);pl=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).handleMouseMove=tr(s(o(r),r.handleMouseMove),30),r.throttledHandleMouseSeek=tr(s(o(r),r.handleMouseSeek),30),r.enable(),r}u(i,n);var t=i.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(n){var t=this.getChild("seekBar"),i,r;if(t&&(i=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay"),i||r)){var f=t.el(),e=af(f),u=yh(f,n).x;u=al(0,1,u);r&&r.update(e,u);i&&i.update(e,t.getProgress())}},t.handleMouseSeek=function(n){var t=this.getChild("seekBar");t&&t.handleMouseMove(n)},t.enabled=function(){return this.enabled_},t.disable=function(){this.children().forEach(function(n){return n.disable&&n.disable()});this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()});this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.handleMouseDown=function(n){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(n);this.on(t,"mousemove",this.throttledHandleMouseSeek);this.on(t,"touchmove",this.throttledHandleMouseSeek);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(n){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(n);this.off(t,"mousemove",this.throttledHandleMouseSeek);this.off(t,"touchmove",this.throttledHandleMouseSeek);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchend",this.handleMouseUp)},i}(r);pl.prototype.options_={children:["seekBar"]};r.registerComponent("ProgressControl",pl);wl=function(n){function i(i,r){var u;return(u=n.call(this,i,r)||this).on(i,["enterpictureinpicture","leavepictureinpicture"],u.handlePictureInPictureChange),t.pictureInPictureEnabled||u.disable(),u}u(i,n);var r=i.prototype;return r.buildCSSClass=function(){return"vjs-picture-in-picture-control "+n.prototype.buildCSSClass.call(this)},r.handlePictureInPictureChange=function(){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture")},r.handleClick=function(){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},i}(bt);wl.prototype.controlText_="Picture-in-Picture";r.registerComponent("PictureInPictureToggle",wl);bl=function(n){function i(i,r){var u;return(u=n.call(this,i,r)||this).on(i,"fullscreenchange",u.handleFullscreenChange),!1===t[i.fsApi_.fullscreenEnabled]&&u.disable(),u}u(i,n);var r=i.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+n.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},i}(bt);bl.prototype.controlText_="Fullscreen";r.registerComponent("FullscreenToggle",bl);sk=function(n){function t(){return n.apply(this,arguments)||this}return u(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"><\/span>'})},t}(r);r.registerComponent("VolumeLevel",sk);bo=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).on("slideractive",r.updateLastVolume_),r.on(t,"volumechange",r.updateARIAAttributes),t.ready(function(){return r.updateARIAAttributes()}),r}u(i,n);var t=i.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(t){gr(t)&&n.prototype.handleMouseDown.call(this,t)},t.handleMouseMove=function(n){gr(n)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n);this.el_.setAttribute("aria-valuetext",n+"%")},t.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.updateLastVolume_=function(){var n=this,t=this.player_.volume();this.one("sliderinactive",function(){0===n.player_.volume()&&n.player_.lastVolume_(t)})},i}(yo);bo.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};bo.prototype.playerEvent="volumechange";r.registerComponent("VolumeBar",bo);kl=function(n){function i(t,i){var r;return void 0===i&&(i={}),i.vertical=i.vertical||!1,"undefined"!=typeof i.volumeBar&&!sf(i.volumeBar)||(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),r=n.call(this,t,i)||this,function(n,t){t.tech_&&!t.tech_.featuresVolumeControl&&n.addClass("vjs-hidden");n.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})}(o(r),t),r.throttledHandleMouseMove=tr(s(o(r),r.handleMouseMove),30),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active");r.addClass("vjs-slider-active");r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active");r.removeClass("vjs-slider-active");r.trigger("sliderinactive")}),r}u(i,n);var t=i.prototype;return t.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.handleMouseDown=function(){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove);this.on(n,"touchmove",this.throttledHandleMouseMove);this.on(n,"mouseup",this.handleMouseUp);this.on(n,"touchend",this.handleMouseUp)},t.handleMouseUp=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove);this.off(n,"touchmove",this.throttledHandleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchend",this.handleMouseUp)},t.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},i}(r);kl.prototype.options_={children:["volumeBar"]};r.registerComponent("VolumeControl",kl);dl=function(n){function i(t,i){var r;return r=n.call(this,t,i)||this,function(n,t){t.tech_&&!t.tech_.featuresMuteControl&&n.addClass("vjs-hidden");n.on(t,"loadstart",function(){t.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})}(o(r),t),r.on(t,["loadstart","volumechange"],r.update),r}u(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(){var i=this.player_.volume(),n=this.player_.lastVolume_(),t;0===i?(t=n<.1?.1:n,this.player_.volume(t),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},t.update=function(){this.updateIcon_();this.updateControlText_()},t.updateIcon_=function(){var i=this.player_.volume(),n=3,t;for(ii&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===i||this.player_.muted()?n=0:i<.33?n=1:i<.67&&(n=2),t=0;t<4;t++)cf(this.el_,"vjs-vol-"+t);ei(this.el_,"vjs-vol-"+n)},t.updateControlText_=function(){var n=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)},i}(bt);dl.prototype.controlText_="Mute";r.registerComponent("MuteToggle",dl);gl=function(n){function r(t,i){var r;return void 0===i&&(i={}),i.inline="undefined"!=typeof i.inline?i.inline:!0,"undefined"!=typeof i.volumeControl&&!sf(i.volumeControl)||(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),(r=n.call(this,t,i)||this).on(t,["loadstart"],r.volumePanelState_),r.on(r.muteToggle,"keyup",r.handleKeyPress),r.on(r.volumeControl,"keyup",r.handleVolumeControlKeyUp),r.on("keydown",r.handleKeyPress),r.on("mouseover",r.handleMouseOver),r.on("mouseout",r.handleMouseOut),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}u(r,n);var i=r.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden");this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},i.dispose=function(){this.handleMouseOut();n.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(n){e.isEventKey(n,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(){this.addClass("vjs-hover");vt(t,"keyup",s(this,this.handleKeyPress))},i.handleMouseOut=function(){this.removeClass("vjs-hover");tt(t,"keyup",s(this,this.handleKeyPress))},i.handleKeyPress=function(n){e.isEventKey(n,"Esc")&&this.handleMouseOut()},r}(r);gl.prototype.options_={children:["muteToggle","volumeControl"]};r.registerComponent("VolumePanel",gl);ko=function(n){function f(t,i){var r;return r=n.call(this,t,i)||this,i&&(r.menuButton_=i.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyDown),r.boundHandleBlur_=s(o(r),r.handleBlur),r.boundHandleTapClick_=s(o(r),r.handleTapClick),r}u(f,n);var i=f.prototype;return i.addEventListenerForItem=function(n){n instanceof r&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(n){n instanceof r&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t));this.removeEventListenerForItem(t);n.prototype.removeChild.call(this,t)},i.addItem=function(n){var t=this.addChild(n);t&&this.addEventListenerForItem(t)},i.createEl=function(){var i=this.options_.contentElType||"ul",t;return this.contentEl_=p(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),t=n.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),t.appendChild(this.contentEl_),vt(t,"click",function(n){n.preventDefault();n.stopImmediatePropagation()}),t},i.dispose=function(){this.contentEl_=null;this.boundHandleBlur_=null;this.boundHandleTapClick_=null;n.prototype.dispose.call(this)},i.handleBlur=function(n){var r=n.relatedTarget||t.activeElement,i;this.children().some(function(n){return n.el()===r})||(i=this.menuButton_,i&&i.buttonPressed_&&r!==i.el().firstChild&&i.unpressButton())},i.handleTapClick=function(n){var t,i;if(this.menuButton_){if(this.menuButton_.unpressButton(),t=this.children(),!Array.isArray(t))return;if(i=t.filter(function(t){return t.el()===n.target})[0],!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},i.handleKeyDown=function(n){e.isEventKey(n,"Left")||e.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(e.isEventKey(n,"Right")||e.isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},i.stepForward=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_+1);this.focus(n)},i.stepBack=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_-1);this.focus(n)},i.focus=function(n){void 0===n&&(n=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift();0<t.length&&(n<0?n=0:n>=t.length&&(n=t.length-1),t[this.focusedChild_=n].el_.focus())},f}(r);r.registerComponent("Menu",ko);go=function(n){function f(i,r){var u,f;return void 0===r&&(r={}),(u=n.call(this,i,r)||this).menuButton_=new bt(i,r),u.menuButton_.controlText(u.controlText_),u.menuButton_.el_.setAttribute("aria-haspopup","true"),f=bt.prototype.buildCSSClass(),u.menuButton_.el_.className=u.buildCSSClass()+" "+f,u.menuButton_.removeClass("vjs-control"),u.addChild(u.menuButton_),u.update(),u.enabled_=!0,u.on(u.menuButton_,"tap",u.handleClick),u.on(u.menuButton_,"click",u.handleClick),u.on(u.menuButton_,"keydown",u.handleKeyDown),u.on(u.menuButton_,"mouseenter",function(){u.addClass("vjs-hover");u.menu.show();vt(t,"keyup",s(o(u),u.handleMenuKeyUp))}),u.on("mouseleave",u.handleMouseLeave),u.on("keydown",u.handleSubmenuKeyDown),u}u(f,n);var i=f.prototype;return i.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu));this.menu=n;this.addChild(n);this.buttonPressed_=!1;this.menuButton_.el_.setAttribute("aria-expanded","false");this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var t=new ko(this.player_,{menuButton:this}),i,u,n;if((this.hideThreshold_=0,this.options_.title)&&(i=p("li",{className:"vjs-menu-title",innerHTML:b(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,u=new r(this.player_,{el:i}),t.addItem(u)),this.items=this.createItems(),this.items)for(n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},i.createItems=function(){},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var t="vjs-menu-button";return t+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+t+" "+bt.prototype.buildCSSClass()+" "+n.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var t="vjs-menu-button";return t+=!0===this.options_.inline?"-inline":"-popup","vjs-menu-button "+t+" "+n.prototype.buildCSSClass.call(this)},i.controlText=function(n,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(n,t)},i.dispose=function(){this.handleMouseLeave();n.prototype.dispose.call(this)},i.handleClick=function(){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(){this.removeClass("vjs-hover");tt(t,"keyup",s(this,this.handleMenuKeyUp))},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(n){e.isEventKey(n,"Esc")||e.isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),e.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(e.isEventKey(n,"Up")||e.isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(n){(e.isEventKey(n,"Esc")||e.isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},i.handleSubmenuKeyDown=function(n){(e.isEventKey(n,"Esc")||e.isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),e.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ii&&dy())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton();this.enabled_=!1;this.addClass("vjs-disabled");this.menuButton_.disable()},i.enable=function(){this.enabled_=!0;this.removeClass("vjs-disabled");this.menuButton_.enable()},f}(r);r.registerComponent("MenuButton",go);ns=function(n){function t(t,i){var r,f=i.tracks,u;return((r=n.call(this,t,i)||this).items.length<=1&&r.hide(),!f)?o(r):(u=s(o(r),r.update),f.addEventListener("removetrack",u),f.addEventListener("addtrack",u),r.player_.on("ready",u),r.player_.on("dispose",function(){f.removeEventListener("removetrack",u);f.removeEventListener("addtrack",u)}),r)}return u(t,n),t}(go);r.registerComponent("TrackButton",ns);hk=["Tab","Esc","Up","Down","Right","Left"];hu=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).selectable=i.selectable,r.isSelected_=i.selected||!1,r.multiSelectable=i.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}u(i,n);var t=i.prototype;return t.createEl=function(t,i,r){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",y({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"<\/span>",tabIndex:-1},i),r)},t.handleKeyDown=function(t){hk.some(function(n){return e.isEventKey(t,n)})||n.prototype.handleKeyDown.call(this,t)},t.handleClick=function(){this.selected(!0)},t.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},i}(ne);r.registerComponent("MenuItem",hu);cu=function(i){function f(r,u){function h(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];f.handleTracksChange.apply(o(f),i)}function l(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];f.handleSelectedLanguageChange.apply(o(f),i)}var f,s=u.track,e=r.textTracks(),c;return u.label=s.label||s.language||"Unknown",u.selected="showing"===s.mode,(f=i.call(this,r,u)||this).track=s,f.kinds=(u.kinds||[u.kind||f.track.kind]).filter(Boolean),r.on(["loadstart","texttrackchange"],h),e.addEventListener("change",h),e.addEventListener("selectedlanguagechange",l),f.on("dispose",function(){r.off(["loadstart","texttrackchange"],h);e.removeEventListener("change",h);e.removeEventListener("selectedlanguagechange",l)}),void 0===e.onchange&&f.on(["tap","click"],function(){if("object"!=typeof n.Event)try{c=new n.Event("change")}catch(i){}c||(c=t.createEvent("Event")).initEvent("change",!0,!0);e.dispatchEvent(c)}),f.handleTracksChange(),f}u(f,i);var r=f.prototype;return r.handleClick=function(n){var f=this.track,u=this.player_.textTracks(),r,t;if(i.prototype.handleClick.call(this,n),u)for(r=0;r<u.length;r++)t=u[r],-1!==this.kinds.indexOf(t.kind)&&(t===f?"showing"!==t.mode&&(t.mode="showing"):"disabled"!==t.mode&&(t.mode="disabled"))},r.handleTracksChange=function(){var n="showing"===this.track.mode;n!==this.isSelected_&&this.selected(n)},r.handleSelectedLanguageChange=function(){if("showing"===this.track.mode){var n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null;i.prototype.dispose.call(this)},f}(hu);r.registerComponent("TextTrackMenuItem",cu);na=function(n){function t(t,i){return i.track={player:t,kind:i.kind,kinds:i.kinds,"default":!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.track.label=i.label?i.label:i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,n.call(this,t,i)||this}u(t,n);var i=t.prototype;return i.handleTracksChange=function(){for(var i,r=this.player().textTracks(),n=!0,t=0,u=r.length;t<u;t++)if(i=r[t],-1<this.options_.kinds.indexOf(i.kind)&&"showing"===i.mode){n=!1;break}n!==this.isSelected_&&this.selected(n)},i.handleSelectedLanguageChange=function(){for(var t,i=this.player().textTracks(),r=!0,n=0,u=i.length;n<u;n++)if(t=i[n],-1<["captions","descriptions","subtitles"].indexOf(t.kind)&&"showing"===t.mode){r=!1;break}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(cu);r.registerComponent("OffTextTrackMenuItem",na);sr=function(n){function t(t,i){return void 0===i&&(i={}),i.tracks=t.textTracks(),n.call(this,t,i)||this}return u(t,n),t.prototype.createItems=function(n,t){var e,u,i,r,f;for(void 0===n&&(n=[]),void 0===t&&(t=cu),this.label_&&(e=this.label_+" off"),n.push(new na(this.player_,{kinds:this.kinds_,kind:this.kind_,label:e})),this.hideThreshold_+=1,u=this.player_.textTracks(),Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]),i=0;i<u.length;i++)r=u[i],-1<this.kinds_.indexOf(r.kind)&&(f=new t(this.player_,{track:r,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1}),f.addClass("vjs-"+r.kind+"-menu-item"),n.push(f));return n},t}(ns);r.registerComponent("TextTrackButton",sr);ta=function(n){function t(t,i){var r,f=i.track,u=i.cue,e=t.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=u.text,i.selected=u.startTime<=e&&e<u.endTime,(r=n.call(this,t,i)||this).track=f,r.cue=u,f.addEventListener("cuechange",s(o(r),r.update)),r}u(t,n);var i=t.prototype;return i.handleClick=function(){n.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)},i.update=function(){var n=this.cue,t=this.player_.currentTime();this.selected(n.startTime<=t&&t<n.endTime)},t}(hu);r.registerComponent("ChaptersTrackMenuItem",ta);ts=function(n){function i(t,i,r){return n.call(this,t,i,r)||this}u(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack());n.prototype.update.call(this)},t.setTrack=function(n){var t,i;this.track_!==n&&((this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_)&&(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),t&&t.removeEventListener("load",this.updateHandler_),this.track_=null),(this.track_=n,this.track_)&&(this.track_.mode="hidden",i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),i&&i.addEventListener("load",this.updateHandler_)))},t.findChaptersTrack=function(){for(var i,t=this.player_.textTracks()||[],n=t.length-1;0<=n;n--)if(i=t[n],i.kind===this.kind_)return i},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(b(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.createItems=function(){var i=[],n,t,r,u,f;if(!this.track_||(n=this.track_.cues,!n))return i;for(t=0,r=n.length;t<r;t++)u=n[t],f=new ta(this.player_,{track:this.track_,cue:u}),i.push(f);return i},i}(sr);ts.prototype.kind_="chapters";ts.prototype.controlText_="Chapters";r.registerComponent("ChaptersButton",ts);is=function(n){function t(t,i,r){var u,f,e;return u=n.call(this,t,i,r)||this,f=t.textTracks(),e=s(o(u),u.handleTracksChange),f.addEventListener("change",e),u.on("dispose",function(){f.removeEventListener("change",e)}),u}u(t,n);var i=t.prototype;return i.handleTracksChange=function(){for(var t,i=this.player().textTracks(),r=!1,n=0,u=i.length;n<u;n++)if(t=i[n],t.kind!==this.kind_&&"showing"===t.mode){r=!0;break}r?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(sr);is.prototype.kind_="descriptions";is.prototype.controlText_="Descriptions";r.registerComponent("DescriptionsButton",is);rs=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(sr);rs.prototype.kind_="subtitles";rs.prototype.controlText_="Subtitles";r.registerComponent("SubtitlesButton",rs);us=function(n){function t(t,i){var r;return i.track={player:t,kind:i.kind,label:i.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",(r=n.call(this,t,i)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}return u(t,n),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()},t}(cu);r.registerComponent("CaptionSettingsMenuItem",us);fs=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new us(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},t}(sr);fs.prototype.kind_="captions";fs.prototype.controlText_="Captions";r.registerComponent("CaptionsButton",fs);ia=function(n){function t(){return n.apply(this,arguments)||this}return u(t,n),t.prototype.createEl=function(t,i,r){var u='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(u+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"><\/span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"<\/span>\n      "),u+="<\/span>",n.prototype.createEl.call(this,t,y({innerHTML:u},i),r)},t}(cu);r.registerComponent("SubsCapsMenuItem",ia);es=function(n){function t(t,i){var r;return void 0===i&&(i={}),(r=n.call(this,t,i)||this).label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)&&(r.label_="captions"),r.menuButton_.controlText(b(r.label_)),r}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new us(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=n.prototype.createItems.call(this,t,ia)},t}(sr);es.prototype.kinds_=["captions","subtitles"];es.prototype.controlText_="Subtitles";r.registerComponent("SubsCapsButton",es);ra=function(n){function t(t,i){function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];r.handleTracksChange.apply(o(r),i)}var r,u=i.track,f=t.audioTracks();return i.label=u.label||u.language||"Unknown",i.selected=u.enabled,(r=n.call(this,t,i)||this).track=u,r.addClass("vjs-"+u.kind+"-menu-item"),f.addEventListener("change",e),r.on("dispose",function(){f.removeEventListener("change",e)}),r}u(t,n);var i=t.prototype;return i.createEl=function(t,i,r){var u='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(u+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"><\/span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"<\/span>\n      "),u+="<\/span>",n.prototype.createEl.call(this,t,y({innerHTML:u},i),r)},i.handleClick=function(t){var u=this.player_.audioTracks(),i,r;for(n.prototype.handleClick.call(this,t),i=0;i<u.length;i++)r=u[i],r.enabled=r===this.track},i.handleTracksChange=function(){this.selected(this.track.enabled)},t}(hu);r.registerComponent("AudioTrackMenuItem",ra);ua=function(n){function t(t,i){return void 0===i&&(i={}),i.tracks=t.audioTracks(),n.call(this,t,i)||this}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(n){var i,t,r;for(void 0===n&&(n=[]),this.hideThreshold_=1,i=this.player_.audioTracks(),t=0;t<i.length;t++)r=i[t],n.push(new ra(this.player_,{track:r,selectable:!0,multiSelectable:!1}));return n},t}(ns);ua.prototype.controlText_="Audio Track";r.registerComponent("AudioTrackButton",ua);os=function(n){function t(t,i){var r,u=i.rate,f=parseFloat(u,10);return i.label=u,i.selected=1===f,i.selectable=!0,i.multiSelectable=!1,(r=n.call(this,t,i)||this).label=u,r.rate=f,r.on(t,"ratechange",r.update),r}u(t,n);var i=t.prototype;return i.handleClick=function(){n.prototype.handleClick.call(this);this.player().playbackRate(this.rate)},i.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(hu);os.prototype.contentElType="button";r.registerComponent("PlaybackRateMenuItem",os);fa=function(n){function i(t,i){var r;return(r=n.call(this,t,i)||this).updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}u(i,n);var t=i.prototype;return t.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelEl_=p("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.dispose=function(){this.labelEl_=null;n.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},t.createMenu=function(){var i=new ko(this.player()),t=this.playbackRates(),n;if(t)for(n=t.length-1;0<=n;n--)i.addChild(new os(this.player(),{rate:t[n]+"x"}));return i},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(){for(var r=this.player().playbackRate(),n=this.playbackRates(),i=n[0],t=0;t<n.length;t++)if(n[t]>r){i=n[t];break}this.player().playbackRate(i)},t.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},t.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},i}(go);fa.prototype.controlText_="Playback Rate";r.registerComponent("PlaybackRateMenuButton",fa);ea=function(n){function t(){return n.apply(this,arguments)||this}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(r);r.registerComponent("Spacer",ea);ck=function(n){function t(){return n.apply(this,arguments)||this}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},i.createEl=function(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="",t},t}(ea);r.registerComponent("CustomControlSpacer",ck);ie=function(n){function t(){return n.apply(this,arguments)||this}return u(t,n),t.prototype.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(r);ie.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in t&&ie.prototype.options_.children.splice(ie.prototype.options_.children.length-1,0,"pictureInPictureToggle");r.registerComponent("ControlBar",ie);oa=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).on(t,"error",r.open),r}u(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},i.content=function(){var n=this.player().error();return n?this.localize(n.message):""},t}(ru);oa.prototype.options_=pe({},ru.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});r.registerComponent("ErrorDisplay",oa);var sa="vjs-text-track-settings",lk=["#000","Black"],ak=["#00F","Blue"],vk=["#0FF","Cyan"],yk=["#0F0","Green"],pk=["#F0F","Magenta"],wk=["#F00","Red"],bk=["#FFF","White"],kk=["#FF0","Yellow"],ha=["1","Opaque"],ca=["0.5","Semi-Transparent"],dk=["0","Transparent"],hr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[lk,bk,wk,yk,ak,kk,pk,vk]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ha,ca,dk]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[bk,lk,wk,yk,ak,kk,pk,vk]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(n){return"1.00"===n?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ha,ca]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[dk,ca,ha]}};hr.windowColor.options=hr.backgroundColor.options;nd=function(t){function r(n,i){var r;return i.temporary=!1,(r=t.call(this,n,i)||this).updateDisplay=s(o(r),r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=p("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===i.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings();r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults();r.updateDisplay()}),br(hr,function(n){r.on(r.$(n.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}u(r,t);var i=r.prototype;return i.dispose=function(){this.endDialog=null;t.prototype.dispose.call(this)},i.createElSelect_=function(n,t,i){var e=this;void 0===t&&(t="");void 0===i&&(i="label");var r=hr[n],u=r.id.replace("%s",this.id_),f=[t,u].join(" ").trim();return["<"+i+' id="'+u+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"<\/"+i+">",'<select aria-labelledby="'+f+'">'].concat(r.options.map(function(n){var t=u+"-"+n[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+n[0]+'" ','aria-labelledby="'+f+" "+t+'">',e.localize(n[1]),"<\/option>"].join("")})).concat("<\/select>").join("")},i.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"<\/legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"<\/span>","<\/fieldset>"].join("")},i.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"<\/legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"<\/span>","<\/fieldset>"].join("")},i.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"<\/legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"<\/span>","<\/fieldset>"].join("")},i.createElColors_=function(){return p("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return p("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"<\/fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"<\/fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"<\/fieldset>"].join("")})},i.createElControls_=function(){var n=this.localize("restore all settings to the default values");return p("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"<\/span>","<\/button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"<\/button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var n=this;return function(n,t,i){return void 0===i&&(i=0),wy(n).reduce(function(i,r){return t(i,n[r],r)},i)}(hr,function(t,i,r){var u=function(n,t){return gk(n.options[n.options.selectedIndex].value,t)}(n.$(i.selector),i.parser);return void 0!==u&&(t[r]=u),t},{})},i.setValues=function(n){var t=this;br(hr,function(i,r){!function(n,t,i){if(t)for(var r=0;r<n.options.length;r++)if(gk(n.options[r].value,i)===t){n.selectedIndex=r;break}}(t.$(i.selector),n[r],i.parser)})},i.setDefaults=function(){var n=this;br(hr,function(t){var i=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=i})},i.restoreSettings=function(){var t;try{t=JSON.parse(n.localStorage.getItem(sa))}catch(t){h.warn(t)}t&&this.setValues(t)},i.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?n.localStorage.setItem(sa,JSON.stringify(t)):n.localStorage.removeItem(sa)}catch(t){h.warn(t)}}},i.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,t=n&&n.subsCapsButton,i=n&&n.captionsButton;t?t.focus():i&&i.focus()},r}(ru);r.registerComponent("TextTrackSettings",nd);td=function(t){function i(i,r){var u,f=r.ResizeObserver||n.ResizeObserver,e;return null===r.ResizeObserver&&(f=!1),e=v({createEl:!f,reportTouchActivity:!1},r),(u=t.call(this,i,e)||this).ResizeObserver=r.ResizeObserver||n.ResizeObserver,u.loadListener_=null,u.resizeObserver_=null,u.debouncedHandler_=function(t,i,r,u){function e(){var n=this,e=arguments,o=function(){o=f=null;r||t.apply(n,e)};!f&&r&&t.apply(n,e);u.clearTimeout(f);f=u.setTimeout(o,i)}var f;return void 0===u&&(u=n),e.cancel=function(){u.clearTimeout(f);f=null},e}(function(){u.resizeHandler()},100,!1,o(u)),f?(u.resizeObserver_=new u.ResizeObserver(u.debouncedHandler_),u.resizeObserver_.observe(i.el())):(u.loadListener_=function(){if(u.el_&&u.el_.contentWindow){var t=u.debouncedHandler_,n=u.unloadListener_=function(){tt(this,"resize",t);tt(this,"unload",n);n=null};vt(u.el_.contentWindow,"unload",n);vt(u.el_.contentWindow,"resize",t)}},u.one("load",u.loadListener_)),u}u(i,t);var r=i.prototype;return r.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},r.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel();this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect());this.loadListener_&&this.off("load",this.loadListener_);this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow);this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null;t.prototype.dispose.call(this)},i}(r);r.registerComponent("ResizeManager",td);id=function(n){function r(i,r){var u,f=v({createEl:!1},r);return(u=n.call(this,i,f)||this).reset_(),u.on(u.player_,"durationchange",u.handleDurationchange),io&&"hidden"in t&&"visibilityState"in t&&u.on(t,"visibilitychange",u.handleVisibilityChange),u}u(r,n);var i=r.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(t.hidden?this.stopTracking():this.startTracking())},i.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var n=this.liveCurrentTime(),t=this.player_.currentTime(),i=2*this.seekableIncrement_+.07;return n!==1/0&&t<=n-i},i.trackLive_=function(){var t,n;this.pastSeekEnd_=this.pastSeekEnd_;t=this.player_.seekable();t&&t.length&&(n=this.seekableEnd(),n!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrementList_=this.seekableIncrementList_.slice(-11),this.seekableIncrementList_.push(Math.abs(n-this.lastSeekEnd_)),3<this.seekableIncrementList_.length&&(this.seekableIncrement_=function(n){var t=Math.floor(n.length/2),i=[].concat(n).sort(function(n,t){return n-t});return n.length%2!=0?i[t]:(i[t-1]+i[t])/2}(this.seekableIncrementList_))),this.pastSeekEnd_=0,this.lastSeekEnd_=n,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()>1.5*this.seekableIncrement_?0:this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange")))},i.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},i.startTracking=function(){var n=this;this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.timeupdateSeen_||(this.one(this.player_,"play",this.handlePlay),this.handleTimeupdate=function(){n.timeupdateSeen_=!0;n.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},i.reset_=function(){this.pastSeekEnd_=0;this.lastSeekEnd_=null;this.behindLiveEdge_=null;this.timeupdateSeen_=!1;this.clearInterval(this.trackingInterval_);this.trackingInterval_=null;this.seekableIncrement_=12;this.seekableIncrementList_=[];this.off(this.player_,"play",this.trackLive_);this.off(this.player_,"pause",this.trackLive_);this.off(this.player_,"play",this.handlePlay);this.off(this.player_,"timeupdate",this.seekToLiveEdge);this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},i.stopTracking=function(){this.isTracking()&&this.reset_()},i.seekableEnd=function(){for(var t=this.player_.seekable(),n=[],i=t?t.length:0;i--;)n.push(t.end(i));return n.length?n.sort()[n.length-1]:1/0},i.seekableStart=function(){for(var n=this.player_.seekable(),t=[],i=n?n.length:0;i--;)t.push(n.start(i));return t.length?t.sort()[0]:0},i.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?1/0:n-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){return this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},i.dispose=function(){this.stopTracking();n.prototype.dispose.call(this)},r}(r);r.registerComponent("LiveTracker",id);var ss,nut=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(i){var r=t.createElement(this.nodeName.toLowerCase()),u;for(r.innerHTML=i,u=t.createDocumentFragment();r.childNodes.length;)u.appendChild(r.childNodes[0]);return this.innerText="",n.Element.prototype.appendChild.call(this,u),this.innerHTML}}),tut=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?kw(n.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return n.Element.prototype.setAttribute.call(this,"src",t),t}}),f=function(i){function f(n,t){var r,f,e,u,o;if(r=i.call(this,n,t)||this,f=n.source,e=!1,f&&(r.el_.currentSrc!==f.src||n.tag&&3===n.tag.initNetworkState_)?r.setSource(f):r.handleLateInit_(r.el_),n.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var c=r.el_.childNodes,l=c.length,s=[];l--;)u=c[l],"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),e||r.el_.hasAttribute("crossorigin")||!fo(u.src)||(e=!0)):s.push(u));for(o=0;o<s.length;o++)r.el_.removeChild(s[o])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&e&&h.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(tu||cc||sw)&&!0===n.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}u(f,i);var r=f.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_();f.disposeMediaElement(this.el_);this.options_=null;i.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){grt(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){function t(){var t,r;for(i=[],t=0;t<n.length;t++)r=n[t],"metadata"===r.kind&&i.push({track:r,storedMode:r.mode})}function r(){for(var t,u=0;u<i.length;u++)t=i[u],"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode);n.removeEventListener("change",r)}var i,n=this.textTracks();t();n.addEventListener("change",t);this.on("dispose",function(){return n.removeEventListener("change",t)});this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t);n.removeEventListener("change",r);n.addEventListener("change",r)});this.on("webkitendfullscreen",function(){n.removeEventListener("change",t);n.addEventListener("change",t);n.removeEventListener("change",r)})},r.overrideNative_=function(n,t){var r=this,i;t===this["featuresNative"+n+"Tracks"]&&(i=n.toLowerCase(),this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(n){r.el()[i+"Tracks"].removeEventListener(n,r[i+"TracksListeners_"][n])}),this["featuresNative"+n+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i))},r.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},r.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},r.proxyNativeTracksForType_=function(n){var e=this,r=yt[n],i=this.el()[r.getterName],t=this[r.getterName](),u,f;this["featuresNative"+r.capitalName+"Tracks"]&&i&&i.addEventListener&&(u={change:function(){t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},addtrack:function(n){t.addTrack(n.track)},removetrack:function(n){t.removeTrack(n.track)}},f=function(){for(var f,u,r=[],n=0;n<t.length;n++){for(f=!1,u=0;u<i.length;u++)if(i[u]===t[n]){f=!0;break}f||r.push(t[n])}for(;r.length;)t.removeTrack(r.shift())},this[r.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(n){var t=u[n];i.addEventListener(n,t);e.on("dispose",function(){return i.removeEventListener(n,t)})}),this.on("loadstart",f),this.on("dispose",function(){return e.off("loadstart",f)}))},r.proxyNativeTracks_=function(){var n=this;yt.names.forEach(function(t){n.proxyNativeTracksForType_(t)})},r.createEl=function(){var n=this.options_.tag,e,o,s,r,i,u;for(n&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(n?(e=n.cloneNode(!0),n.parentNode&&n.parentNode.insertBefore(e,n),f.disposeMediaElement(n),n=e):(n=t.createElement("video"),o=v({},this.options_.tag&&oi(this.options_.tag)),tu&&!0===this.options_.nativeControlsForTouch||delete o.controls,tp(n,y(o,{id:this.options_.techId,"class":"vjs-tech"}))),n.playerId=this.options_.playerId),"undefined"!=typeof this.options_.preload&&lf(n,"preload",this.options_.preload),s=["loop","muted","playsinline","autoplay"],r=0;r<s.length;r++)i=s[r],u=this.options_[i],"undefined"!=typeof u&&(u?lf(n,i,i):be(n,i),n[i]=u);return n},r.handleLateInit_=function(n){var i,r,u,t;if(0!==n.networkState&&3!==n.networkState){if(0===n.readyState){i=!1;r=function(){i=!0};this.on("loadstart",r);return u=function(){i||this.trigger("loadstart")},this.on("loadedmetadata",u),void this.ready(function(){this.off("loadstart",r);this.off("loadedmetadata",u);i||this.trigger("loadstart")})}t=["loadstart"];t.push("loadedmetadata");2<=n.readyState&&t.push("loadeddata");3<=n.readyState&&t.push("canplay");4<=n.readyState&&t.push("canplaythrough");this.ready(function(){t.forEach(function(n){this.trigger(n)},this)})}},r.setCurrentTime=function(n){try{this.el_.currentTime=n}catch(n){h(n,"Video is not ready. (Video.js)")}},r.duration=function(){var n=this;return this.el_.duration===1/0&&wi&&si&&0===this.el_.currentTime?(this.on("timeupdate",function t(){0<n.el_.currentTime&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",t))}),NaN):this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var i=this,n,t;"webkitDisplayingFullscreen"in this.el_&&(n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",n),this.trigger("fullscreenchange",{isFullscreen:!0}))},this.on("webkitbeginfullscreen",t),this.on("dispose",function(){i.off("webkitbeginfullscreen",t);i.off("webkitendfullscreen",n)}))},r.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=n.navigator&&n.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},r.enterFullScreen=function(){var n=this.el_;n.paused&&n.networkState<=n.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){n.pause();n.webkitEnterFullScreen()},0)):n.webkitEnterFullScreen()},r.exitFullScreen=function(){this.el_.webkitExitFullScreen()},r.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},r.src=function(n){if(void 0===n)return this.el_.src;this.setSrc(n)},r.reset=function(){f.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(n){this.el_.controls=!!n},r.addTextTrack=function(n,t,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,t,r):i.prototype.addTextTrack.call(this,n,t,r)},r.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return i.prototype.createRemoteTextTrack.call(this,n);var r=t.createElement("track");return n.kind&&(r.kind=n.kind),n.label&&(r.label=n.label),(n.language||n.srclang)&&(r.srclang=n.language||n.srclang),n.default&&(r.default=n.default),n.id&&(r.id=n.id),n.src&&(r.src=n.src),r},r.addRemoteTextTrack=function(n,t){var r=i.prototype.addRemoteTextTrack.call(this,n,t);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},r.removeRemoteTextTrack=function(n){if(i.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var t=this.$$("track"),r=t.length;r--;)n!==t[r]&&n!==t[r].track||this.el().removeChild(t[r])},r.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),n.performance&&"function"==typeof n.performance.now?t.creationTime=n.performance.now():n.performance&&n.performance.timing&&"number"==typeof n.performance.timing.navigationStart&&(t.creationTime=n.Date.now()-n.performance.timing.navigationStart),t},f}(a);aa(f,"TEST_VID",function(){if(kr()){var i=t.createElement("video"),n=t.createElement("track");return n.kind="captions",n.srclang="en",n.label="English",i.appendChild(n),i}});f.isSupported=function(){try{f.TEST_VID.volume=.5}catch(n){return!1}return!(!f.TEST_VID||!f.TEST_VID.canPlayType)};f.canPlayType=function(n){return f.TEST_VID.canPlayType(n)};f.canPlaySource=function(n){return f.canPlayType(n.type)};f.canControlVolume=function(){try{var n=f.TEST_VID.volume;return f.TEST_VID.volume=n/2+.1,n!==f.TEST_VID.volume}catch(n){return!1}};f.canMuteVolume=function(){try{var n=f.TEST_VID.muted;return f.TEST_VID.muted=!n,f.TEST_VID.muted?lf(f.TEST_VID,"muted","muted"):be(f.TEST_VID,"muted"),n!==f.TEST_VID.muted}catch(n){return!1}};f.canControlPlaybackRate=function(){if(wi&&si&&cw<58)return!1;try{var n=f.TEST_VID.playbackRate;return f.TEST_VID.playbackRate=n/2+.1,n!==f.TEST_VID.playbackRate}catch(n){return!1}};f.canOverrideAttributes=function(){try{var n=function(){};Object.defineProperty(t.createElement("video"),"src",{get:n,set:n});Object.defineProperty(t.createElement("audio"),"src",{get:n,set:n});Object.defineProperty(t.createElement("video"),"innerHTML",{get:n,set:n});Object.defineProperty(t.createElement("audio"),"innerHTML",{get:n,set:n})}catch(n){return!1}return!0};f.supportsNativeTextTracks=function(){return lc||ii&&si};f.supportsNativeVideoTracks=function(){return!(!f.TEST_VID||!f.TEST_VID.videoTracks)};f.supportsNativeAudioTracks=function(){return!(!f.TEST_VID||!f.TEST_VID.audioTracks)};f.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(n){var t=n[0],i=n[1];aa(f.prototype,t,function(){return f[i]()},!0)});f.prototype.movingMediaElementInDOM=!ii;f.prototype.featuresFullscreenResize=!0;f.prototype.featuresProgressEvents=!0;f.prototype.featuresTimeupdateEvents=!0;f.patchCanPlayType=function(){4<=oc&&!hw&&!si&&(ss=f.TEST_VID&&f.TEST_VID.constructor.prototype.canPlayType,f.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(n)?"maybe":ss.call(this,n)})};f.unpatchCanPlayType=function(){var n=f.TEST_VID.constructor.prototype.canPlayType;return ss&&(f.TEST_VID.constructor.prototype.canPlayType=ss),n};f.patchCanPlayType();f.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src");"function"==typeof n.load&&function(){try{n.load()}catch(n){}}()}};f.resetMediaElement=function(n){if(n){for(var t=n.querySelectorAll("source"),i=t.length;i--;)n.removeChild(t[i]);n.removeAttribute("src");"function"==typeof n.load&&function(){try{n.load()}catch(n){}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){f.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){f.prototype["set"+b(n)]=function(t){(this.el_[n]=t)?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(n){f.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(n){f.prototype["set"+b(n)]=function(t){this.el_[n]=t}});["pause","load","play"].forEach(function(n){f.prototype[n]=function(){return this.el_[n]()}});a.withSourceHandlers(f);f.nativeSourceHandler={};f.nativeSourceHandler.canPlayType=function(n){try{return f.TEST_VID.canPlayType(n)}catch(n){return""}};f.nativeSourceHandler.canHandleSource=function(n){if(n.type)return f.nativeSourceHandler.canPlayType(n.type);if(n.src){var t=kc(n.src);return f.nativeSourceHandler.canPlayType("video/"+t)}return""};f.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)};f.nativeSourceHandler.dispose=function(){};f.registerSourceHandler(f.nativeSourceHandler);a.registerTech("Html5",f);var fd=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],va={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ya=["tiny","xsmall","small","medium","large","xlarge","huge"],hs={};ya.forEach(function(n){var t="x"===n.charAt(0)?"x-"+n.substring(1):n;hs[n]="vjs-layout-"+t});ed={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};k=function(i){function c(n,r,u){var f,h,e,l,a,p;if(n.id=n.id||r.id||"vjs_video_"+yi(),(r=y(c.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest)h=n.closest("[lang]"),h&&h.getAttribute&&(r.language=h.getAttribute("lang"));else for(e=n;e&&1===e.nodeType;){if(oi(e).hasOwnProperty("lang")){r.language=e.getAttribute("lang");break}e=e.parentNode}if((f=i.call(this,null,r,u)||this).boundDocumentFullscreenChange_=s(o(f),f.documentFullscreenChange_),f.boundFullWindowOnEscKey_=s(o(f),f.fullWindowOnEscKey),f.isFullscreen_=!1,f.log=py(f.id_),f.fsApi_=vc,f.isPosterFromTech_=!1,f.queuedCallbacks_=[],f.isReady_=!1,f.hasStarted_=!1,f.userActive_=!1,!f.options_||!f.options_.techOrder||!f.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");return(f.tag=n,f.tagAttributes=n&&oi(n),f.language(f.options_.language),r.languages)?(l={},Object.getOwnPropertyNames(r.languages).forEach(function(n){l[n.toLowerCase()]=r.languages[n]}),f.languages_=l):f.languages_=c.prototype.options_.languages,f.resetCache_(),f.poster_=r.poster||"",f.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),f.changingSrc_=!1,f.playCallbacks_=[],f.playTerminatedQueue_=[],n.hasAttribute("autoplay")?f.autoplay(!0):f.autoplay(f.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(n){if("function"!=typeof f[n])throw new Error('plugin "'+n+'" does not exist');}),f.scrubbing_=!1,f.el_=f.createEl(),ic(o(f),{eventBusKey:"el_"}),f.fsApi_.requestFullscreen&&(vt(t,f.fsApi_.fullscreenchange,f.boundDocumentFullscreenChange_),f.on(f.fsApi_.fullscreenchange,f.boundDocumentFullscreenChange_)),f.fluid_&&f.on("playerreset",f.updateStyleEl_),a=v(f.options_),r.plugins&&Object.keys(r.plugins).forEach(function(n){f[n](r.plugins[n])}),f.options_.playerOptions=a,f.middleware_=[],f.initChildren(),f.isAudio("audio"===n.nodeName.toLowerCase()),f.controls()?f.addClass("vjs-controls-enabled"):f.addClass("vjs-controls-disabled"),f.el_.setAttribute("role","region"),f.isAudio()?f.el_.setAttribute("aria-label",f.localize("Audio Player")):f.el_.setAttribute("aria-label",f.localize("Video Player")),f.isAudio()&&f.addClass("vjs-audio"),f.flexNotSupported_()&&f.addClass("vjs-no-flex"),tu&&f.addClass("vjs-touch-enabled"),ii||f.addClass("vjs-workinghover"),c.players[f.id_]=o(f),p=yy.split(".")[0],f.addClass("vjs-v"+p),f.userActive(!0),f.reportUserActivity(),f.one("play",f.listenForUserActivity_),f.on("stageclick",f.handleStageClick_),f.on("keydown",f.handleKeyDown),f.breakpoints(f.options_.breakpoints),f.responsive(f.options_.responsive),f}u(c,i);var f=c.prototype;return f.dispose=function(){var n=this;this.trigger("dispose");this.off("dispose");tt(t,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_);tt(t,"keydown",this.boundFullWindowOnEscKey_);this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null);c.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_="");this.playerElIngest_&&(this.playerElIngest_=null);this.tag&&(this.tag=null),function(n){fl[n.id()]=null}(this);it.names.forEach(function(t){var r=it[t],i=n[r.getterName]();i&&i.off&&i.off()});i.prototype.dispose.call(this)},f.createEl=function(){var u,r=this.tag,s=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),e="video-js"===this.tag.tagName.toLowerCase(),f,h,c,l,o,a;if(s?u=this.el_=r.parentNode:e||(u=this.el_=i.prototype.createEl.call(this,"div")),f=oi(r),e){for(u=this.el_=r,r=this.tag=t.createElement("video");u.children.length;)r.appendChild(u.firstChild);nr(u,"video-js")||ei(u,"video-js");u.appendChild(r);s=this.playerElIngest_=u;Object.keys(u).forEach(function(n){try{r[n]=u[n]}catch(n){}})}for((r.setAttribute("tabindex","-1"),f.tabindex="-1",(io||si&&lw)&&(r.setAttribute("role","application"),f.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in f&&delete f.width,"height"in f&&delete f.height,Object.getOwnPropertyNames(f).forEach(function(n){e&&"class"===n||u.setAttribute(n,f[n]);e&&r.setAttribute(n,f[n])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=u.player=this,this.addClass("vjs-paused"),!0!==n.VIDEOJS_NO_DYNAMIC_STYLE)&&(this.styleEl_=ap("vjs-styles-dimensions"),h=vi(".vjs-styles-defaults"),c=vi("head"),c.insertBefore(this.styleEl_,h?h.nextSibling:c.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),l=r.getElementsByTagName("a"),o=0;o<l.length;o++)a=l.item(o),ei(a,"vjs-hidden"),a.setAttribute("hidden","hidden");return r.initNetworkState_=r.networkState,r.parentNode&&!s&&r.parentNode.insertBefore(u,r),vh(r,u),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=u},f.width=function(n){return this.dimension("width",n)},f.height=function(n){return this.dimension("height",n)},f.dimension=function(n,t){var i=n+"_",r;if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();r=parseFloat(t);isNaN(r)?h.error('Improper value "'+t+'" supplied for for '+n):(this[i]=r,this.updateStyleEl_())},f.fluid=function(n){if(void 0===n)return!!this.fluid_;this.fluid_=!!n;pi(this)&&this.off("playerreset",this.updateStyleEl_);n?(this.addClass("vjs-fluid"),this.fill(!1),function(n,t){pi(n)?t():(n.eventedCallbacks||(n.eventedCallbacks=[]),n.eventedCallbacks.push(t))}(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid");this.updateStyleEl_()},f.fill=function(n){if(void 0===n)return!!this.fill_;this.fill_=!!n;n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},f.aspectRatio=function(n){if(void 0===n)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n;this.fluid(!0);this.updateStyleEl_()},f.updateStyleEl_=function(){var r,e,t,u,i;if(!0!==n.VIDEOJS_NO_DYNAMIC_STYLE)u=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=u[1]/u[0],r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,e=void 0!==this.height_?this.height_:r*i,t=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(t),vp(this.styleEl_,"\n      ."+t+" {\n        width: "+r+"px;\n        height: "+e+"px;\n      }\n\n      ."+t+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ");else{var o="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,f=this.tech_&&this.tech_.el();f&&(0<=o&&(f.width=o),0<=s&&(f.height=s))}},f.loadTech_=function(n,t){var i=this,u,f,r,e;if(this.tech_&&this.unloadTech_(),u=b(n),f=n.charAt(0).toLowerCase()+n.slice(1),"Html5"!==u&&this.tag&&(a.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=u,this.isReady_=!1,r={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+f+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise},it.names.forEach(function(n){var t=it[n];r[t.getterName]=i[t.privateName]}),y(r,this.options_[u]),y(r,this.options_[f]),y(r,this.options_[n.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(r.startTime=this.cache_.currentTime),e=a.getTech(n),!e)throw new Error("No Tech named '"+u+"' exists! '"+u+"' should be registered using videojs.registerTech()'");this.tech_=new e(r);this.tech_.ready(s(this,this.handleTechReady_),!0);wit(this.textTracksJson_||[],this.tech_);fd.forEach(function(n){i.on(i.tech_,n,i["handleTech"+b(n)+"_"])});Object.keys(va).forEach(function(n){i.on(i.tech_,n,function(t){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+va[n]+"_"].bind(i),event:t}):i["handleTech"+va[n]+"_"](t)})});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"sourceset",this.handleTechSourceset_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_);this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.on(this.tech_,"ratechange",this.handleTechRateChange_);this.usingNativeControls(this.techGet_("controls"));this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_();this.tech_.el().parentNode===this.el()||"Html5"===u&&this.tag||vh(this.tech_.el(),this.el());this.tag&&(this.tag.player=null,this.tag=null)},f.unloadTech_=function(){var n=this;it.names.forEach(function(t){var i=it[t];n[i.privateName]=n[i.getterName]()});this.textTracksJson_=pit(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1;this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange"));this.isPosterFromTech_=!1},f.tech=function(n){return void 0===n&&h.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},f.addTechControlsListeners_=function(){this.removeTechControlsListeners_();this.on(this.tech_,"mouseup",this.handleTechClick_);this.on(this.tech_,"dblclick",this.handleTechDoubleClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)},f.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mouseup",this.handleTechClick_);this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},f.handleTechReady_=function(){this.triggerReady();this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume);this.handleTechPosterChange_();this.handleTechDurationChange_()},f.handleTechLoadStart_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);this.handleTechDurationChange_();this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"));this.manualAutoplay_(this.autoplay())},f.manualAutoplay_=function(n){var t=this,i,r;if(this.tech_&&"string"==typeof n&&(r=function(){function i(){t.muted(r)}var r=t.muted(),n;return t.muted(!0),t.playTerminatedQueue_.push(i),n=t.play(),wf(n)?n.catch(i):void 0},"any"===n&&!0!==this.muted()?wf(i=this.play())&&(i=i.catch(r)):i="muted"===n&&!0!==this.muted()?r():this.play(),wf(i)))return i.then(function(){t.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){t.trigger({type:"autoplay-failure",autoplay:n})})},f.updateSourceCaches_=function(n){var t,i,r;void 0===n&&(n="");t=n;i="";"string"!=typeof t&&(t=n.src,i=n.type);this.cache_.source=this.cache_.source||{};this.cache_.sources=this.cache_.sources||[];t&&!i&&(i=function(n,t){var u,f,r,i;if(!t)return"";if(n.cache_.source.src===t&&n.cache_.source.type)return n.cache_.source.type;if(u=n.cache_.sources.filter(function(n){return n.src===t}),u.length)return u[0].type;for(f=n.$$("source"),r=0;r<f.length;r++)if(i=f[r],i.type&&i.src&&i.src===t)return i.type;return ho(t)}(this,t));this.cache_.source=v({},n,{src:t,type:i});for(var f=this.cache_.sources.filter(function(n){return n.src&&n.src===t}),e=[],o=this.$$("source"),s=[],u=0;u<o.length;u++)r=oi(o[u]),e.push(r),r.src&&r.src===t&&s.push(r.src);s.length&&!f.length?this.cache_.sources=e:f.length||(this.cache_.sources=[this.cache_.source]);this.cache_.src=t},f.handleTechSourceset_=function(n){var t=this;if(!this.changingSrc_){var u=function(n){return t.updateSourceCaches_(n)},i=this.currentSource().src,r=n.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(this.lastSource_&&(this.lastSource_.tech===r||this.lastSource_.player===i)||(u=function(){}));u(r);n.src||this.tech_.any(["sourceset","loadstart"],function(n){if("sourceset"!==n.type){var i=t.techGet("currentSrc");t.lastSource_.tech=i;t.updateSourceCaches_(i)}})}this.lastSource_={player:this.currentSource().src,tech:n.src};this.trigger({src:n.src,type:"sourceset"})},f.hasStarted=function(n){if(void 0===n)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},f.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")},f.handleTechRateChange_=function(){0<this.tech_.playbackRate()&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]);this.cache_.lastPlaybackRate=this.tech_.playbackRate();this.trigger("ratechange")},f.handleTechWaiting_=function(){var n=this,t;this.addClass("vjs-waiting");this.trigger("waiting");t=this.currentTime();this.on("timeupdate",function i(){t!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",i))})},f.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");this.trigger("canplay")},f.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")},f.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")},f.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")},f.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.removeClass("vjs-ended");this.trigger("seeked")},f.handleTechFirstPlay_=function(){this.options_.starttime&&(h.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime));this.addClass("vjs-has-started");this.trigger("firstplay")},f.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")},f.handleTechEnded_=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause();this.trigger("ended")},f.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},f.handleTechClick_=function(n){gr(n)&&this.controls_&&(this.paused()?iu(this.play()):this.pause())},f.handleTechDoubleClick_=function(n){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(n.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},f.handleTechTap_=function(){this.userActive(!this.userActive())},f.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},f.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},f.handleTechTouchEnd_=function(n){n.preventDefault()},f.handleStageClick_=function(){this.reportUserActivity()},f.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},f.documentFullscreenChange_=function(n){var u=n.target.player,i,r;u&&u!==this||(i=this.el(),r=t[this.fsApi_.fullscreenElement]===i,!r&&i.matches?r=i.matches(":"+this.fsApi_.fullscreen):!r&&i.msMatchesSelector&&(r=i.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r))},f.handleTechFullscreenChange_=function(n,t){t&&this.isFullscreen(t.isFullscreen)},f.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},f.handleTechEnterPictureInPicture_=function(){this.isInPictureInPicture(!0)},f.handleTechLeavePictureInPicture_=function(){this.isInPictureInPicture(!1)},f.handleTechError_=function(){var n=this.tech_.error();this.error(n)},f.handleTechTextData_=function(n,t){var i=null;1<arguments.length&&(i=t);this.trigger("textdata",i)},f.getCache=function(){return this.cache_},f.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},f.techCall_=function(n,t){this.ready(function(){if(n in krt)return function(n,t,i,r){return t[i](n.reduce(el(i),r))}(this.middleware_,this.tech_,n,t);if(n in pb)return yb(this.middleware_,this.tech_,n,t);try{this.tech_&&this.tech_[n](t)}catch(n){throw h(n),n;}},!0)},f.techGet_=function(n){if(this.tech_&&this.tech_.isReady_){if(n in brt)return function(n,t,i){return n.reduceRight(el(i),t[i]())}(this.middleware_,this.tech_,n);if(n in pb)return yb(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(t){if(void 0===this.tech_[n])throw h("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw h("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw h(t),t;}}},f.play=function(){var i=this,t=this.options_.Promise||n.Promise;return t?new t(function(n){i.play_(n)}):this.play_()},f.play_=function(n){var r=this,t,i;if(void 0===n&&(n=iu),this.playCallbacks_.push(n),t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=function(){r.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(t||!lc&&!ii||this.load());i=this.techGet_("play");null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)},f.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[];n.forEach(function(n){n()})},f.runPlayCallbacks_=function(n){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[];this.playTerminatedQueue_=[];t.forEach(function(t){t(n)})},f.pause=function(){this.techCall_("pause")},f.paused=function(){return!1!==this.techGet_("paused")},f.played=function(){return this.techGet_("played")||rr(0,0)},f.scrubbing=function(n){if("undefined"==typeof n)return this.scrubbing_;this.scrubbing_=!!n;n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},f.currentTime=function(n){return"undefined"!=typeof n?(n<0&&(n=0),void this.techCall_("setCurrentTime",n)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},f.duration=function(n){if(void 0===n)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(n=parseFloat(n))<0&&(n=1/0);n!==this.cache_.duration&&((this.cache_.duration=n)===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(n)||this.trigger("durationchange"))},f.remainingTime=function(){return this.duration()-this.currentTime()},f.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},f.buffered=function(){var n=this.techGet_("buffered");return n&&n.length||(n=rr(0,0)),n},f.bufferedPercent=function(){return vw(this.buffered(),this.duration())},f.bufferedEnd=function(){var t=this.buffered(),i=this.duration(),n=t.end(t.length-1);return i<n&&(n=i),n},f.volume=function(n){var t;return void 0!==n?(t=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},f.muted=function(n){if(void 0===n)return this.techGet_("muted")||!1;this.techCall_("setMuted",n)},f.defaultMuted=function(n){return void 0!==n?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},f.lastVolume_=function(n){if(void 0===n||0===n)return this.cache_.lastVolume;this.cache_.lastVolume=n},f.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},f.isFullscreen=function(n){if(void 0===n)return this.isFullscreen_;var t=this.isFullscreen_;return this.isFullscreen_=Boolean(n),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()},f.requestFullscreen=function(n){var i,r=this,t;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==n&&(i=n)),this.fsApi_.requestFullscreen)return t=this.el_[this.fsApi_.requestFullscreen](i),t&&t.then(function(){return r.isFullscreen(!0)},function(){return r.isFullscreen(!1)}),t;this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},f.exitFullscreen=function(){var i=this,n;if(this.fsApi_.requestFullscreen)return n=t[this.fsApi_.exitFullscreen](),n&&n.then(function(){return i.isFullscreen(!1)}),n;this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},f.enterFullWindow=function(){this.isFullscreen(!0);this.isFullWindow=!0;this.docOrigOverflow=t.documentElement.style.overflow;vt(t,"keydown",this.boundFullWindowOnEscKey_);t.documentElement.style.overflow="hidden";ei(t.body,"vjs-full-window");this.trigger("enterFullWindow")},f.fullWindowOnEscKey=function(n){e.isEventKey(n,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},f.exitFullWindow=function(){this.isFullscreen(!1);this.isFullWindow=!1;tt(t,"keydown",this.boundFullWindowOnEscKey_);t.documentElement.style.overflow=this.docOrigOverflow;cf(t.body,"vjs-full-window");this.trigger("exitFullWindow")},f.isInPictureInPicture=function(n){return void 0!==n?(this.isInPictureInPicture_=!!n,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},f.requestPictureInPicture=function(){if("pictureInPictureEnabled"in t)return this.techGet_("requestPictureInPicture")},f.exitPictureInPicture=function(){if("pictureInPictureEnabled"in t)return t.exitPictureInPicture()},f.handleKeyDown=function(n){var t=this.options_.userActions;t&&t.hotkeys&&(function(n){var t=n.tagName.toLowerCase();return n.isContentEditable?!0:"input"===t?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(n.type):-1!==["textarea"].indexOf(t)}(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,n):this.handleHotkeys(n)))},f.handleHotkeys=function(n){var i=this.options_.userActions?this.options_.userActions.hotkeys:{},u=i.fullscreenKey,h=void 0===u?function(n){return e.isEventKey(n,"f")}:u,f=i.muteKey,c=void 0===f?function(n){return e.isEventKey(n,"m")}:f,o=i.playPauseKey,l=void 0===o?function(n){return e.isEventKey(n,"k")||e.isEventKey(n,"Space")}:o,s;h.call(this,n)?(n.preventDefault(),n.stopPropagation(),s=r.getComponent("FullscreenToggle"),!1!==t[this.fsApi_.fullscreenEnabled]&&s.prototype.handleClick.call(this,n)):c.call(this,n)?(n.preventDefault(),n.stopPropagation(),r.getComponent("MuteToggle").prototype.handleClick.call(this,n)):l.call(this,n)&&(n.preventDefault(),n.stopPropagation(),r.getComponent("PlayToggle").prototype.handleClick.call(this,n))},f.canPlayType=function(n){for(var e,u,t,i=0,f=this.options_.techOrder;i<f.length;i++)if(u=f[i],t=a.getTech(u),t=t||r.getComponent(u)){if(t.isSupported()&&(e=t.canPlayType(n)))return e}else h.error('The "'+u+'" tech is undefined. Skipped browser support check for that tech.');return""},f.selectSource=function(n){function t(n,t,i){var r;return n.some(function(n){return t.some(function(t){if(r=i(n,t))return!0})}),r}function i(n,t){var i=n[0];if(n[1].canPlaySource(t,f.options_[i.toLowerCase()]))return{source:t,tech:i}}var r,f=this,u=this.options_.techOrder.map(function(n){return[n,a.getTech(n)]}).filter(function(n){var i=n[0],t=n[1];return t?t.isSupported():(h.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.'),!1)});return(this.options_.sourceOrder?t(n,u,(r=i,function(n,t){return r(t,n)})):t(u,n,i))||!1},f.src=function(n){var t=this,i;if("undefined"==typeof n)return this.cache_.src||"";i=function r(n){if(Array.isArray(n)){var t=[];n.forEach(function(n){n=r(n);Array.isArray(n)?t=t.concat(n):ai(n)&&t.push(n)});n=t}else n="string"==typeof n&&n.trim()?[bb({src:n})]:ai(n)&&"string"==typeof n.src&&n.src&&n.src.trim()?[bb(n)]:[];return n}(n);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),wrt(this,i[0],function(n,r){if(t.middleware_=r,t.cache_.sources=i,t.updateSourceCaches_(n),t.src_(n))return 1<i.length?t.src(i.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());!function(n,t){n.forEach(function(n){return n.setTech&&n.setTech(t)})}(r,t.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},f.src_=function(n){var i=this,t=this.selectSource([n]);return!t||(function(n,t){return b(n)===b(t)}(t.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src);this.changingSrc_=!1},!0):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(function(){i.changingSrc_=!1})),!1)},f.load=function(){this.techCall_("load")},f.reset=function(){var t=this,i=this.options_.Promise||n.Promise;this.paused()||!i?this.doReset_():iu(this.play().then(function(){return t.doReset_()}))},f.doReset_=function(){this.tech_&&this.tech_.clearTracks("text");this.resetCache_();this.poster("");this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset");this.resetControlBarUI_();pi(this)&&this.trigger("playerreset")},f.resetControlBarUI_=function(){this.resetProgressBar_();this.resetPlaybackRate_();this.resetVolumeBar_()},f.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar,t=n.durationDisplay,i=n.remainingTimeDisplay;t&&t.updateContent();i&&i.updateContent()},f.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate());this.handleTechRateChange_()},f.resetVolumeBar_=function(){this.volume(1);this.trigger("volumechange")},f.currentSources=function(){var n=this.currentSource(),t=[];return 0!==Object.keys(n).length&&t.push(n),this.cache_.sources||t},f.currentSource=function(){return this.cache_.source||{}},f.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},f.currentType=function(){return this.currentSource()&&this.currentSource().type||""},f.preload=function(n){return void 0!==n?(this.techCall_("setPreload",n),void(this.options_.preload=n)):this.techGet_("preload")},f.autoplay=function(n){if(void 0===n)return this.options_.autoplay||!1;var t;"string"==typeof n&&/(any|play|muted)/.test(n)?(this.options_.autoplay=n,this.manualAutoplay_(n),t=!1):this.options_.autoplay=!!n;t="undefined"==typeof t?this.options_.autoplay:t;this.tech_&&this.techCall_("setAutoplay",t)},f.playsinline=function(n){return void 0!==n?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},f.loop=function(n){return void 0!==n?(this.techCall_("setLoop",n),void(this.options_.loop=n)):this.techGet_("loop")},f.poster=function(n){if(void 0===n)return this.poster_;(n=n||"")!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},f.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},f.controls=function(n){if(void 0===n)return!!this.controls_;n=!!n;this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},f.usingNativeControls=function(n){if(void 0===n)return!!this.usingNativeControls_;n=!!n;this.usingNativeControls_!==n&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},f.error=function(n){if(void 0===n)return this.error_||null;if(this.options_.suppressNotSupportedError&&n&&4===n.code){var t=function(){this.error(n)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===n)return this.error_=n,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new ut(n);this.addClass("vjs-error");h.error("(CODE:"+this.error_.code+" "+ut.errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error")},f.reportUserActivity=function(){this.userActivity_=!0},f.userActive=function(n){if(void 0===n)return this.userActive_;if((n=!!n)!==this.userActive_){if(this.userActive_=n,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation();n.preventDefault()});this.userActivity_=!1;this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}},f.listenForUserActivity_=function(){function r(){n();this.clearInterval(i)}var i,u,f,n=s(this,this.reportUserActivity),e,t;this.on("mousedown",function(){n();this.clearInterval(i);i=this.setInterval(n,250)});this.on("mousemove",function(t){t.screenX===u&&t.screenY===f||(u=t.screenX,f=t.screenY,n())});this.on("mouseup",r);this.on("mouseleave",r);t=this.getChild("controlBar");!t||ii||wi||(t.on("mouseenter",function(){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout;this.player().options_.inactivityTimeout=0}),t.on("mouseleave",function(){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}));this.on("keydown",n);this.on("keyup",n);this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(e);var n=this.options_.inactivityTimeout;n<=0||(e=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},n))}},250)},f.playbackRate=function(n){if(void 0===n)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",n)},f.defaultPlaybackRate=function(n){return void 0!==n?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},f.isAudio=function(n){if(void 0===n)return!!this.isAudio_;this.isAudio_=!!n},f.addTextTrack=function(n,t,i){if(this.tech_)return this.tech_.addTextTrack(n,t,i)},f.addRemoteTextTrack=function(n,t){if(this.tech_)return this.tech_.addRemoteTextTrack(n,t)},f.removeRemoteTextTrack=function(n){void 0===n&&(n={});var t=n.track;if(t=t||n,this.tech_)return this.tech_.removeRemoteTextTrack(t)},f.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},f.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},f.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},f.language=function(n){if(void 0===n)return this.language_;this.language_=String(n).toLowerCase()},f.languages=function(){return v(c.prototype.options_.languages,this.languages_)},f.toJSON=function(){var t=v(this.options_),r=t.tracks,n,i;for(t.tracks=[],n=0;n<r.length;n++)i=r[n],(i=v(i)).player=void 0,t.tracks[n]=i;return t},f.createModal=function(n,t){var r=this,i;return(t=t||{}).content=n||"",i=new ru(this,t),this.addChild(i),i.on("dispose",function(){r.removeChild(i)}),i.open(),i},f.updateCurrentBreakpoint_=function(){var n;if(this.responsive())for(var t=this.currentBreakpoint(),r=this.currentWidth(),i=0;i<ya.length;i++)if(n=ya[i],r<=this.breakpoints_[n]){if(t===n)return;t&&this.removeClass(hs[t]);this.addClass(hs[n]);this.breakpoint_=n;break}},f.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="";n&&this.removeClass(n)},f.breakpoints=function(n){return void 0===n||(this.breakpoint_="",this.breakpoints_=y({},ed,n),this.updateCurrentBreakpoint_()),y(this.breakpoints_)},f.responsive=function(n){return void 0===n?this.responsive_:(n=Boolean(n))!==this.responsive_?((this.responsive_=n)?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n):void 0},f.currentBreakpoint=function(){return this.breakpoint_},f.currentBreakpointClass=function(){return hs[this.breakpoint_]||""},f.loadMedia=function(n,t){var e=this;if(n&&"object"==typeof n){this.reset();this.cache_.media=v(n);var r=this.cache_.media,o=r.artwork,i=r.poster,u=r.src,f=r.textTracks;!o&&i&&(this.cache_.media.artwork=[{src:i,type:ho(i)}]);u&&this.src(u);i&&this.poster(i);Array.isArray(f)&&f.forEach(function(n){return e.addRemoteTextTrack(n,!1)});this.ready(t)}},f.getMedia=function(){if(this.cache_.media)return v(this.cache_.media);var t=this.poster(),n={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(n){return{kind:n.kind,label:n.label,language:n.language,src:n.src}})};return t&&(n.poster=t,n.artwork=[{src:n.poster,type:ho(n.poster)}]),n},c.getTagSettings=function(n){var i={sources:[],tracks:[]},t=oi(n),e=t["data-setup"],r,f;if(nr(n,"vjs-fill")&&(t.fill=!0),nr(n,"vjs-fluid")&&(t.fluid=!0),null!==e){var o=pw(e||"{}"),s=o[0],l=o[1];s&&h.error(s);y(t,l)}if(y(i,t),n.hasChildNodes())for(var c=n.childNodes,u=0,a=c.length;u<a;u++)r=c[u],f=r.nodeName.toLowerCase(),"source"===f?i.sources.push(oi(r)):"track"===f&&i.tracks.push(oi(r));return i},f.flexNotSupported_=function(){var n=t.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},c}(r);it.names.forEach(function(n){var t=it[n];k.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});k.players={};lu=n.navigator;k.prototype.options_={techOrder:a.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:lu&&(lu.languages&&lu.languages[0]||lu.userLanguage||lu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){k.prototype[n]=function(){return this.techGet_(n)}});fd.forEach(function(n){k.prototype["handleTech"+b(n)+"_"]=function(){return this.trigger(n)}});r.registerComponent("Player",k);var hd=gi(function(n){function t(i,r){return n.exports=t=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},t(i,r)}n.exports=t}),iut=gi(function(n){function t(){return n.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}()?t=Reflect.construct:t=function(n,t,i){var r=[null],u;return r.push.apply(r,t),u=new(Function.bind.apply(n,r)),i&&hd(u,i.prototype),u},t.apply(null,arguments)}n.exports=t}),vs="plugin",au="activePlugins_",vu={},ui=function(){function n(t){if(this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t;ic(this);delete this.trigger;fw(this,this.constructor.defaultState);od(t,this.name);this.dispose=s(this,this.dispose);t.on("dispose",this.dispose)}var t=n.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(n){return void 0===n&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},t.trigger=function(n,t){return void 0===t&&(t={}),nu(this.eventBusEl_,n,this.getEventHash(t))},t.handleStateChanged=function(){},t.dispose=function(){var n=this.name,t=this.player;this.trigger("dispose");this.off();t.off("dispose",this.dispose);t[au][n]=!1;this.player=this.state=null;t[n]=sd(n,vu[n])},n.isBasic=function(t){var i="string"==typeof t?ls(t):t;return"function"==typeof i&&!n.prototype.isPrototypeOf(i.prototype)},n.registerPlugin=function(t,i){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(cs(t))h.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(k.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof i+".");return vu[t]=i,t!==vs&&(k.prototype[t]=n.isBasic(i)?function(n,t){function i(){as(this,{name:n,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return od(this,n),as(this,{name:n,plugin:t,instance:i}),i}return Object.keys(t).forEach(function(n){i[n]=t[n]}),i}(t,i):sd(t,i)),i},n.deregisterPlugin=function(n){if(n===vs)throw new Error("Cannot de-register base plugin.");cs(n)&&(delete vu[n],delete k.prototype[n])},n.getPlugins=function(n){var t;return void 0===n&&(n=Object.keys(vu)),n.forEach(function(n){var i=ls(n);i&&((t=t||{})[n]=i)}),t},n.getPluginVersion=function(n){var t=ls(n);return t&&t.VERSION||""},n}();ui.getPlugin=ls;ui.BASE_PLUGIN_NAME=vs;ui.registerPlugin(vs,ui);k.prototype.usingPlugin=function(n){return!!this[au]&&!0===this[au][n]};k.prototype.hasPlugin=function(n){return!!cs(n)};cd=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&hd(n,t)};pa=function(n){return 0===n.indexOf("#")?n.slice(1):n};(i.hooks_={},i.hooks=function(n,t){return i.hooks_[n]=i.hooks_[n]||[],t&&(i.hooks_[n]=i.hooks_[n].concat(t)),i.hooks_[n]},i.hook=function(n,t){i.hooks(n,t)},i.hookOnce=function(n,t){i.hooks(n,[].concat(t).map(function(t){return function r(){return i.removeHook(n,r),t.apply(void 0,arguments)}}))},i.removeHook=function(n,t){var r=i.hooks(n).indexOf(t);return!(r<=-1)&&(i.hooks_[n]=i.hooks_[n].slice(),i.hooks_[n].splice(r,1),!0)},!0!==n.VIDEOJS_NO_DYNAMIC_STYLE&&kr())&&(re=vi(".vjs-styles-defaults"),re||(re=ap("vjs-styles-defaults"),ys=vi("head"),ys&&ys.insertBefore(re,ys.firstChild),vp(re,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")));kh(1,i);i.VERSION=yy;i.options=k.prototype.options_;i.getPlayers=function(){return k.players};i.getPlayer=function(n){var t,i=k.players,r,u;if("string"==typeof n){if(r=pa(n),u=i[r],u)return u;t=vi("#"+r)}else t=n;if(hf(t)){var f=t,e=f.player,o=f.playerId;if(e||i[o])return e||i[o]}};i.getAllPlayers=function(){return Object.keys(k.players).map(function(n){return k.players[n]}).filter(Boolean)};i.players=k.players;i.getComponent=r.getComponent;i.registerComponent=function(n,t){a.isTech(t)&&h.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");r.registerComponent.call(r,n,t)};i.getTech=a.getTech;i.registerTech=a.registerTech;i.use=function(n,t){er[n]=er[n]||[];er[n].push(t)};Object.defineProperty(i,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(i.middleware,"TERMINATOR",{value:so,writeable:!1,enumerable:!0});i.browser=yit;i.TOUCH_ENABLED=tu;i.extend=function(n,t){var i,r,u;void 0===t&&(t={});i=function(){n.apply(this,arguments)};r={};for(u in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):"function"==typeof t&&(i=t),cd(i,n),n&&(i.super_=n),r)r.hasOwnProperty(u)&&(i.prototype[u]=r[u]);return i};i.mergeOptions=v;i.bind=s;i.registerPlugin=ui.registerPlugin;i.deregisterPlugin=ui.deregisterPlugin;i.plugin=function(n,t){return h.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ui.registerPlugin(n,t)};i.getPlugins=ui.getPlugins;i.getPlugin=ui.getPlugin;i.getPluginVersion=ui.getPluginVersion;i.addLanguage=function(n,t){var r;return n=(""+n).toLowerCase(),i.options.languages=v(i.options.languages,((r={})[n]=t,r)),i.options.languages[n]};i.log=h;i.createLogger=py;i.createTimeRange=i.createTimeRanges=rr;i.formatTime=su;i.setFormatTime=function(n){co=n};i.resetFormatTime=function(){co=rk};i.parseUrl=bc;i.isCrossOrigin=fo;i.EventTarget=rt;i.on=vt;i.one=ge;i.off=tt;i.trigger=nu;i.xhr=gc;i.TextTrack=uu;i.AudioTrack=fb;i.VideoTrack=eb;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){i[n]=function(){return h.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),cp[n].apply(null,arguments)}});i.computedStyle=we;i.dom=cp;i.url=irt;i.defineLazyProperty=aa;wa=gi(function(n){var i,r,u,f,t;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/;r=/^([^\/?#]*)(.*)$/;u=/(?:\/|^)\.(?=\/)/g;f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g;t={buildAbsoluteURL:function(n,i,u){var s,f,e,h,o,c,l;if(u=u||{},n=n.trim(),!(i=i.trim())){if(!u.alwaysNormalize)return n;if(s=t.parseURL(n),!s)throw new Error("Error trying to parse base URL.");return s.path=t.normalizePath(s.path),t.buildURLFromParts(s)}if(f=t.parseURL(i),!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=t.normalizePath(f.path),t.buildURLFromParts(f)):i;if(e=t.parseURL(n),!e)throw new Error("Error trying to parse base URL.");return!e.netLoc&&e.path&&"/"!==e.path[0]&&(h=r.exec(e.path),e.netLoc=h[1],e.path=h[2]),e.netLoc&&!e.path&&(e.path="/"),o={scheme:e.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment},f.netLoc||(o.netLoc=e.netLoc,"/"===f.path[0])||(f.path?(c=e.path,l=c.substring(0,c.lastIndexOf("/")+1)+f.path,o.path=t.normalizePath(l)):(o.path=e.path,f.params||(o.params=e.params,f.query||(o.query=e.query)))),null===o.path&&(o.path=u.alwaysNormalize?t.normalizePath(f.path):f.path),t.buildURLFromParts(o)},parseURL:function(n){var t=i.exec(n);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(n){for(n=n.split("").reverse().join("").replace(u,"");n.length!==(n=n.replace(f,"")).length;);return n.split("").reverse().join("")},buildURLFromParts:function(n){return n.scheme+n.netLoc+n.path+n.params+n.query+n.fragment}};n.exports=t});
/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */
var ka=function(){function t(){this.listeners={}}var n=t.prototype;return n.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},n.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),-1<i},n.trigger=function(n,t){var i,u,f,r=this.listeners[n];if(r)if(2===arguments.length)for(u=r.length,i=0;i<u;++i)r[i].call(this,t);else for(f=Array.prototype.slice.call(arguments,1),u=r.length,i=0;i<u;++i)r[i].apply(this,f)},n.dispose=function(){this.listeners={}},n.pipe=function(n){this.on("data",function(t){n.push(t)})},t}(),rut=function(n){function t(){var t;return(t=n.call(this)||this).buffer="",t}return ba(t,n),t.prototype.push=function(n){var t;for(this.buffer+=n,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(ka),uut=function(n){function t(){var t;return(t=n.call(this)||this).customParsers=[],t.tagMappers=[],t}ba(t,n);var i=t.prototype;return i.push=function(n){var i,t,r=this;0!==(n=n.trim()).length&&("#"===n[0]?this.tagMappers.reduce(function(t,i){var r=i(n);return r===n?t:t.concat([r])},[n]).forEach(function(n){for(var u,f,o,e=0;e<r.customParsers.length;e++)if(r.customParsers[e].call(r,n))return;if(0===n.indexOf("#EXT"))if(n=n.replace("\r",""),i=/^#EXTM3U/.exec(n))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(i=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(n))return t={type:"tag",tagType:"inf"},i[1]&&(t.duration=parseFloat(i[1])),i[2]&&(t.title=i[2]),void r.trigger("data",t);if(i=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(n))return t={type:"tag",tagType:"targetduration"},i[1]&&(t.duration=parseInt(i[1],10)),void r.trigger("data",t);if(i=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(n))return t={type:"tag",tagType:"totalduration"},i[1]&&(t.duration=parseInt(i[1],10)),void r.trigger("data",t);if(i=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(n))return t={type:"tag",tagType:"version"},i[1]&&(t.version=parseInt(i[1],10)),void r.trigger("data",t);if(i=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(n))return t={type:"tag",tagType:"media-sequence"},i[1]&&(t.number=parseInt(i[1],10)),void r.trigger("data",t);if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(n))return t={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(t.number=parseInt(i[1],10)),void r.trigger("data",t);if(i=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(n))return t={type:"tag",tagType:"playlist-type"},i[1]&&(t.playlistType=i[1]),void r.trigger("data",t);if(i=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(n))return t={type:"tag",tagType:"byterange"},i[1]&&(t.length=parseInt(i[1],10)),i[2]&&(t.offset=parseInt(i[2],10)),void r.trigger("data",t);if(i=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(n))return t={type:"tag",tagType:"allow-cache"},i[1]&&(t.allowed=!/NO/.test(i[1])),void r.trigger("data",t);if(i=/^#EXT-X-MAP:?(.*)$/.exec(n)){if((t={type:"tag",tagType:"map"},i[1])&&(u=ue(i[1]),u.URI&&(t.uri=u.URI),u.BYTERANGE)){var s=u.BYTERANGE.split("@"),h=s[0],c=s[1];t.byterange={};h&&(t.byterange.length=parseInt(h,10));c&&(t.byterange.offset=parseInt(c,10))}r.trigger("data",t)}else if(i=/^#EXT-X-STREAM-INF:?(.*)$/.exec(n))(t={type:"tag",tagType:"stream-inf"},i[1])&&((t.attributes=ue(i[1]),t.attributes.RESOLUTION)&&(f=t.attributes.RESOLUTION.split("x"),o={},f[0]&&(o.width=parseInt(f[0],10)),f[1]&&(o.height=parseInt(f[1],10)),t.attributes.RESOLUTION=o),t.attributes.BANDWIDTH&&(t.attributes.BANDWIDTH=parseInt(t.attributes.BANDWIDTH,10)),t.attributes["PROGRAM-ID"]&&(t.attributes["PROGRAM-ID"]=parseInt(t.attributes["PROGRAM-ID"],10))),r.trigger("data",t);else{if(i=/^#EXT-X-MEDIA:?(.*)$/.exec(n))return t={type:"tag",tagType:"media"},i[1]&&(t.attributes=ue(i[1])),void r.trigger("data",t);if(i=/^#EXT-X-ENDLIST/.exec(n))r.trigger("data",{type:"tag",tagType:"endlist"});else if(i=/^#EXT-X-DISCONTINUITY/.exec(n))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(i=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(n))return t={type:"tag",tagType:"program-date-time"},i[1]&&(t.dateTimeString=i[1],t.dateTimeObject=new Date(i[1])),void r.trigger("data",t);if(i=/^#EXT-X-KEY:?(.*)$/.exec(n))return t={type:"tag",tagType:"key"},i[1]&&(t.attributes=ue(i[1]),t.attributes.IV&&("0x"===t.attributes.IV.substring(0,2).toLowerCase()&&(t.attributes.IV=t.attributes.IV.substring(2)),t.attributes.IV=t.attributes.IV.match(/.{8}/g),t.attributes.IV[0]=parseInt(t.attributes.IV[0],16),t.attributes.IV[1]=parseInt(t.attributes.IV[1],16),t.attributes.IV[2]=parseInt(t.attributes.IV[2],16),t.attributes.IV[3]=parseInt(t.attributes.IV[3],16),t.attributes.IV=new Uint32Array(t.attributes.IV))),void r.trigger("data",t);if(i=/^#EXT-X-START:?(.*)$/.exec(n))return t={type:"tag",tagType:"start"},i[1]&&(t.attributes=ue(i[1]),t.attributes["TIME-OFFSET"]=parseFloat(t.attributes["TIME-OFFSET"]),t.attributes.PRECISE=/YES/.test(t.attributes.PRECISE)),void r.trigger("data",t);if(i=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(n))return t={type:"tag",tagType:"cue-out-cont"},t.data=i[1]?i[1]:"",void r.trigger("data",t);if(i=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(n))return t={type:"tag",tagType:"cue-out"},t.data=i[1]?i[1]:"",void r.trigger("data",t);if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(n))return t={type:"tag",tagType:"cue-in"},t.data=i[1]?i[1]:"",void r.trigger("data",t);r.trigger("data",{type:"tag",data:n.slice(4)})}}}else r.trigger("data",{type:"comment",text:n.slice(1)})}):this.trigger("data",{type:"uri",uri:n}))},i.addParser=function(n){var i=this,r=n.expression,u=n.customType,t=n.dataParser,f=n.segment;"function"!=typeof t&&(t=function(n){return n});this.customParsers.push(function(n){if(r.exec(n))return i.trigger("data",{type:"custom",data:t(n),customType:u,segment:f}),!0})},i.addTagMapper=function(n){var t=n.expression,i=n.map;this.tagMappers.push(function(n){return t.test(n)?i(n):n})},t}(ka);var yd=function(t){function r(){var r;(r=t.call(this)||this).lineStream=new rut;r.parseStream=new uut;r.lineStream.pipe(r.parseStream);var u,f,s=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(r),e=[],i={},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},o=0;return r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},r.parseStream.on("data",function(t){var c,r;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed;"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var n={};"length"in t&&((i.byterange=n).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0));"offset"in t&&((i.byterange=n).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"}));"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"}));0<t.duration&&(i.duration=t.duration);0===t.duration&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"}));this.manifest.segments=e},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:function(t){for(var r=n.atob(t||""),u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r.charCodeAt(i);return u}(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"});f={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI};"undefined"!=typeof t.attributes.IV&&(f.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else f=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,o=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){u={};t.uri&&(u.uri=t.uri);t.byterange&&(u.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=e;this.manifest.mediaGroups=this.manifest.mediaGroups||h;t.attributes?(i.attributes||(i.attributes={}),ld(i.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{};c=n[t.attributes["GROUP-ID"]];r.autoselect=(r={"default":/yes/i.test(t.attributes.DEFAULT)}).default?!0:/yes/i.test(t.attributes.AUTOSELECT);t.attributes.LANGUAGE&&(r.language=t.attributes.LANGUAGE);t.attributes.URI&&(r.uri=t.attributes.URI);t.attributes["INSTREAM-ID"]&&(r.instreamId=t.attributes["INSTREAM-ID"]);t.attributes.CHARACTERISTICS&&(r.characteristics=t.attributes.CHARACTERISTICS);t.attributes.FORCED&&(r.forced=/yes/i.test(t.attributes.FORCED));c[t.attributes.NAME]=r}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){o+=1;i.discontinuity=!0;this.manifest.discontinuityStarts.push(e.length)},"program-date-time":function(){"undefined"==typeof this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject);i.dateTimeString=t.dateTimeString;i.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){i.cueOut=t.data},"cue-out-cont":function(){i.cueOutCont=t.data},"cue-in":function(){i.cueIn=t.data}}[t.tagType]||function(){}).call(s)},uri:function(){i.uri=t.uri;e.push(i);!this.manifest.targetDuration||"duration"in i||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration);f&&(i.key=f);i.timeline=o;u&&(i.map=u);i={}},comment:function(){},custom:function(){t.segment?(i.custom=i.custom||{},i.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(s)}),r}ba(r,t);var i=r.prototype;return i.push=function(n){this.lineStream.push(n)},i.end=function(){this.lineStream.push("\n")},i.addParser=function(n){this.parseStream.addParser(n)},i.addTagMapper=function(n){this.parseStream.addTagMapper(n)},r}(ka),fut="INVALID_NUMBER_OF_PERIOD",eut="DASH_EMPTY_MANIFEST",out="DASH_INVALID_XML",sut="NO_BASE_URL",hut="SEGMENT_TIME_UNSPECIFIED",cut="UNSUPPORTED_UTC_TIMING_SCHEME";
/*! @name mpd-parser @version 0.8.1 @license Apache-2.0 */
var tv,gd=(function(n){var i,r,u,f,t;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/;r=/^([^\/?#]*)(.*)$/;u=/(?:\/|^)\.(?=\/)/g;f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g;t={buildAbsoluteURL:function(n,i,u){var s,f,e,h,o,c,l;if(u=u||{},n=n.trim(),!(i=i.trim())){if(!u.alwaysNormalize)return n;if(s=t.parseURL(n),!s)throw new Error("Error trying to parse base URL.");return s.path=t.normalizePath(s.path),t.buildURLFromParts(s)}if(f=t.parseURL(i),!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=t.normalizePath(f.path),t.buildURLFromParts(f)):i;if(e=t.parseURL(n),!e)throw new Error("Error trying to parse base URL.");return!e.netLoc&&e.path&&"/"!==e.path[0]&&(h=r.exec(e.path),e.netLoc=h[1],e.path=h[2]),e.netLoc&&!e.path&&(e.path="/"),o={scheme:e.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment},f.netLoc||(o.netLoc=e.netLoc,"/"===f.path[0])||(f.path?(c=e.path,l=c.substring(0,c.lastIndexOf("/")+1)+f.path,o.path=t.normalizePath(l)):(o.path=e.path,f.params||(o.params=e.params,f.query||(o.query=e.query)))),null===o.path&&(o.path=u.alwaysNormalize?t.normalizePath(f.path):f.path),t.buildURLFromParts(o)},parseURL:function(n){var t=i.exec(n);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(n){for(n=n.split("").reverse().join("").replace(u,"");n.length!==(n=n.replace(f,"")).length;);return n.split("").reverse().join("")},buildURLFromParts:function(n){return n.scheme+n.netLoc+n.path+n.params+n.query+n.fragment}};n.exports=t}(tv={exports:{}},tv.exports),tv.exports),but={"static":function(n){var i=n.duration,t=n.timescale,r=void 0===t?1:t,u=n.sourceDuration;return{start:0,end:Math.ceil(u/(i/r))}},dynamic:function(n){var h=n.NOW,c=n.clientOffset,l=n.availabilityStartTime,f=n.timescale,t=void 0===f?1:f,i=n.duration,e=n.start,a=void 0===e?0:e,o=n.minimumUpdatePeriod,v=void 0===o?0:o,s=n.timeShiftBufferDepth,y=void 0===s?1/0:s,r=(h+c)/1e3,u=l+a,p=r+v-u,w=Math.ceil(p*t/i),b=Math.floor((r-u-y)*t/i),k=Math.floor((r-u)*t/i);return{start:Math.max(0,b),end:Math.min(w,k)}}},kut=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ng={mediaPresentationDuration:function(n){return ee(n)},availabilityStartTime:function(n){return function(n){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)}(n)/1e3},minimumUpdatePeriod:function(n){return ee(n)},timeShiftBufferDepth:function(n){return ee(n)},start:function(n){return ee(n)},width:function(n){return parseInt(n,10)},height:function(n){return parseInt(n,10)},bandwidth:function(n){return parseInt(n,10)},startNumber:function(n){return parseInt(n,10)},timescale:function(n){return parseInt(n,10)},duration:function(n){var t=parseInt(n,10);return isNaN(t)?ee(n):t},d:function(n){return parseInt(n,10)},t:function(n){return parseInt(n,10)},r:function(n){return parseInt(n,10)},DEFAULT:function(n){return n}};var lt,ug,fg,eg,og,sg,hg,ift={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},cg=function(n){return n>>>0},rft=function(n){return("00"+n.toString(16)).slice(-2)},rv=cg,bi={avc1:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:lt(n.subarray(78,n.byteLength))}},avcC:function(n){for(var f,i,e=new DataView(n.buffer,n.byteOffset,n.byteLength),u={configurationVersion:n[0],avcProfileIndication:n[1],profileCompatibility:n[2],avcLevelIndication:n[3],lengthSizeMinusOne:3&n[4],sps:[],pps:[]},o=31&n[5],t=6,r=0;r<o;r++)i=e.getUint16(t),t+=2,u.sps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;for(f=n[t],t++,r=0;r<f;r++)i=e.getUint16(t),t+=2,u.pps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;return u},btrt:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),esId:n[6]<<8|n[7],streamPriority:31&n[8],decoderConfig:{objectProfileIndication:n[11],streamType:n[12]>>>2&63,bufferSize:n[13]<<16|n[14]<<8|n[15],maxBitrate:n[16]<<24|n[17]<<16|n[18]<<8|n[19],avgBitrate:n[20]<<24|n[21]<<16|n[22]<<8|n[23],decoderConfigDescriptor:{tag:n[24],length:n[25],audioObjectType:n[26]>>>3&31,samplingFrequencyIndex:(7&n[26])<<1|n[27]>>>7&1,channelConfiguration:n[27]>>>3&15}}}},ftyp:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={majorBrand:yu(n.subarray(0,4)),minorVersion:r.getUint32(4),compatibleBrands:[]},t=8;t<n.byteLength;)i.compatibleBrands.push(yu(n.subarray(t,t+4))),t+=4;return i},dinf:function(n){return{boxes:lt(n)}},dref:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),dataReferences:lt(n.subarray(8))}},hdlr:function(n){for(var i={version:new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0),flags:new Uint8Array(n.subarray(1,4)),handlerType:yu(n.subarray(8,12)),name:""},t=8,t=24;t<n.byteLength;t++){if(0===n[t]){t++;break}i.name+=String.fromCharCode(n[t])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(n){return{byteLength:n.byteLength,nals:function(n){for(var r,u=new DataView(n.buffer,n.byteOffset,n.byteLength),t=[],i=0;i+4<n.length;i+=r)if(r=u.getUint32(i),i+=4,r<=0)t.push("<span style='color:red;'>MALFORMED DATA<\/span>");else switch(31&n[i]){case 1:t.push("slice_layer_without_partitioning_rbsp");break;case 5:t.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:t.push("sei_rbsp");break;case 7:t.push("seq_parameter_set_rbsp");break;case 8:t.push("pic_parameter_set_rbsp");break;case 9:t.push("access_unit_delimiter_rbsp");break;default:t.push("UNKNOWN NAL - "+n[i]&31)}return t}(n)}},mdhd:function(n){var u,r=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),language:""};return 1===i.version?(t+=4,i.creationTime=kt(r.getUint32(t)),t+=8,i.modificationTime=kt(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=8):(i.creationTime=kt(r.getUint32(t)),t+=4,i.modificationTime=kt(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=4),i.duration=r.getUint32(t),t+=4,u=r.getUint16(t),i.language+=String.fromCharCode(96+(u>>10)),i.language+=String.fromCharCode(96+((992&u)>>5)),i.language+=String.fromCharCode(96+(31&u)),i},mdia:function(n){return{boxes:lt(n)}},mfhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sequenceNumber:n[4]<<24|n[5]<<16|n[6]<<8|n[7]}},minf:function(n){return{boxes:lt(n)}},mp4a:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return 28<n.byteLength&&(i.streamDescriptor=lt(n.subarray(28))[0]),i},moof:function(n){return{boxes:lt(n)}},moov:function(n){return{boxes:lt(n)}},mvex:function(n){return{boxes:lt(n)}},mvhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return 1===r.version?(t+=4,r.creationTime=kt(i.getUint32(t)),t+=8,r.modificationTime=kt(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=8):(r.creationTime=kt(i.getUint32(t)),t+=4,r.modificationTime=kt(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=4),r.duration=i.getUint32(t),t+=4,r.rate=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,t+=8,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,t+=24,r.nextTrackId=i.getUint32(t),r},pdin:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(n){for(var i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},t=4;t<n.byteLength;t++)i.samples.push({dependsOn:(48&n[t])>>4,isDependedOn:(12&n[t])>>2,hasRedundancy:3&n[t]});return i},sidx:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},u=i.getUint16(22),t=24;u;t+=12,u--)r.references.push({referenceType:(128&n[t])>>>7,referencedSize:2147483647&i.getUint32(t),subsegmentDuration:i.getUint32(t+4),startsWithSap:!!(128&n[t+8]),sapType:(112&n[t+8])>>>4,sapDeltaTime:268435455&i.getUint32(t+8)});return r},smhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),balance:n[4]+n[5]/256}},stbl:function(n){return{boxes:lt(n)}},stco:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),chunkOffsets:[]},u=i.getUint32(4),t=8;u;t+=4,u--)r.chunkOffsets.push(i.getUint32(t));return r},stsc:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r=i.getUint32(4),u={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleToChunks:[]},t=8;r;t+=12,r--)u.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return u},stsd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleDescriptions:lt(n.subarray(8))}},stsz:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]},t=12;t<n.byteLength;t+=4)r.entries.push(i.getUint32(t));return r},stts:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),timeToSamples:[]},u=i.getUint32(4),t=8;u;t+=8,u--)r.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return r},styp:function(n){return bi.ftyp(n)},tfdt:function(n){var t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),baseMediaDecodeTime:rv(n[4]<<24|n[5]<<16|n[6]<<8|n[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=rv(n[8]<<24|n[9]<<16|n[10]<<8|n[11])),t},tfhd:function(n){var i,r=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:r.getUint32(4)},u=1&t.flags[2],f=2&t.flags[2],e=8&t.flags[2],o=16&t.flags[2],s=32&t.flags[2],h=65536&t.flags[0],c=131072&t.flags[0];return i=8,u&&(i+=4,t.baseDataOffset=r.getUint32(12),i+=4),f&&(t.sampleDescriptionIndex=r.getUint32(i),i+=4),e&&(t.defaultSampleDuration=r.getUint32(i),i+=4),o&&(t.defaultSampleSize=r.getUint32(i),i+=4),s&&(t.defaultSampleFlags=r.getUint32(i)),h&&(t.durationIsEmpty=!0),!u&&c&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return 1===r.version?(t+=4,r.creationTime=kt(i.getUint32(t)),t+=8,r.modificationTime=kt(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=8):(r.creationTime=kt(i.getUint32(t)),t+=4,r.modificationTime=kt(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=4),r.duration=i.getUint32(t),t+=4,t+=8,r.layer=i.getUint16(t),t+=2,r.alternateGroup=i.getUint16(t),t+=2,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,r.width=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.height=i.getUint16(t)+i.getUint16(t+2)/16,r},traf:function(n){return{boxes:lt(n)}},trak:function(n){return{boxes:lt(n)}},trex:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&n[20],sampleIsDependedOn:(192&n[21])>>6,sampleHasRedundancy:(48&n[21])>>4,samplePaddingValue:(14&n[21])>>1,sampleIsDifferenceSample:!!(1&n[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(n){var i,r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},u=new DataView(n.buffer,n.byteOffset,n.byteLength),h=1&r.flags[2],c=4&r.flags[2],e=1&r.flags[1],o=2&r.flags[1],l=4&r.flags[1],s=8&r.flags[1],f=u.getUint32(4),t=8;for(h&&(r.dataOffset=u.getInt32(t),t+=4),c&&f&&(i={flags:rg(n.subarray(t,t+4))},t+=4,e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i),f--);f--;)i={},e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),l&&(i.flags=rg(n.subarray(t,t+4)),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i);return r},"url ":function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4))}},vmhd:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},l={inspect:lt=function(n){for(var o,i,u,f,e,t=0,s=[],h=new ArrayBuffer(n.length),c=new Uint8Array(h),r=0;r<n.length;++r)c[r]=n[r];for(o=new DataView(h);t<n.byteLength;)i=o.getUint32(t),u=yu(n.subarray(t+4,t+8)),f=1<i?t+i:n.byteLength,(e=(bi[u]||function(n){return{data:n}})(n.subarray(t+8,f))).size=i,e.type=u,s.push(e),t=f;return s},textify:ug=function(n,t){var i;return t=t||0,i=new Array(2*t+1).join(" "),n.map(function(n){return i+n.type+"\n"+Object.keys(n).filter(function(n){return"type"!==n&&"boxes"!==n}).map(function(t){var f=i+"  "+t+": ",r=n[t],u;return r instanceof Uint8Array||r instanceof Uint32Array?(u=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(n){return" "+("00"+n.toString(16)).slice(-2)}).join("").match(/.{1,24}/g),u?1===u.length?f+"<"+u.join("").slice(1)+">":f+"<\n"+u.map(function(n){return i+"  "+n}).join("\n")+"\n"+i+"  >":f+"<>"):f+JSON.stringify(r,null,2).split("\n").map(function(n,t){return 0===t?n:i+"  "+n}).join("\n")}).join("\n")+(n.boxes?"\n"+ug(n.boxes,t+1):"")}).join("\n")},parseType:yu,findBox:function ah(n,t){var i,f,e,r,o,u=[];if(!t.length)return null;for(i=0;i<n.byteLength;)f=rv(n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),e=yu(n.subarray(i+4,i+8)),r=1<f?i+f:n.byteLength,e===t[0]&&(1===t.length?u.push(n.subarray(i+8,r)):(o=ah(n.subarray(i+8,r),t.slice(1))).length&&(u=u.concat(o))),i=r;return u},parseTraf:bi.traf,parseTfdt:bi.tfdt,parseHdlr:bi.hdlr,parseTfhd:bi.tfhd,parseTrun:bi.trun,parseSidx:bi.sidx},pu=cg,oe=rft;fg=function(n){return l.findBox(n,["moov","trak"]).reduce(function(n,t){var r,f,i,e,u;return(r=l.findBox(t,["tkhd"])[0])?(f=r[0],e=pu(r[i=0===f?12:20]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),(u=l.findBox(t,["mdia","mdhd"])[0])?(i=0===(f=u[0])?12:20,n[e]=pu(u[i]<<24|u[i+1]<<16|u[i+2]<<8|u[i+3]),n):null):null},{})};eg=function(n,t){var r,u,i;return r=l.findBox(t,["moof","traf"]),u=[].concat.apply([],r.map(function(t){return l.findBox(t,["tfhd"]).map(function(i){var r,u;return r=pu(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),u=n[r]||9e4,(l.findBox(t,["tfdt"]).map(function(n){var i,t;return i=n[0],t=pu(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),1===i&&(t*=Math.pow(2,32),t+=pu(n[8]<<24|n[9]<<16|n[10]<<8|n[11])),t})[0]||1/0)/u})})),i=Math.min.apply(null,u),isFinite(i)?i:0};og=function(n,t){var f,u=l.findBox(t,["moof","traf"]),e=0,o=0,r,i;if(u&&u.length)for(r=l.parseTraf(u[0]),i=0;i<r.boxes.length;i++)"tfhd"===r.boxes[i].type?f=r.boxes[i].trackId:"tfdt"===r.boxes[i].type?e=r.boxes[i].baseMediaDecodeTime:"trun"===r.boxes[i].type&&r.boxes[i].samples.length&&(o=r.boxes[i].samples[0].compositionTimeOffset||0);return(e+o)/(n[f]||9e4)};sg=function(n){var i=l.findBox(n,["moov","trak"]),t=[];return i.forEach(function(n){var i=l.findBox(n,["mdia","hdlr"]),r=l.findBox(n,["tkhd"]);i.forEach(function(n,i){var u,e,o=l.parseType(n.subarray(8,12)),f=r[i];"vide"===o&&(e=0===(u=new DataView(f.buffer,f.byteOffset,f.byteLength)).getUint8(0)?u.getUint32(12):u.getUint32(20),t.push(e))})}),t};hg=function(n){var i=l.findBox(n,["moov","trak"]),t=[];return i.forEach(function(n){var h,c,i={},f=l.findBox(n,["tkhd"])[0],a,o,v,y,r,s,u,e;f&&(c=(h=new DataView(f.buffer,f.byteOffset,f.byteLength)).getUint8(0),i.id=0===c?h.getUint32(12):h.getUint32(20));a=l.findBox(n,["mdia","hdlr"])[0];a&&(o=l.parseType(a.subarray(8,12)),i.type="vide"===o?"video":"soun"===o?"audio":o);v=l.findBox(n,["mdia","minf","stbl","stsd"])[0];v&&(y=v.subarray(8),i.codec=l.parseType(y.subarray(4,8)),s=l.findBox(y,[i.codec])[0],s&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(r=s.subarray(78),"avcC"===l.parseType(r.subarray(4,8))&&11<r.length?(i.codec+=".",i.codec+=oe(r[9]),i.codec+=oe(r[10]),i.codec+=oe(r[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)&&(r=s.subarray(28),"esds"===l.parseType(r.subarray(4,8))&&20<r.length&&0!==r[19]?(i.codec+="."+oe(r[19]),i.codec+="."+oe(r[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2")));u=l.findBox(n,["mdia","mdhd"])[0];u&&f&&(e=0===c?12:20,i.timescale=pu(u[e]<<24|u[1+e]<<16|u[2+e]<<8|u[3+e]));t.push(i)}),t};var ci={findBox:l.findBox,parseType:l.parseType,timescale:fg,startTime:eg,compositionStartTime:og,videoTrackIds:sg,tracks:hg},uft=function(n){for(var t=0,r={payloadType:-1,payloadSize:0},u=0,i=0;t<n.byteLength&&128!==n[t];){for(;255===n[t];)u+=255,t++;for(u+=n[t++];255===n[t];)i+=255,t++;if(i+=n[t++],!r.payload&&4===u){r.payloadType=u;r.payloadSize=i;r.payload=n.subarray(t,t+i);break}t+=i;i=u=0}return r},fft=function(n){return 181!==n.payload[0]?null:49!=(n.payload[1]<<8|n.payload[2])?null:"GA94"!==String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])?null:3!==n.payload[7]?null:n.payload.subarray(8,n.payload.length-1)},eft=function(n,t){var i,e,r,u,f=[];if(!(64&t[0]))return f;for(e=31&t[0],i=0;i<e;i++)u={type:3&t[2+(r=3*i)],pts:n},4&t[2+r]&&(u.ccData=t[3+r]<<8|t[4+r],f.push(u));return f},oft=function(n){for(var r,u,f,e=n.byteLength,i=[],t=1;t<e-2;)0===n[t]&&0===n[t+1]&&3===n[t+2]?(i.push(t+2),t+=2):t++;if(0===i.length)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f},sft=4;cr.prototype.pipe=function(n){return this.on("data",function(t){n.push(t)}),this.on("done",function(t){n.flush(t)}),this.on("partialdone",function(t){n.partialFlush(t)}),this.on("endedtimeline",function(t){n.endTimeline(t)}),this.on("reset",function(t){n.reset(t)}),n};cr.prototype.push=function(n){this.trigger("data",n)};cr.prototype.flush=function(n){this.trigger("done",n)};cr.prototype.partialFlush=function(n){this.trigger("partialdone",n)};cr.prototype.endTimeline=function(n){this.trigger("endedtimeline",n)};cr.prototype.reset=function(n){this.trigger("reset",n)};bs=cr;(dt.prototype=new bs).push=function(n){var t,i,r;if("sei_rbsp"===n.nalUnitType&&(t=uft(n.escapedRBSP)).payloadType===sft&&(i=fft(t)))if(n.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=eft(n.pts,i);this.captionPackets_=this.captionPackets_.concat(r);this.latestDts_!==n.dts&&(this.numSameDts_=0);this.numSameDts_++;this.latestDts_=n.dts}};dt.prototype.flushCCStreams=function(n){this.ccStreams_.forEach(function(t){return"flush"===n?t.flush():t.partialFlush()},this)};dt.prototype.flushStream=function(n){this.captionPackets_.length&&(this.captionPackets_.forEach(function(n,t){n.presortIndex=t}),this.captionPackets_.sort(function(n,t){return n.pts===t.pts?n.presortIndex-t.presortIndex:n.pts-t.pts}),this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this),this.captionPackets_.length=0);this.flushCCStreams(n)};dt.prototype.flush=function(){return this.flushStream("flush")};dt.prototype.partialFlush=function(){return this.flushStream("partialFlush")};dt.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(n){n.reset()})};dt.prototype.dispatchCea608Packet=function(n){this.setsTextOrXDSActive(n)?this.activeCea608Channel_[n.type]=null:this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1);null!==this.activeCea608Channel_[n.type]&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)};dt.prototype.setsChannel1Active=function(n){return 4096==(30720&n.ccData)};dt.prototype.setsChannel2Active=function(n){return 6144==(30720&n.ccData)};dt.prototype.setsTextOrXDSActive=function(n){return 256==(28928&n.ccData)||4138==(30974&n.ccData)||6186==(30974&n.ccData)};var hft={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},cft=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],w=function ah(n,t){ah.prototype.init.call(this);this.field_=n||0;this.dataChannel_=t||0;this.name_="CC"+(1+(this.field_<<1|this.dataChannel_));this.setConstants();this.reset();this.push=function(n){var t,e,r,i,u,f;(t=32639&n.ccData)!==this.lastControlCode_?(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)&&(t===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":t===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),e=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=e,this.startPts_=n.pts):t===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(n.pts)):t===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(n.pts)):t===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(n.pts)):t===this.CARRIAGE_RETURN_?(this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts):t===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):t===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(n.pts),this.displayed_=lr()):t===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=lr():t===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(n.pts),this.displayed_=lr()),this.mode_="paintOn",this.startPts_=n.pts):this.isSpecialCharacter(r,i)?(u=ks((r=(3&r)<<8)|i),this[this.mode_](n.pts,u),this.column_++):this.isExtCharacter(r,i)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),u=ks((r=(3&r)<<8)|i),this[this.mode_](n.pts,u),this.column_++):this.isMidRowCode(r,i)?(this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,14==(14&i)&&this.addFormatting(n.pts,["i"]),1==(1&i)&&this.addFormatting(n.pts,["u"])):this.isOffsetControlCode(r,i)?this.column_+=3&i:this.isPAC(r,i)?(f=cft.indexOf(7968&t),"rollUp"===this.mode_&&(f-this.rollUpRows_+1<0&&(f=this.rollUpRows_-1),this.setRollUp(n.pts,f)),f!==this.row_&&(this.clearFormatting(n.pts),this.row_=f),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(n.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(n.pts,["i"])):this.isNormalChar(r)&&(0===i&&(i=null),u=ks(r),u+=ks(i),this[this.mode_](n.pts,u),this.column_+=u.length)):this.lastControlCode_=null}};w.prototype=new bs;w.prototype.flushDisplayed=function(n){var t=this.displayed_.map(function(n){try{return n.trim()}catch(n){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:t,stream:this.name_})};w.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=lr();this.nonDisplayed_=lr();this.lastControlCode_=null;this.column_=0;this.row_=14;this.rollUpRows_=2;this.formatting_=[]};w.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=32|this.CONTROL_;this.END_OF_CAPTION_=47|this.CONTROL_;this.ROLL_UP_2_ROWS_=37|this.CONTROL_;this.ROLL_UP_3_ROWS_=38|this.CONTROL_;this.ROLL_UP_4_ROWS_=39|this.CONTROL_;this.CARRIAGE_RETURN_=45|this.CONTROL_;this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_;this.BACKSPACE_=33|this.CONTROL_;this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_;this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_};w.prototype.isSpecialCharacter=function(n,t){return n===this.EXT_&&48<=t&&t<=63};w.prototype.isExtCharacter=function(n,t){return(n===this.EXT_+1||n===this.EXT_+2)&&32<=t&&t<=63};w.prototype.isMidRowCode=function(n,t){return n===this.EXT_&&32<=t&&t<=47};w.prototype.isOffsetControlCode=function(n,t){return n===this.OFFSET_&&33<=t&&t<=35};w.prototype.isPAC=function(n,t){return n>=this.BASE_&&n<this.BASE_+8&&64<=t&&t<=127};w.prototype.isColorPAC=function(n){return 64<=n&&n<=79||96<=n&&n<=127};w.prototype.isNormalChar=function(n){return 32<=n&&n<=127};w.prototype.setRollUp=function(n,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=lr(),this.displayed_=lr()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_);this.topRow_=t-this.rollUpRows_+1};w.prototype.addFormatting=function(n,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(n,t){return n+"<"+t+">"},"");this[this.mode_](n,i)};w.prototype.clearFormatting=function(n){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(n,t){return n+"<\/"+t+">"},"");this.formatting_=[];this[this.mode_](n,t)}};w.prototype.popOn=function(n,t){var i=this.nonDisplayed_[this.row_];i+=t;this.nonDisplayed_[this.row_]=i};w.prototype.rollUp=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};w.prototype.shiftRowsUp_=function(){for(var n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<15;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""};w.prototype.paintOn=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};var yft=oft,pft=dt,wft=function(){var r,u,n,t,i,f,e=!1;this.isInitialized=function(){return e};this.init=function(n){r=new pft;e=!0;f=!!n&&n.isPartial;r.on("data",function(n){n.startTime=n.startPts/t;n.endTime=n.endPts/t;i.captions.push(n);i.captionStreams[n.stream]=!0})};this.isNewInit=function(i,r){return!(i&&0===i.length||r&&"object"==typeof r&&0===Object.keys(r).length)&&(n!==i[0]||t!==r[n])};this.parse=function(r,f,e){var o,s;if(!this.isInitialized()||!f||!e)return null;if(this.isNewInit(f,e))n=f[0],t=e[n];else if(null===n||!t)return u.push(r),null;for(;0<u.length;)s=u.shift(),this.parse(s,f,e);return null!==(o=function(n,t,i){return null===t?null:{seiNals:aft(n,t)[t],timescale:i}}(r,n,t))&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),i):null};this.pushNals=function(n){if(!this.isInitialized()||!n||0===n.length)return null;n.forEach(function(n){r.push(n)})};this.flushStream=function(){if(!this.isInitialized())return null;f?r.partialFlush():r.flush()};this.clearParsedCaptions=function(){i.captions=[];i.captionStreams={}};this.resetCaptionStream=function(){if(!this.isInitialized())return null;r.reset()};this.clearAllCaptions=function(){this.clearParsedCaptions();this.resetCaptionStream()};this.reset=function(){u=[];t=n=null;i?this.clearParsedCaptions():i={captions:[],captionStreams:{}};this.resetCaptionStream()};this.reset()},lg=27,ag=15,bft=21;new bs;var kft,dft,gft,net,tet={parseType:function(n,t){var i=vg(n);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(n){var i=ds(n),t=4+gs(n);return i&&(t+=n[t]+1),(31&n[t+10])<<8|n[t+11]},parsePmt:function(n){var u={},e=ds(n),t=4+gs(n),f,r,i;if(e&&(t+=n[t]+1),1&n[t+5]){for(f=3+((15&n[t+1])<<8|n[t+2])-4,r=12+((15&n[t+10])<<8|n[t+11]);r<f;)i=t+r,u[(31&n[i+1])<<8|n[i+2]]=n[i],r+=5+((15&n[i+3])<<8|n[i+4]);return u}},parsePayloadUnitStartIndicator:ds,parsePesType:function(n,t){switch(t[vg(n)]){case lg:return"video";case ag:return"audio";case bft:return"timed-metadata";default:return null}},parsePesTime:function(n){var t,r,i;return ds(n)?(t=4+gs(n),t>=n.byteLength)?null:(i=null,192&(r=n[t+7])&&((i={}).pts=(14&n[t+9])<<27|(255&n[t+10])<<20|(254&n[t+11])<<12|(255&n[t+12])<<5|(254&n[t+13])>>>3,i.pts*=4,i.pts+=(6&n[t+13])>>>1,i.dts=i.pts,64&r&&(i.dts=(14&n[t+14])<<27|(255&n[t+15])<<20|(254&n[t+16])<<12|(255&n[t+17])<<5|(254&n[t+18])>>>3,i.dts*=4,i.dts+=(6&n[t+18])>>>1)),i):null},videoPacketContainsKeyFrame:function(n){for(var f=4+gs(n),i=n.subarray(f),t=0,r=0,u=!1;r<i.byteLength-3;r++)if(1===i[r+2]){t=r+5;break}for(;t<i.byteLength;)switch(i[t]){case 0:if(0!==i[t-1]){t+=2;break}if(0!==i[t-2]){t++;break}for(r+3!==t-2&&"slice_layer_without_partitioning_rbsp_idr"===uv(31&i[r+3])&&(u=!0);1!==i[++t]&&t<i.length;);r=t-2;t+=3;break;case 1:if(0!==i[t-1]||0!==i[t-2]){t+=3;break}"slice_layer_without_partitioning_rbsp_idr"===uv(31&i[r+3])&&(u=!0);r=t-2;t+=3;break;default:t+=3}return i=i.subarray(r),t-=r,r=0,i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===uv(31&i[r+3])&&(u=!0),u}},iet=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ret={isLikelyAacData:function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)},parseId3TagSize:function(n,t){var i=n[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9];return(16&n[t+5])>>4?20+i:10+i},parseAdtsSize:function(n,t){var i=(224&n[t+5])>>5,r=n[t+4]<<3;return 6144&n[t+3]|r|i},parseType:function(n,t){return n[t]==="I".charCodeAt(0)&&n[t+1]==="D".charCodeAt(0)&&n[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&n[t]&&240==(240&n[t+1])?"audio":null},parseSampleRate:function(n){for(var t=0;t+5<n.length;){if(255===n[t]&&240==(246&n[t+1]))return iet[(60&n[t+2])>>>2];t++}return null},parseAacTimestamp:function(n){var t,f,u,r,i,e;t=10;64&n[5]&&(t+=4,t+=yg(n.subarray(10,14)));do{if((f=yg(n.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(n[t],n[t+1],n[t+2],n[t+3]))for(u=n.subarray(t+10,t+f+10),r=0;r<u.byteLength;r++)if(0===u[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u}(u,0,r)))break;return i=u.subarray(r+1),e=(1&i[3])<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2,e*=4,e+(3&i[7])}t+=10;t+=f}while(t<n.byteLength);return null}},wu=(kft=function(n){return 9e4*n},dft=function(n,t){return n*t},gft=function(n){return n/9e4},net=function(n,t){return n/t},vft),c={};c.ts=tet;c.aac=ret;var ar=9e4,ot=188,oet=function(n,t){var i;return(i=c.aac.isLikelyAacData(n)?function(n){for(var s,f,u=!1,o=0,e=null,i=null,r=0,t=0;3<=n.length-t;){switch(c.aac.parseType(n,t)){case"timed-metadata":if(n.length-t<10){u=!0;break}if((r=c.aac.parseId3TagSize(n,t))>n.length){u=!0;break}null===i&&(f=n.subarray(t,t+r),i=c.aac.parseAacTimestamp(f));t+=r;break;case"audio":if(n.length-t<7){u=!0;break}if((r=c.aac.parseAdtsSize(n,t))>n.length){u=!0;break}null===e&&(f=n.subarray(t,t+r),e=c.aac.parseSampleRate(f));o++;t+=r;break;default:t++}if(u)return null}return null===e||null===i?null:(s=ar/e,{audio:[{type:"audio",dts:i,pts:i},{type:"audio",dts:i+1024*o*s,pts:i+1024*o*s}]})}(n):eet(n))&&(i.audio||i.video)?(function(n,t){var u,r,i;n.audio&&n.audio.length&&(u=t,"undefined"==typeof u&&(u=n.audio[0].dts),n.audio.forEach(function(n){n.dts=wu(n.dts,u);n.pts=wu(n.pts,u);n.dtsTime=n.dts/ar;n.ptsTime=n.pts/ar}));n.video&&n.video.length&&(r=t,("undefined"==typeof r&&(r=n.video[0].dts),n.video.forEach(function(n){n.dts=wu(n.dts,r);n.pts=wu(n.pts,r);n.dtsTime=n.dts/ar;n.ptsTime=n.pts/ar}),n.firstKeyFrame)&&(i=n.firstKeyFrame,i.dts=wu(i.dts,r),i.pts=wu(i.pts,r),i.dtsTime=i.dts/ar,i.ptsTime=i.dts/ar))}(i,t),i):null};pg=function(n,t,i){return t&&wg(n.prototype,t),i&&wg(n,i),n};pt=null;bg=(fv.prototype.decrypt=function(n,t,i,r,u,f){for(var e=this._key[1],o=n^e[0],s=r^e[1],h=i^e[2],c=t^e[3],y=void 0,g=void 0,nt=void 0,tt=e.length/4-2,l=void 0,a=4,v=this._tables[1],p=v[0],w=v[1],b=v[2],k=v[3],d=v[4],l=0;l<tt;l++)y=p[o>>>24]^w[s>>16&255]^b[h>>8&255]^k[255&c]^e[a],g=p[s>>>24]^w[h>>16&255]^b[c>>8&255]^k[255&o]^e[a+1],nt=p[h>>>24]^w[c>>16&255]^b[o>>8&255]^k[255&s]^e[a+2],c=p[c>>>24]^w[o>>16&255]^b[s>>8&255]^k[255&h]^e[a+3],a+=4,o=y,s=g,h=nt;for(l=0;l<4;l++)u[(3&-l)+f]=d[o>>>24]<<24^d[s>>16&255]<<16^d[h>>8&255]<<8^d[255&c]^e[a++],y=o,o=s,s=h,h=c,c=y},fv);ev=(vr.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},vr.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),-1<i},vr.prototype.trigger=function(n,t){var i=this.listeners[n],f,r;if(i)if(2===arguments.length)for(f=i.length,r=0;r<f;++r)i[r].call(this,t);else for(var e=Array.prototype.slice.call(arguments,1),o=i.length,u=0;u<o;++u)i[u].apply(this,e)},vr.prototype.dispose=function(){this.listeners={}},vr.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},vr);ov=(function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(se,kg=ev),se.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},se.prototype.push=function(n){this.jobs.push(n);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},se);gg=(he.prototype.decryptChunk_=function(n,t,i,r){return function(){var u=dg(n,t,i);r.set(u,n.byteOffset)}},pg(he,null,[{key:"STEP",get:function(){return 32e3}}]),he);
/**
   * @videojs/http-streaming
   * @version 1.11.2
   * @copyright 2019 Brightcove, Inc
   * @license Apache-2.0
   */
ti=function(n,t,i){return t&&nn(n.prototype,t),i&&nn(n,i),n};var set=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var r=[],u=!0,f=!1,e=void 0,o,i;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);u=!0);}catch(n){f=!0;e=n}finally{try{!u&&i.return&&i.return()}finally{if(f)throw e;}}return r}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance");},hv=i.mergeOptions,het=i.log,rh=(li(bu,i.EventTarget),ti(bu,[{key:"playlistRequestError",value:function(n,t,i){this.request=null;i&&(this.state=i);this.error={playlist:this.master.playlists[t],status:n.status,message:"HLS playlist request error at URL: "+t+".",responseText:n.responseText,code:500<=n.status?4:2};this.trigger("error")}},{key:"haveMetadata",value:function(t,i){var f=this,r,u;this.request=null;this.state="HAVE_METADATA";r=new yd;this.customTagParsers.forEach(function(n){return r.addParser(n)});this.customTagMappers.forEach(function(n){return r.addTagMapper(n)});r.push(t.responseText);r.end();r.manifest.uri=i;r.manifest.attributes=r.manifest.attributes||{};u=sv(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration;u?(this.master=u,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged");this.media().endList||(n.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=n.setTimeout(function(){f.trigger("mediaupdatetimeout")},un(this.media(),!!u)));this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest();n.clearTimeout(this.mediaUpdateTimeout);n.clearTimeout(this.finalRenditionTimeout)}},{key:"stopRequest",value:function(){if(this.request){var n=this.request;this.request=null;n.onreadystatechange=null;n.abort()}}},{key:"media",value:function(t,i){var r=this,e,u,f;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(n.clearTimeout(this.finalRenditionTimeout),i)e=t.targetDuration*500||5e3,this.finalRenditionTimeout=n.setTimeout(this.media.bind(this,t,!1),e);else{if(u=this.state,f=!this.media_||t.uri!==this.media_.uri,this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(f&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(f){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null;this.request.abort();this.request=null}this.media_&&this.trigger("mediachanging");this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(n,i){if(r.request){if(t.resolvedUri=th(r.handleManifestRedirects,t.resolvedUri,i),n)return r.playlistRequestError(r.request,t.uri,u);r.haveMetadata(i,t.uri);"HAVE_MASTER"===u?r.trigger("loadedmetadata"):r.trigger("mediachange")}})}}}},{key:"pause",value:function(){this.stopRequest();n.clearTimeout(this.mediaUpdateTimeout);"HAVE_NOTHING"===this.state&&(this.started=!1);"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var u=this,i,r;n.clearTimeout(this.mediaUpdateTimeout);i=this.media();t?(r=i?i.targetDuration*500:5e3,this.mediaUpdateTimeout=n.setTimeout(function(){return u.load()},r)):this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,r){if(t.request){if(t.request=null,i)return t.error={status:r.status,message:"HLS playlist request error at URL: "+t.srcUrl+".",responseText:r.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var u=new yd;return t.customTagParsers.forEach(function(n){return u.addParser(n)}),t.customTagMappers.forEach(function(n){return u.addTagMapper(n)}),u.push(r.responseText),u.end(),t.state="HAVE_MASTER",t.srcUrl=th(t.handleManifestRedirects,t.srcUrl,r),u.manifest.uri=t.srcUrl,u.manifest.playlists?(t.master=u.manifest,tn(t.master),rn(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(u.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:n.location.href,playlists:[{uri:t.srcUrl,id:0,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(r,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),bu);var itt=i.createTimeRange,pet=cn.bind(null,1),wet=cn.bind(null,-1),at={duration:en,seekable:function(n,t){var r=t||0,i=sn(n,t,!0);return null===i?itt():itt(r,i)},safeLiveIndex:on,getMediaInfoForTime:function(n,t,i,r){var u=void 0,f=void 0,o=n.segments.length,e=t-r;if(e<0){if(0<i)for(u=i-1;0<=u;u--)if(f=n.segments[u],0<(e+=wet(f.duration)))return{mediaIndex:u,startTime:r-ce(n,i,u)};return{mediaIndex:0,startTime:t}}if(i<0){for(u=i;u<0;u++)if((e-=n.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(u=i;u<o;u++)if(f=n.segments[u],(e-=pet(f.duration))<0)return{mediaIndex:u,startTime:r+ce(n,i,u)};return{mediaIndex:o-1,startTime:t}},isEnabled:uh,isDisabled:function(n){return n.disabled},isBlacklisted:ln,isIncompatible:cv,playlistEnd:sn,isAes:function(n){for(var t=0;t<n.segments.length;t++)if(n.segments[t].key)return!0;return!1},isFmp4:function(n){for(var t=0;t<n.segments.length;t++)if(n.segments[t].map)return!0;return!1},hasAttribute:an,estimateSegmentRequestTime:function(n,t,i,r){var u=3<arguments.length&&void 0!==r?r:0;return an("BANDWIDTH",i)?(n*i.attributes.BANDWIDTH-8*u)/t:NaN},isLowestEnabledRendition:lv},bet=i.xhr,ket=i.mergeOptions,det=Object.freeze({createTransferableMessage:yn,initSegmentId:fh,segmentKeyId:pn,hexDump:wn,tagDump:function(n){var t=n.bytes;return wn(t)},textRanges:function(n){for(var r,i,u="",t=void 0,t=0;t<n.length;t++)u+=(i=t,(r=n).start(i)+"-"+r.end(i)+" ");return u}}),pr="undefined"!=typeof window?window:{},yv="undefined"==typeof Symbol?"__target":Symbol(),get="application/javascript",not=pr.BlobBuilder||pr.WebKitBlobBuilder||pr.MozBlobBuilder||pr.MSBlobBuilder,du=pr.URL||pr.webkitURL||du&&du.msURL,gu=pr.Worker;if(gu){wv=utt("self.onmessage = function () {}");bv=new Uint8Array(1);try{(pv=new gu(wv)).postMessage(bv,[bv.buffer])}catch(ah){gu=null}finally{du.revokeObjectURL(wv);pv&&pv.terminate()}}var iot=new rtt("./transmuxer-worker.worker.js",function(){var n=this;!function(){function h(){this.init=function(){var n={};this.on=function(t,i){n[t]||(n[t]=[]);n[t]=n[t].concat(i)};this.off=function(t,i){var r;return!!n[t]&&(r=n[t].indexOf(i),n[t]=n[t].slice(),n[t].splice(r,1),-1<r)};this.trigger=function(t){var r,i,u,f;if(r=n[t])if(2===arguments.length)for(u=r.length,i=0;i<u;++i)r[i].call(this,arguments[1]);else{for(f=[],i=arguments.length,i=1;i<arguments.length;++i)f.push(arguments[i]);for(u=r.length,i=0;i<u;++i)r[i].apply(this,f)}};this.dispose=function(){n={}}}}function bu(n,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=n.pts-n.dts,i.duration=n.duration,i.size=4*n.length,i.size+=n.byteLength,n.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i}function r(n){for(var t=[];n--;)t.push(0);return t}function o(){o.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)];this.reset();this.ccStreams_.forEach(function(n){n.on("data",this.trigger.bind(this,"data"));n.on("partialdone",this.trigger.bind(this,"partialdone"));n.on("done",this.trigger.bind(this,"done"))},this)}function b(n){return null===n?"":(n=bf[n]||n,String.fromCharCode(n))}function l(){for(var n=[],t=15;t--;)n.push("");return n}function fu(n,t){var i=1;for(t<n&&(i=-1);4294967296<Math.abs(t-n);)n+=8589934592*i;return n}function at(n){var i,t;at.prototype.init.call(this);this.type_=n||"shared";this.push=function(n){"shared"!==this.type_&&n.type!==this.type_||(void 0===t&&(t=n.dts),n.dts=fu(n.dts,t),n.pts=fu(n.pts,t),i=n.dts,this.trigger("data",n))};this.flush=function(){t=i;this.trigger("done")};this.endTimeline=function(){this.flush();this.trigger("endedtimeline")};this.discontinuity=function(){i=t=void 0};this.reset=function(){this.discontinuity();this.trigger("reset")}}function eu(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u}function k(n,t,i){return decodeURIComponent(eu(n,t,i))}function d(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]}function vu(n,t){var i;if(n.length!==t.length)return!1;for(i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function yu(n,t,i,r,u,f){return{start:{dts:n,pts:n+(i-t)},end:{dts:n+(r-t),pts:n+(u-i)},prependedContentDuration:f,baseMediaDecodeTime:n}}function wu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function ei(n,t){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,ei);this.options=t||{};this.self=n;this.init()}var i,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,rt,t,ut,fr,er,or,sr,hr,cr,lr,ar,w,vr,yr,pr,wr,br,kr,dr,ft,f,et,vt,e,yt,ou,pt,wt,g,bt,su,hu,kt,nt,gt,tt,lu,ni,au,pu,fi;h.prototype.pipe=function(n){return this.on("data",function(t){n.push(t)}),this.on("done",function(t){n.flush(t)}),this.on("partialdone",function(t){n.partialFlush(t)}),this.on("endedtimeline",function(t){n.endTimeline(t)}),this.on("reset",function(t){n.reset(t)}),n};h.prototype.push=function(n){this.trigger("data",n)};h.prototype.flush=function(n){this.trigger("done",n)};h.prototype.partialFlush=function(n){this.trigger("partialdone",n)};h.prototype.endTimeline=function(n){this.trigger("endedtimeline",n)};h.prototype.reset=function(n){this.trigger("reset",n)};f=h;et=Math.pow(2,32)-1;!function(){var n;if(t={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(n in t)t.hasOwnProperty(n)&&(t[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);ut=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);er=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);fr=new Uint8Array([0,0,0,1]);or=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);sr=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);hr={video:or,audio:sr};ar=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);lr=new Uint8Array([0,0,0,0,0,0,0,0]);w=new Uint8Array([0,0,0,0,0,0,0,0]);vr=w;yr=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);pr=w;cr=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}();i=function(n){for(var i,r=[],u=0,t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)u+=r[t].byteLength;for(i=new Uint8Array(u+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(n,4),t=0,u=8;t<r.length;t++)i.set(r[t],u),u+=r[t].byteLength;return i};oi=function(){return i(t.dinf,i(t.dref,ar))};si=function(n){return i(t.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,n.audioobjecttype<<3|n.samplingfrequencyindex>>>1,n.samplingfrequencyindex<<7|n.channelcount<<3,6,1,2]))};gi=function(n){return i(t.hdlr,hr[n])};di=function(n){var r=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,n.duration>>>24&255,n.duration>>>16&255,n.duration>>>8&255,255&n.duration,85,196,0,0]);return n.samplerate&&(r[12]=n.samplerate>>>24&255,r[13]=n.samplerate>>>16&255,r[14]=n.samplerate>>>8&255,r[15]=255&n.samplerate),i(t.mdhd,r)};ki=function(n){return i(t.mdia,di(n),gi(n.type),li(n))};ci=function(n){return i(t.mfhd,new Uint8Array([0,0,0,0,(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n]))};li=function(n){return i(t.minf,"video"===n.type?i(t.vmhd,cr):i(t.smhd,lr),oi(),tr(n))};ai=function(n,r){for(var f=[],u=r.length;u--;)f[u]=rr(r[u]);return i.apply(null,[t.moof,ci(n)].concat(f))};vi=function(n){for(var r=n.length,u=[];r--;)u[r]=wi(n[r]);return i.apply(null,[t.moov,pi(4294967295)].concat(u).concat(yi(n)))};yi=function(n){for(var r=n.length,u=[];r--;)u[r]=ur(n[r]);return i.apply(null,[t.mvex].concat(u))};pi=function(n){var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(t.mvhd,r)};nr=function(n){for(var u,f=n.samples||[],e=new Uint8Array(4+f.length),r=0;r<f.length;r++)u=f[r].flags,e[r+4]=u.dependsOn<<4|u.isDependedOn<<2|u.hasRedundancy;return i(t.sdtp,e)};tr=function(n){return i(t.stbl,ir(n),i(t.stts,pr),i(t.stsc,vr),i(t.stsz,yr),i(t.stco,w))};ir=function(n){return i(t.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?wr(n):br(n))};wr=function(n){for(var c,u=n.sps||[],f=n.pps||[],e=[],o=[],s,h,r=0;r<u.length;r++)e.push((65280&u[r].byteLength)>>>8),e.push(255&u[r].byteLength),e=e.concat(Array.prototype.slice.call(u[r]));for(r=0;r<f.length;r++)o.push((65280&f[r].byteLength)>>>8),o.push(255&f[r].byteLength),o=o.concat(Array.prototype.slice.call(f[r]));return(c=[t.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&n.width)>>8,255&n.width,(65280&n.height)>>8,255&n.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(t.avcC,new Uint8Array([1,n.profileIdc,n.profileCompatibility,n.levelIdc,255].concat([u.length],e,[f.length],o))),i(t.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],n.sarRatio)&&(s=n.sarRatio[0],h=n.sarRatio[1],c.push(i(t.pasp,new Uint8Array([(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s,(4278190080&h)>>24,(16711680&h)>>16,(65280&h)>>8,255&h])))),i.apply(null,c)};br=function(n){return i(t.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&n.channelcount)>>8,255&n.channelcount,(65280&n.samplesize)>>8,255&n.samplesize,0,0,0,0,(65280&n.samplerate)>>8,255&n.samplerate,0,0]),si(n))};bi=function(n){var r=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,0,(4278190080&n.duration)>>24,(16711680&n.duration)>>16,(65280&n.duration)>>8,255&n.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&n.width)>>8,255&n.width,0,0,(65280&n.height)>>8,255&n.height,0,0]);return i(t.tkhd,r)};rr=function(n){var e,o,f,s,r,u;return e=i(t.tfhd,new Uint8Array([0,0,0,58,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),r=Math.floor(n.baseMediaDecodeTime/(1+et)),u=Math.floor(n.baseMediaDecodeTime%(1+et)),o=i(t.tfdt,new Uint8Array([1,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),"audio"===n.type?(f=rt(n,92),i(t.traf,e,o,f)):(s=nr(n),f=rt(n,s.length+92),i(t.traf,e,o,f,s))};wi=function(n){return n.duration=n.duration||4294967295,i(t.trak,bi(n),ki(n))};ur=function(n){var r=new Uint8Array([0,0,0,0,(4278190080&n.id)>>24,(16711680&n.id)>>16,(65280&n.id)>>8,255&n.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==n.type&&(r[r.length-1]=0),i(t.trex,r)};ft=function(n,t){var i=0,r=0,u=0,f=0;return n.length&&(void 0!==n[0].duration&&(i=1),void 0!==n[0].size&&(r=2),void 0!==n[0].flags&&(u=4),void 0!==n[0].compositionTimeOffset&&(f=8)),[0,0,i|r|u|f,1,(4278190080&n.length)>>>24,(16711680&n.length)>>>16,(65280&n.length)>>>8,255&n.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]};dr=function(n,r){var f,e,u,o;for(r+=20+16*(e=n.samples||[]).length,f=ft(e,r),o=0;o<e.length;o++)u=e[o],f=f.concat([(4278190080&u.duration)>>>24,(16711680&u.duration)>>>16,(65280&u.duration)>>>8,255&u.duration,(4278190080&u.size)>>>24,(16711680&u.size)>>>16,(65280&u.size)>>>8,255&u.size,u.flags.isLeading<<2|u.flags.dependsOn,u.flags.isDependedOn<<6|u.flags.hasRedundancy<<4|u.flags.paddingValue<<1|u.flags.isNonSyncSample,61440&u.flags.degradationPriority,15&u.flags.degradationPriority,(4278190080&u.compositionTimeOffset)>>>24,(16711680&u.compositionTimeOffset)>>>16,(65280&u.compositionTimeOffset)>>>8,255&u.compositionTimeOffset]);return i(t.trun,new Uint8Array(f))};kr=function(n,r){var f,e,u,o;for(r+=20+8*(e=n.samples||[]).length,f=ft(e,r),o=0;o<e.length;o++)u=e[o],f=f.concat([(4278190080&u.duration)>>>24,(16711680&u.duration)>>>16,(65280&u.duration)>>>8,255&u.duration,(4278190080&u.size)>>>24,(16711680&u.size)>>>16,(65280&u.size)>>>8,255&u.size]);return i(t.trun,new Uint8Array(f))};rt=function(n,t){return"audio"===n.type?kr(n,t):dr(n,t)};hi=function(){return i(t.ftyp,ut,fr,ut,er)};var ot,gr,nu,st,tu,iu=function(n){return i(t.mdat,n)},ru=ai,ku=function(n){var t,i=hi(),r=vi(n);return(t=new Uint8Array(i.byteLength+r.byteLength)).set(i),t.set(r,i.byteLength),t},du=function(n){var u,r,t=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,u=t.byteLength=0;u<n.length;u++)"access_unit_delimiter_rbsp"===(r=n[u]).nalUnitType?(t.length&&(t.duration=r.dts-t.dts,i.byteLength+=t.byteLength,i.nalCount+=t.length,i.duration+=t.duration,i.push(t)),(t=[r]).byteLength=r.data.byteLength,t.pts=r.pts,t.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(t.keyFrame=!0),t.duration=r.dts-t.dts,t.byteLength+=r.data.byteLength,t.push(r));return i.length&&(!t.duration||t.duration<=0)&&(t.duration=i[i.length-1].duration),i.byteLength+=t.byteLength,i.nalCount+=t.length,i.duration+=t.duration,i.push(t),i},gu=function(n){var u,r,t=[],i=[];for(t.byteLength=0,t.nalCount=0,t.duration=0,t.pts=n[0].pts,t.dts=n[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=n[0].pts,i.dts=n[0].dts,u=0;u<n.length;u++)(r=n[u]).keyFrame?(t.length&&(i.push(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration),(t=[r]).nalCount=r.length,t.byteLength=r.byteLength,t.pts=r.pts,t.dts=r.dts,t.duration=r.duration):(t.duration+=r.duration,t.nalCount+=r.length,t.byteLength+=r.byteLength,t.push(r));return i.length&&t.duration<=0&&(t.duration=i[i.length-1].duration),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration,i.push(t),i},nf=function(n){var t;return!n[0][0].keyFrame&&1<n.length&&(t=n.shift(),n.byteLength-=t.byteLength,n.nalCount-=t.nalCount,n[0][0].dts=t.dts,n[0][0].pts=t.pts,n[0][0].duration+=t.duration),n},tf=function(n,t){for(var r,f,u,e,o=t||0,s=[],i=0;i<n.length;i++)for(u=n[i],r=0;r<u.length;r++)e=u[r],o+=(f=bu(e,o)).size,s.push(f);return s},rf=function(n){for(var i,r,e,o,u,f=0,h=n.byteLength,c=n.nalCount,s=new Uint8Array(h+4*c),l=new DataView(s.buffer),t=0;t<n.length;t++)for(e=n[t],i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)u=o[r],l.setUint32(f,u.data.byteLength),f+=4,s.set(u.data,f),f+=u.data.byteLength;return s},c=[33,16,5,32,164,27],ht=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],uf={96e3:[c,[227,64],r(154),[56]],88200:[c,[231],r(170),[56]],64e3:[c,[248,192],r(240),[56]],48e3:[c,[255,192],r(268),[55,148,128],r(54),[112]],44100:[c,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[c,[255,192],r(268),[55,234],r(226),[112]],24e3:[c,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[c,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[ht,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[ht,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[ht,r(268),[3,121,16],r(47),[7]]},ff=(ot=uf,Object.keys(ot).reduce(function(n,t){return n[t]=new Uint8Array(ot[t].reduce(function(n,t){return n.concat(t)},[])),n},{})),y=9e4,ef=(gr=function(n){return 9e4*n},nu=function(n,t){return n*t},st=function(n){return n/9e4},tu=function(n,t){return n/t},function(n,t){return gr(tu(n,t))}),of=function(n,t){return nu(st(n),t)},ct=function(n,t,i){return st(i?n:n-t)},sf=function(n,t,i,r){var c,u,f,e,o,l=0,s=0,h=0;if(t.length&&(c=ef(n.baseMediaDecodeTime,n.samplerate),u=Math.ceil(y/(n.samplerate/1024)),i&&r&&(l=c-Math.max(i,r),h=(s=Math.floor(l/u))*u),!(s<1||y/2<h))){for(f=(f=ff[n.samplerate])||t[0].data,e=0;e<s;e++)o=t[0],t.splice(0,0,{data:f,dts:o.dts-u,pts:o.pts-u});n.baseMediaDecodeTime-=Math.floor(of(h,n.samplerate))}},hf=function(n,t,i){return t.minSegmentDts>=i?n:(t.minSegmentDts=1/0,n.filter(function(n){return n.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,n.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},cf=function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r.push({size:i.data.byteLength,duration:1024});return r},lf=function(n){for(var i,r=0,u=new Uint8Array(function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t].data.byteLength;return i}(n)),t=0;t<n.length;t++)i=n[t],u.set(i.data,r),r+=i.data.byteLength;return u},af=y,a=function(n){delete n.minSegmentDts;delete n.maxSegmentDts;delete n.minSegmentPts;delete n.maxSegmentPts},uu=function(n,t){var i,r=n.minSegmentDts;return t||(r-=n.timelineStartInfo.dts),i=n.timelineStartInfo.baseMediaDecodeTime,i+=r,i=Math.max(0,i),"audio"===n.type&&(i*=n.samplerate/af,i=Math.floor(i)),i},lt=function(n,t){"number"==typeof t.pts&&(void 0===n.timelineStartInfo.pts&&(n.timelineStartInfo.pts=t.pts),n.minSegmentPts=void 0===n.minSegmentPts?t.pts:Math.min(n.minSegmentPts,t.pts),n.maxSegmentPts=void 0===n.maxSegmentPts?t.pts:Math.max(n.maxSegmentPts,t.pts));"number"==typeof t.dts&&(void 0===n.timelineStartInfo.dts&&(n.timelineStartInfo.dts=t.dts),n.minSegmentDts=void 0===n.minSegmentDts?t.dts:Math.min(n.minSegmentDts,t.dts),n.maxSegmentDts=void 0===n.maxSegmentDts?t.dts:Math.max(n.maxSegmentDts,t.dts))},vf=function(n){for(var t=0,r={payloadType:-1,payloadSize:0},u=0,i=0;t<n.byteLength&&128!==n[t];){for(;255===n[t];)u+=255,t++;for(u+=n[t++];255===n[t];)i+=255,t++;if(i+=n[t++],!r.payload&&4===u){r.payloadType=u;r.payloadSize=i;r.payload=n.subarray(t,t+i);break}t+=i;i=u=0}return r},yf=function(n){return 181!==n.payload[0]?null:49!=(n.payload[1]<<8|n.payload[2])?null:"GA94"!==String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])?null:3!==n.payload[7]?null:n.payload.subarray(8,n.payload.length-1)},pf=function(n,t){var i,e,r,u,f=[];if(!(64&t[0]))return f;for(e=31&t[0],i=0;i<e;i++)u={type:3&t[2+(r=3*i)],pts:n},4&t[2+r]&&(u.ccData=t[3+r]<<8|t[4+r],f.push(u));return f},wf=4;(o.prototype=new f).push=function(n){var t,i,r;if("sei_rbsp"===n.nalUnitType&&(t=vf(n.escapedRBSP)).payloadType===wf&&(i=yf(t)))if(n.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=pf(n.pts,i);this.captionPackets_=this.captionPackets_.concat(r);this.latestDts_!==n.dts&&(this.numSameDts_=0);this.numSameDts_++;this.latestDts_=n.dts}};o.prototype.flushCCStreams=function(n){this.ccStreams_.forEach(function(t){return"flush"===n?t.flush():t.partialFlush()},this)};o.prototype.flushStream=function(n){this.captionPackets_.length&&(this.captionPackets_.forEach(function(n,t){n.presortIndex=t}),this.captionPackets_.sort(function(n,t){return n.pts===t.pts?n.presortIndex-t.presortIndex:n.pts-t.pts}),this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this),this.captionPackets_.length=0);this.flushCCStreams(n)};o.prototype.flush=function(){return this.flushStream("flush")};o.prototype.partialFlush=function(){return this.flushStream("partialFlush")};o.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(n){n.reset()})};o.prototype.dispatchCea608Packet=function(n){this.setsTextOrXDSActive(n)?this.activeCea608Channel_[n.type]=null:this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1);null!==this.activeCea608Channel_[n.type]&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)};o.prototype.setsChannel1Active=function(n){return 4096==(30720&n.ccData)};o.prototype.setsChannel2Active=function(n){return 6144==(30720&n.ccData)};o.prototype.setsTextOrXDSActive=function(n){return 256==(28928&n.ccData)||4138==(30974&n.ccData)||6186==(30974&n.ccData)};var bf={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},kf=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function h(n,t){h.prototype.init.call(this);this.field_=n||0;this.dataChannel_=t||0;this.name_="CC"+(1+(this.field_<<1|this.dataChannel_));this.setConstants();this.reset();this.push=function(n){var t,e,r,i,u,f;(t=32639&n.ccData)!==this.lastControlCode_?(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)&&(t===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":t===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),e=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=e,this.startPts_=n.pts):t===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(n.pts)):t===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(n.pts)):t===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(n.pts)):t===this.CARRIAGE_RETURN_?(this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts):t===this.BACKSPACE_?"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):t===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(n.pts),this.displayed_=l()):t===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=l():t===this.RESUME_DIRECT_CAPTIONING_?("paintOn"!==this.mode_&&(this.flushDisplayed(n.pts),this.displayed_=l()),this.mode_="paintOn",this.startPts_=n.pts):this.isSpecialCharacter(r,i)?(u=b((r=(3&r)<<8)|i),this[this.mode_](n.pts,u),this.column_++):this.isExtCharacter(r,i)?("popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),u=b((r=(3&r)<<8)|i),this[this.mode_](n.pts,u),this.column_++):this.isMidRowCode(r,i)?(this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,14==(14&i)&&this.addFormatting(n.pts,["i"]),1==(1&i)&&this.addFormatting(n.pts,["u"])):this.isOffsetControlCode(r,i)?this.column_+=3&i:this.isPAC(r,i)?(f=kf.indexOf(7968&t),"rollUp"===this.mode_&&(f-this.rollUpRows_+1<0&&(f=this.rollUpRows_-1),this.setRollUp(n.pts,f)),f!==this.row_&&(this.clearFormatting(n.pts),this.row_=f),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(n.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(n.pts,["i"])):this.isNormalChar(r)&&(0===i&&(i=null),u=b(r),u+=b(i),this[this.mode_](n.pts,u),this.column_+=u.length)):this.lastControlCode_=null}};u.prototype=new f;u.prototype.flushDisplayed=function(n){var t=this.displayed_.map(function(n){try{return n.trim()}catch(n){return""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:t,stream:this.name_})};u.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=l();this.nonDisplayed_=l();this.lastControlCode_=null;this.column_=0;this.row_=14;this.rollUpRows_=2;this.formatting_=[]};u.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=32|this.CONTROL_;this.END_OF_CAPTION_=47|this.CONTROL_;this.ROLL_UP_2_ROWS_=37|this.CONTROL_;this.ROLL_UP_3_ROWS_=38|this.CONTROL_;this.ROLL_UP_4_ROWS_=39|this.CONTROL_;this.CARRIAGE_RETURN_=45|this.CONTROL_;this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_;this.BACKSPACE_=33|this.CONTROL_;this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_;this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_};u.prototype.isSpecialCharacter=function(n,t){return n===this.EXT_&&48<=t&&t<=63};u.prototype.isExtCharacter=function(n,t){return(n===this.EXT_+1||n===this.EXT_+2)&&32<=t&&t<=63};u.prototype.isMidRowCode=function(n,t){return n===this.EXT_&&32<=t&&t<=47};u.prototype.isOffsetControlCode=function(n,t){return n===this.OFFSET_&&33<=t&&t<=35};u.prototype.isPAC=function(n,t){return n>=this.BASE_&&n<this.BASE_+8&&64<=t&&t<=127};u.prototype.isColorPAC=function(n){return 64<=n&&n<=79||96<=n&&n<=127};u.prototype.isNormalChar=function(n){return 32<=n&&n<=127};u.prototype.setRollUp=function(n,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=l(),this.displayed_=l()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===t&&(t=this.row_);this.topRow_=t-this.rollUpRows_+1};u.prototype.addFormatting=function(n,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(n,t){return n+"<"+t+">"},"");this[this.mode_](n,i)};u.prototype.clearFormatting=function(n){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(n,t){return n+"<\/"+t+">"},"");this.formatting_=[];this[this.mode_](n,t)}};u.prototype.popOn=function(n,t){var i=this.nonDisplayed_[this.row_];i+=t;this.nonDisplayed_[this.row_]=i};u.prototype.rollUp=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};u.prototype.shiftRowsUp_=function(){for(var n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<15;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""};u.prototype.paintOn=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};vt={CaptionStream:o,Cea608Stream:u};e={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};at.prototype=new f;ou=at;pt={TXXX:function(n){var t;if(3===n.data[0]){for(t=1;t<n.data.length;t++)if(0===n.data[t]){n.description=k(n.data,1,t);n.value=k(n.data,t+1,n.data.length).replace(/\0*$/,"");break}n.data=n.value}},WXXX:function(n){var t;if(3===n.data[0])for(t=1;t<n.data.length;t++)if(0===n.data[t]){n.description=k(n.data,1,t);n.url=k(n.data,t+1,n.data.length);break}},PRIV:function(n){for(var i,t=0;t<n.data.length;t++)if(0===n.data[t]){n.owner=(i=n.data,unescape(eu(i,0,t)));break}n.privateData=n.data.subarray(t+1);n.data=n.privateData}};(yt=function(n){var r,u={debug:!(!n||!n.debug),descriptor:n&&n.descriptor},i=0,t=[],f=0;if(yt.prototype.init.call(this),this.dispatchType=e.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(r=0;r<u.descriptor.length;r++)this.dispatchType+=("00"+u.descriptor[r].toString(16)).slice(-2);this.push=function(n){var r,e,l,o,h,s,c;if("timed-metadata"===n.type)if(n.dataAlignmentIndicator&&(f=0,t.length=0),0===t.length&&(n.data.length<10||n.data[0]!=="I".charCodeAt(0)||n.data[1]!=="D".charCodeAt(0)||n.data[2]!=="3".charCodeAt(0)))u.debug;else if(t.push(n),f+=n.data.byteLength,1===t.length&&(i=d(n.data.subarray(6,10)),i+=10),!(f<i)){for(r={data:new Uint8Array(i),frames:[],pts:t[0].pts,dts:t[0].dts},h=0;h<i;)r.data.set(t[0].data.subarray(0,i-h),h),h+=t[0].data.byteLength,f-=t[0].data.byteLength,t.shift();e=10;64&r.data[5]&&(e+=4,e+=d(r.data.subarray(10,14)),i-=d(r.data.subarray(16,20)));do{if((l=d(r.data.subarray(e+4,e+8)))<1)return;((o={id:String.fromCharCode(r.data[e],r.data[e+1],r.data[e+2],r.data[e+3]),data:r.data.subarray(e+10,e+l+10)}).key=o.id,pt[o.id]&&(pt[o.id](o),"com.apple.streaming.transportStreamTimestamp"===o.owner))&&(s=o.data,c=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,c*=4,c+=3&s[7],o.timeStamp=c,void 0===r.pts&&void 0===r.dts&&(r.pts=o.timeStamp,r.dts=o.timeStamp),this.trigger("timestamp",o));r.frames.push(o);e+=10;e+=l}while(e<i);this.trigger("data",r)}}}).prototype=new f;su=yt;hu=ou;(wt=function(){var t=new Uint8Array(188),n=0;wt.prototype.init.call(this);this.push=function(i){var r,u=0,f=188;for(n?((r=new Uint8Array(i.byteLength+n)).set(t.subarray(0,n)),r.set(i,n),n=0):r=i;f<r.byteLength;)71!==r[u]||71!==r[f]?(u++,f++):(this.trigger("data",r.subarray(u,f)),u+=188,f+=188);u<r.byteLength&&(t.set(r.subarray(u),0),n=r.byteLength-u)};this.flush=function(){188===n&&71===t[0]&&(this.trigger("data",t),n=0);this.trigger("done")};this.endTimeline=function(){this.flush();this.trigger("endedtimeline")};this.reset=function(){n=0;this.trigger("reset")}}).prototype=new f;(g=function(){var t,i,r,n;g.prototype.init.call(this);(n=this).packetsWaitingForPmt=[];this.programMapTable=void 0;t=function(n,t){var u=0;t.payloadUnitStartIndicator&&(u+=n[u]+1);"pat"===t.type?i(n.subarray(u),t):r(n.subarray(u),t)};i=function(t,i){i.section_number=t[7];i.last_section_number=t[8];n.pmtPid=(31&t[10])<<8|t[11];i.pmtPid=n.pmtPid};r=function(t,i){var o,r,u,f;if(1&t[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},o=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<o;)u=t[r],f=(31&t[r+1])<<8|t[r+2],u===e.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=f:u===e.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=f:u===e.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][f]=u),r+=5+((15&t[r+3])<<8|t[r+4]);i.programMapTable=n.programMapTable}};this.push=function(n){var i={},r=4;if(i.payloadUnitStartIndicator=!!(64&n[1]),i.pid=31&n[1],i.pid<<=8,i.pid|=n[2],1<(48&n[3])>>>4&&(r+=n[r]+1),0===i.pid)i.type="pat",t(n.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(n.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([n,r,i]):this.processPes_(n,r,i)};this.processPes_=function(n,t,i){i.streamType=i.pid===this.programMapTable.video?e.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?e.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][i.pid];i.type="pes";i.data=n.subarray(t);this.trigger("data",i)}}).prototype=new f;g.STREAM_TYPES={h264:27,adts:15};(bt=function(){function n(n,t,i){var e,o,s=new Uint8Array(n.size),r={type:t},f=0,h=0;if(n.data.length&&!(n.size<9)){for(r.trackId=n.data[0].pid,f=0;f<n.data.length;f++)o=n.data[f],s.set(o.data,h),h+=o.data.byteLength;!function(n,t){var i;t.packetLength=6+(n[4]<<8|n[5]);t.dataAlignmentIndicator=0!=(4&n[6]);192&(i=n[7])&&(t.pts=(14&n[9])<<27|(255&n[10])<<20|(254&n[11])<<12|(255&n[12])<<5|(254&n[13])>>>3,t.pts*=4,t.pts+=(6&n[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&n[14])<<27|(255&n[15])<<20|(254&n[16])<<12|(255&n[17])<<5|(254&n[18])>>>3,t.dts*=4,t.dts+=(6&n[18])>>>1));t.data=n.subarray(9+n[8])}(s,r);e="video"===t||r.packetLength<=n.size;(i||e)&&(n.size=0,n.data.length=0);e&&u.trigger("data",r)}}var t,u=this,i={data:[],size:0},r={data:[],size:0},f={data:[],size:0};bt.prototype.init.call(this);this.push=function(o){({pat:function(){},pes:function(){var t,u;switch(o.streamType){case e.H264_STREAM_TYPE:case e.H264_STREAM_TYPE:t=i;u="video";break;case e.ADTS_STREAM_TYPE:t=r;u="audio";break;case e.METADATA_STREAM_TYPE:t=f;u="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&n(t,u,!0);t.data.push(o);t.size+=o.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(t=o.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"});null!==t.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"});u.trigger("data",n)}})[o.type]()};this.reset=function(){i.size=0;i.data.length=0;r.size=0;r.data.length=0;this.trigger("reset")};this.flushStreams_=function(){n(i,"video");n(r,"audio");n(f,"timed-metadata")};this.flush=function(){this.flushStreams_();this.trigger("done")}}).prototype=new f;kt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:wt,TransportParseStream:g,ElementaryStream:bt,TimestampRolloverStream:hu,CaptionStream:vt.CaptionStream,Cea608Stream:vt.Cea608Stream,MetadataStream:su};for(nt in e)e.hasOwnProperty(nt)&&(kt[nt]=e[nt]);var dt,s=kt,df=y,cu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(dt=function(n){var t,i=0;dt.prototype.init.call(this);this.push=function(r){var s,h,f,e,c,o,u=0;if(n||(i=0),"audio"===r.type)for(t?(e=t,(t=new Uint8Array(e.byteLength+r.data.byteLength)).set(e),t.set(r.data,e.byteLength)):t=r.data;u+5<t.length;)if(255===t[u]&&240==(246&t[u+1])){if(h=2*(1&~t[u+1]),s=(3&t[u+3])<<11|t[u+4]<<3|(224&t[u+5])>>5,o=(c=1024*(1+(3&t[u+6])))*df/cu[(60&t[u+2])>>>2],f=u+s,t.byteLength<f)return;if(this.trigger("data",{pts:r.pts+i*o,dts:r.dts+i*o,sampleCount:c,audioobjecttype:1+(t[u+2]>>>6&3),channelcount:(1&t[u+2])<<2|(192&t[u+3])>>>6,samplerate:cu[(60&t[u+2])>>>2],samplingfrequencyindex:(60&t[u+2])>>>2,samplesize:16,data:t.subarray(u+7+h,f)}),i++,t.byteLength===f)return void(t=void 0);t=t.subarray(f)}else u++};this.flush=function(){i=0;this.trigger("done")};this.reset=function(){t=void 0;this.trigger("reset")};this.endTimeline=function(){t=void 0;this.trigger("endedtimeline")}}).prototype=new f;ni=dt;au=function(n){var i=n.byteLength,r=0,t=0;this.length=function(){return 8*i};this.bitsAvailable=function(){return 8*i+t};this.loadWord=function(){var f=n.byteLength-i,e=new Uint8Array(4),u=Math.min(4,i);if(0===u)throw new Error("no bytes available");e.set(n.subarray(f,f+u));r=new DataView(e.buffer).getUint32(0);t=8*u;i-=u};this.skipBits=function(n){var u;n<t||(n-=t,n-=8*(u=Math.floor(n/8)),i-=u,this.loadWord());r<<=n;t-=n};this.readBits=function(n){var u=Math.min(t,n),f=r>>>32-u;return 0<(t-=u)?r<<=u:0<i&&this.loadWord(),0<(u=n-u)?f<<u|this.readBits(u):f};this.skipLeadingZeros=function(){for(var n=0;n<t;++n)if(0!=(r&2147483648>>>n))return r<<=n,t-=n,n;return this.loadWord(),n+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var n=this.skipLeadingZeros();return this.readBits(n+1)-1};this.readExpGolomb=function(){var n=this.readUnsignedExpGolomb();return 1&n?1+n>>>1:-1*(n>>>1)};this.readBoolean=function(){return 1===this.readBits(1)};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};(tt=function(){var n,t,i=0;tt.prototype.init.call(this);this.push=function(r){for(var u,f=(t=t?((u=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),u.set(r.data,t.byteLength),u):r.data).byteLength;i<f-3;i++)if(1===t[i+2]){n=i+5;break}for(;n<f;)switch(t[n]){case 0:if(0!==t[n-1]){n+=2;break}if(0!==t[n-2]){n++;break}for(i+3!==n-2&&this.trigger("data",t.subarray(i+3,n-2));1!==t[++n]&&n<f;);i=n-2;n+=3;break;case 1:if(0!==t[n-1]||0!==t[n-2]){n+=3;break}this.trigger("data",t.subarray(i+3,n-2));i=n-2;n+=3;break;default:n+=3}t=t.subarray(i);n-=i;i=0};this.reset=function(){t=null;i=0;this.trigger("reset")};this.flush=function(){t&&3<t.byteLength&&this.trigger("data",t.subarray(i+3));t=null;i=0;this.trigger("done")};this.endTimeline=function(){this.flush();this.trigger("endedtimeline")}}).prototype=new f;lu={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};(gt=function(){var t,r,u,f,i,e,o,n=new tt;gt.prototype.init.call(this);(t=this).push=function(t){"video"===t.type&&(r=t.trackId,u=t.pts,f=t.dts,n.push(t))};n.on("data",function(n){var o={trackId:r,pts:u,dts:f,data:n};switch(31&n[0]){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp";o.escapedRBSP=i(n.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp";o.escapedRBSP=i(n.subarray(1));o.config=e(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",o)});n.on("done",function(){t.trigger("done")});n.on("partialdone",function(){t.trigger("partialdone")});n.on("reset",function(){t.trigger("reset")});n.on("endedtimeline",function(){t.trigger("endedtimeline")});this.flush=function(){n.flush()};this.partialFlush=function(){n.partialFlush()};this.reset=function(){n.reset()};this.endTimeline=function(){n.endTimeline()};o=function(n,t){for(var u=8,i=8,r=0;r<n;r++)0!==i&&(i=(u+t.readExpGolomb()+256)%256),u=0===i?u:i};i=function(n){for(var r,u,f,e=n.byteLength,i=[],t=1;t<e-2;)0===n[t]&&0===n[t+1]&&3===n[t+2]?(i.push(t+2),t+=2):t++;if(0===i.length)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f};e=function(n){var t,u,f,e,s,h,c,l,a,v,y,i,r,p=0,w=0,b=0,k=0,d=1;if(u=(t=new au(n)).readUnsignedByte(),e=t.readUnsignedByte(),f=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),lu[u]&&(3===(s=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(y=3!==s?8:12,r=0;r<y;r++)t.readBoolean()&&o(r<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(h=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===h)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),c=t.readUnsignedExpGolomb(),r=0;r<c;r++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),l=t.readUnsignedExpGolomb(),a=t.readUnsignedExpGolomb(),0===(v=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),w=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),k=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:i=[1,1];break;case 2:i=[12,11];break;case 3:i=[10,11];break;case 4:i=[16,11];break;case 5:i=[40,33];break;case 6:i=[24,11];break;case 7:i=[20,11];break;case 8:i=[32,11];break;case 9:i=[80,33];break;case 10:i=[18,11];break;case 11:i=[15,11];break;case 12:i=[64,33];break;case 13:i=[160,99];break;case 14:i=[4,3];break;case 15:i=[3,2];break;case 16:i=[2,1];break;case 255:i=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}i&&(d=i[0]/i[1])}return{profileIdc:u,levelIdc:f,profileCompatibility:e,width:Math.ceil((16*(l+1)-2*p-2*w)*d),height:(2-v)*(a+1)*16-2*b-2*k,sarRatio:i}}}).prototype=new f;var ti,gf={H264Stream:gt,NalByteStream:tt},ne=function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)},te=function(n,t){var i=n[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9];return(16&n[t+5])>>4?20+i:10+i},ie=function(n,t){var i=(224&n[t+5])>>5,r=n[t+4]<<3;return 6144&n[t+3]|r|i};(ti=function(){var n=new Uint8Array,t=0;ti.prototype.init.call(this);this.setTimestamp=function(n){t=n};this.push=function(i){var e,o,s,f,u=0,r=0;for(n.length?(f=n.length,(n=new Uint8Array(i.byteLength+f)).set(n.subarray(0,f)),n.set(i,f)):n=i;3<=n.length-r;)if(n[r]!=="I".charCodeAt(0)||n[r+1]!=="D".charCodeAt(0)||n[r+2]!=="3".charCodeAt(0))if(255!=(255&n[r])||240!=(240&n[r+1]))r++;else{if(n.length-r<7)break;if(r+(u=ie(n,r))>n.length)break;s={type:"audio",data:n.subarray(r,r+u),pts:t,dts:t};this.trigger("data",s);r+=u}else{if(n.length-r<10)break;if(r+(u=te(n,r))>n.length)break;o={type:"timed-metadata",data:n.subarray(r,r+u)};this.trigger("data",o);r+=u}e=n.length-r;n=0<e?n.subarray(r):new Uint8Array};this.reset=function(){n=new Uint8Array;this.trigger("reset")};this.endTimeline=function(){n=new Uint8Array;this.trigger("endedtimeline")}}).prototype=new f;var it,p,ii,v,re=ti,ue=gf.H264Stream,fe=ne,ee=y,ri=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ui=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];(p=function(n,t){var i=[],r=0,u=0,f=0,e=1/0;t=t||{};p.prototype.init.call(this);this.push=function(t){lt(n,t);n&&ri.forEach(function(i){n[i]=t[i]});i.push(t)};this.setEarliestDts=function(t){u=t-n.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(n){e=n};this.setAudioAppendStart=function(n){f=n};this.flush=function(){var o,s,c,h,l;0!==i.length&&(o=hf(i,n,u),n.baseMediaDecodeTime=uu(n,t.keepOriginalTimestamps),sf(n,o,f,e),n.samples=cf(o),c=iu(lf(o)),i=[],s=ru(r,[n]),h=new Uint8Array(s.byteLength+c.byteLength),r++,h.set(s),h.set(c,s.byteLength),a(n),l=Math.ceil(1024*ee/n.samplerate),o.length&&this.trigger("timingInfo",{start:o[0].dts,end:o[0].dts+o.length*l}),this.trigger("data",{track:n,boxes:h}));this.trigger("done","AudioSegmentStream")};this.reset=function(){a(n);i=[];this.trigger("reset")}}).prototype=new f;(it=function(n,t){var u,f,e=0,i=[],r=[];t=t||{};it.prototype.init.call(this);delete n.minPTS;this.gopCache_=[];this.push=function(t){lt(n,t);"seq_parameter_set_rbsp"!==t.nalUnitType||u||(u=t.config,n.sps=[t.data],ui.forEach(function(t){n[t]=u[t]},this));"pic_parameter_set_rbsp"!==t.nalUnitType||f||(f=t.data,n.pps=[t.data]);i.push(t)};this.flush=function(){for(var y,f,u,s,c,h,l,o,p,v=0;i.length&&"access_unit_delimiter_rbsp"!==i[0].nalUnitType;)i.shift();if(0===i.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(y=du(i),(u=gu(y))[0][0].keyFrame||((f=this.getGopForFusion_(i[0],n))?(v=f.duration,u.unshift(f),u.byteLength+=f.byteLength,u.nalCount+=f.nalCount,u.pts=f.pts,u.dts=f.dts,u.duration+=f.duration):u=nf(u)),r.length){if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(u):this.alignGopsAtStart_(u)))return this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),i=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");a(n);u=p}lt(n,u);n.samples=tf(u);c=iu(rf(u));n.baseMediaDecodeTime=uu(n,t.keepOriginalTimestamps);this.trigger("processedGopsInfo",u.map(function(n){return{pts:n.pts,dts:n.dts,byteLength:n.byteLength}}));l=u[0];o=u[u.length-1];this.trigger("segmentTimingInfo",yu(n.baseMediaDecodeTime,l.dts,l.pts,o.dts+o.duration,o.pts+o.duration,v));this.trigger("timingInfo",{start:u[0].dts,end:u[u.length-1].dts+u[u.length-1].duration});this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.trigger("baseMediaDecodeTime",n.baseMediaDecodeTime);this.trigger("timelineStartInfo",n.timelineStartInfo);s=ru(e,[n]);h=new Uint8Array(s.byteLength+c.byteLength);e++;h.set(s);h.set(c,s.byteLength);this.trigger("data",{track:n,boxes:h});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.reset=function(){this.resetStream_();i=[];this.gopCache_.length=0;r.length=0;this.trigger("reset")};this.resetStream_=function(){a(n);f=u=void 0};this.getGopForFusion_=function(t){for(var i,r,u,f,o=1/0,e=0;e<this.gopCache_.length;e++)u=(f=this.gopCache_[e]).gop,n.pps&&vu(n.pps[0],f.pps[0])&&n.sps&&vu(n.sps[0],f.sps[0])&&(u.dts<n.timelineStartInfo.dts||-1e4<=(i=t.dts-u.dts-u.duration)&&i<=45e3&&(!r||i<o)&&(r=f,o=i));return r?r.gop:null};this.alignGopsAtStart_=function(n){var f,i,e,u,o,s,h,t;for(o=n.byteLength,s=n.nalCount,h=n.duration,f=i=0;f<r.length&&i<n.length&&(e=r[f],u=n[i],e.pts!==u.pts);)u.pts>e.pts?f++:(i++,o-=u.byteLength,s-=u.nalCount,h-=u.duration);return 0===i?n:i===n.length?null:((t=n.slice(i)).byteLength=o,t.duration=h,t.nalCount=s,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsAtEnd_=function(n){var u,i,s,h,f,e,c,t,o;for(u=r.length-1,i=n.length-1,f=null,e=!1;0<=u&&0<=i;){if(s=r[u],h=n[i],s.pts===h.pts){e=!0;break}s.pts>h.pts?u--:(u===r.length-1&&(f=i),i--)}return!e&&null===f?null:0===(c=e?i:f)?n:(t=n.slice(c),o=t.reduce(function(n,t){return n.byteLength+=t.byteLength,n.duration+=t.duration,n.nalCount+=t.nalCount,n},{byteLength:0,duration:0,nalCount:0}),t.byteLength=o.byteLength,t.duration=o.duration,t.nalCount=o.nalCount,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsWith=function(n){r=n}}).prototype=new f;(v=function(n,t){this.numberOfTracks=0;this.metadataStream=t;this.remuxTracks="undefined"!=typeof(n=n||{}).remux?!!n.remux:!0;this.keepOriginalTimestamps="boolean"==typeof n.keepOriginalTimestamps?n.keepOriginalTimestamps:!1;this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;v.prototype.init.call(this);this.push=function(n){return n.text?this.pendingCaptions.push(n):n.frames?this.pendingMetadata.push(n):(this.pendingTracks.push(n.track),this.pendingBytes+=n.boxes.byteLength,"video"===n.track.type&&(this.videoTrack=n.track,this.pendingBoxes.push(n.boxes)),void("audio"===n.track.type&&(this.audioTrack=n.track,this.pendingBoxes.unshift(n.boxes))))}}).prototype=new f;v.prototype.flush=function(n){var r,u,e,t,o=0,i={captions:[],captionStreams:{},metadata:[],info:{}},f=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==n&&"AudioSegmentStream"!==n)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(f=this.videoTrack.timelineStartInfo.pts,ui.forEach(function(n){i.info[n]=this.videoTrack[n]},this)):this.audioTrack&&(f=this.audioTrack.timelineStartInfo.pts,ri.forEach(function(n){i.info[n]=this.audioTrack[n]},this)),this.videoTrack||this.audioTrack){for(i.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,e=ku(this.pendingTracks),i.initSegment=new Uint8Array(e.byteLength),i.initSegment.set(e),i.data=new Uint8Array(this.pendingBytes),t=0;t<this.pendingBoxes.length;t++)i.data.set(this.pendingBoxes[t],o),o+=this.pendingBoxes[t].byteLength;for(t=0;t<this.pendingCaptions.length;t++)(r=this.pendingCaptions[t]).startTime=ct(r.startPts,f,this.keepOriginalTimestamps),r.endTime=ct(r.endPts,f,this.keepOriginalTimestamps),i.captionStreams[r.stream]=!0,i.captions.push(r);for(t=0;t<this.pendingMetadata.length;t++)(u=this.pendingMetadata[t]).cueTime=ct(u.pts,f,this.keepOriginalTimestamps),i.metadata.push(u);for(i.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",i),t=0;t<i.captions.length;t++)r=i.captions[t],this.trigger("caption",r);for(t=0;t<i.metadata.length;t++)u=i.metadata[t],this.trigger("id3Frame",u)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};v.prototype.setRemux=function(n){this.remuxTracks=n};(ii=function(n){var r,t,i=this,u=!0;ii.prototype.init.call(this);n=n||{};this.baseMediaDecodeTime=n.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var u={};(this.transmuxPipeline_=u).type="aac";u.metadataStream=new s.MetadataStream;u.aacStream=new re;u.audioTimestampRolloverStream=new s.TimestampRolloverStream("audio");u.timedMetadataTimestampRolloverStream=new s.TimestampRolloverStream("timed-metadata");u.adtsStream=new ni;u.coalesceStream=new v(n,u.metadataStream);u.headOfPipeline=u.aacStream;u.aacStream.pipe(u.audioTimestampRolloverStream).pipe(u.adtsStream);u.aacStream.pipe(u.timedMetadataTimestampRolloverStream).pipe(u.metadataStream).pipe(u.coalesceStream);u.metadataStream.on("timestamp",function(n){u.aacStream.setTimestamp(n.timeStamp)});u.aacStream.on("data",function(f){"timed-metadata"!==f.type||u.audioSegmentStream||(t=t||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},u.coalesceStream.numberOfTracks++,u.audioSegmentStream=new p(t,n),u.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),u.adtsStream.pipe(u.audioSegmentStream).pipe(u.coalesceStream));i.trigger("trackinfo",{hasAudio:!!t,hasVideo:!!r})});u.coalesceStream.on("data",this.trigger.bind(this,"data"));u.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var u={};(this.transmuxPipeline_=u).type="ts";u.metadataStream=new s.MetadataStream;u.packetStream=new s.TransportPacketStream;u.parseStream=new s.TransportParseStream;u.elementaryStream=new s.ElementaryStream;u.timestampRolloverStream=new s.TimestampRolloverStream;u.adtsStream=new ni;u.h264Stream=new ue;u.captionStream=new s.CaptionStream;u.coalesceStream=new v(n,u.metadataStream);u.headOfPipeline=u.packetStream;u.packetStream.pipe(u.parseStream).pipe(u.elementaryStream).pipe(u.timestampRolloverStream);u.timestampRolloverStream.pipe(u.h264Stream);u.timestampRolloverStream.pipe(u.adtsStream);u.timestampRolloverStream.pipe(u.metadataStream).pipe(u.coalesceStream);u.h264Stream.pipe(u.captionStream).pipe(u.coalesceStream);u.elementaryStream.on("data",function(f){var e;if("metadata"===f.type){for(e=f.tracks.length;e--;)r||"video"!==f.tracks[e].type?t||"audio"!==f.tracks[e].type||((t=f.tracks[e]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(r=f.tracks[e]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;r&&!u.videoSegmentStream&&(u.coalesceStream.numberOfTracks++,u.videoSegmentStream=new it(r,n),u.videoSegmentStream.on("timelineStartInfo",function(n){t&&(t.timelineStartInfo=n,u.audioSegmentStream.setEarliestDts(n.dts))}),u.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),u.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),u.videoSegmentStream.on("baseMediaDecodeTime",function(n){t&&u.audioSegmentStream.setVideoBaseMediaDecodeTime(n)}),u.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),u.h264Stream.pipe(u.videoSegmentStream).pipe(u.coalesceStream));t&&!u.audioSegmentStream&&(u.coalesceStream.numberOfTracks++,u.audioSegmentStream=new p(t,n),u.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),u.adtsStream.pipe(u.audioSegmentStream).pipe(u.coalesceStream));i.trigger("trackinfo",{hasAudio:!!t,hasVideo:!!r})}});u.coalesceStream.on("data",this.trigger.bind(this,"data"));u.coalesceStream.on("id3Frame",function(n){n.dispatchType=u.metadataStream.dispatchType;i.trigger("id3Frame",n)});u.coalesceStream.on("caption",this.trigger.bind(this,"caption"));u.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(i){var u=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=i);t&&(t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,a(t),n.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=i),u.audioTimestampRolloverStream&&u.audioTimestampRolloverStream.discontinuity());r&&(u.videoSegmentStream&&(u.videoSegmentStream.gopCache_=[]),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,a(r),u.captionStream.reset(),n.keepOriginalTimestamps||(r.timelineStartInfo.baseMediaDecodeTime=i));u.timestampRolloverStream&&u.timestampRolloverStream.discontinuity()};this.setAudioAppendStart=function(n){t&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(n)};this.setRemux=function(t){var i=this.transmuxPipeline_;n.remux=t;i&&i.coalesceStream&&i.coalesceStream.setRemux(t)};this.alignGopsWith=function(n){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(n)};this.push=function(n){if(u){var t=fe(n);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline();u=!1}this.transmuxPipeline_.headOfPipeline.push(n)};this.flush=function(){u=!0;this.transmuxPipeline_.headOfPipeline.flush()};this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()};this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()};this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new f;pu={Transmuxer:ii,VideoSegmentStream:it,AudioSegmentStream:p,AUDIO_PROPERTIES:ri,VIDEO_PROPERTIES:ui,generateVideoSegmentTimingInfo:yu};fi=(function(n,t,i){return t&&wu(n.prototype,t),i&&wu(n,i),n}(ei,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose();this.transmuxer=new pu.Transmuxer(this.options),function(n,t){t.on("data",function(t){var r=t.initSegment,i;t.initSegment={data:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength};i=t.data;t.data=i.buffer;n.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])});t.captionStream&&t.captionStream.on("data",function(t){n.postMessage({action:"caption",data:t})});t.on("done",function(){n.postMessage({action:"done"})});t.on("gopInfo",function(t){n.postMessage({action:"gopInfo",gopInfo:t})});t.on("videoSegmentTimingInfo",function(t){n.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})})}(this.self,this.transmuxer)}},{key:"push",value:function(n){var t=new Uint8Array(n.data,n.byteOffset,n.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(n){var t=n.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(n){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*n.appendStart))}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(n){this.transmuxer.alignGopsWith(n.gopsToAlignWith.slice())}}]),ei),new function(n){n.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new fi(n,t.data.options):(this.messageHandlers||(this.messageHandlers=new fi(n)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(n)}()}),ott={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},rot=(li(nf,i.EventTarget),ti(nf,[{key:"data_",value:function(n){var t=n.data.segment;t.data=new Uint8Array(t.data,n.data.byteOffset,n.data.byteLength);t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(n,t,i){var u=t.player_,r,f;if(i.captions&&i.captions.length)for(r in n.inbandTextTracks_||(n.inbandTextTracks_={}),i.captionStreams)n.inbandTextTracks_[r]||(u.tech_.trigger({type:"usage",name:"hls-608"}),f=u.textTracks().getTrackById(r),n.inbandTextTracks_[r]=f||u.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track);i.metadata&&i.metadata.length&&!n.metadataTrack_&&(n.metadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,n.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)}(this,this.mediaSource_,t);this.pendingBuffers_.push(t)}},{key:"done_",value:function(){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(n){var t={start:{decode:n.start.dts/9e4,presentation:n.start.pts/9e4},end:{decode:n.end.dts/9e4,presentation:n.end.pts/9e4},baseMediaDecodeTime:n.baseMediaDecodeTime/9e4};n.prependedContentDuration&&(t.prependedContentDuration=n.prependedContentDuration/9e4);this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var n=this,t=["audio","video"];t.forEach(function(i){var r,u;n[i+"Codec_"]&&!n[i+"Buffer_"]&&(r=null,n.mediaSource_[i+"Buffer_"]?(r=n.mediaSource_[i+"Buffer_"]).updating=!1:(u=i+'/mp4;codecs="'+n[i+"Codec_"]+'"',r=function(n,t){function u(n){"function"==typeof i[n]?r[n]=function(){return i[n].apply(i,arguments)}:"undefined"==typeof r[n]&&Object.defineProperty(r,n,{get:function(){return i[n]},set:function(t){return i[n]=t}})}var i=n.addSourceBuffer(t),r=Object.create(null);for(var f in r.updating=!1,r.realBuffer_=i)u(f);return r}(n.mediaSource_.nativeMediaSource_,u),n.mediaSource_[i+"Buffer_"]=r),n[i+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(u){r.addEventListener(u,function(){if("audio"!==i||!n.audioDisabled_)return"updateend"===u&&(n[i+"Buffer_"].updating=!1),t.every(function(t){return!("audio"!==t||!n.audioDisabled_)||i===t||!n[t+"Buffer_"]||!n[t+"Buffer_"].updating})?n.trigger(u):void 0})}))})}},{key:"appendBuffer",value:function(n){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:function(n,t,i){if("undefined"==typeof t||null===t||!n.length)return[];for(var u=Math.ceil(9e4*(t-i+3)),r=void 0,r=0;r<n.length&&!(n[r].pts>u);r++);return n.slice(r)}(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)});this.transmuxer_.postMessage({action:"push",data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength},[n.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(n){this.gopBuffer_=function(n,t,i){if(!t.length)return n;if(i)return t.slice();for(var u=t[0].pts,r=0;r<n.length&&!(n[r].pts>=u);r++);return n.slice(0,r).concat(t)}(this.gopBuffer_,n.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(n,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(n,t),this.gopBuffer_=function(n,t,i,r){for(var u,o=Math.ceil(9e4*(t-r)),s=Math.ceil(9e4*(i-r)),e=n.slice(),f=n.length;f--&&!(n[f].pts<=s););if(-1===f)return e;for(u=f+1;u--&&!(n[u].pts<=o););return u=Math.max(u,0),e.splice(u,f-u+1),e}(this.gopBuffer_,n,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(n,t)),ku(n,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)ku(n,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var n={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]},t;if(!this.pendingBuffers_.length)return this.trigger("updateend"),void(this.bufferUpdating_=!1);n=this.pendingBuffers_.reduce(function(n,t){var i=t.type,r=t.data,u=t.initSegment;return n[i].segments.push(r),n[i].bytes+=r.byteLength,n[i].initSegment=u,t.captions&&(n.captions=n.captions.concat(t.captions)),t.info&&(n[i].info=t.info),t.metadata&&(n.metadata=n.metadata.concat(t.metadata)),n},n);this.videoBuffer_||this.audioBuffer_||(0===n.video.bytes&&(this.videoCodec_=null),0===n.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_());n.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:n.audio.info});n.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:n.video.info});this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(n.audio.segments.unshift(n.audio.initSegment),n.audio.bytes+=n.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);t=!1;this.videoBuffer_&&n.video.bytes?(n.video.segments.unshift(n.video.initSegment),n.video.bytes+=n.video.initSegment.byteLength,this.concatAndAppendSegments_(n.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0);yet(this,n.captions,n.metadata);!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(n.audio,this.audioBuffer_);this.pendingBuffers_.length=0;t&&this.trigger("updateend");this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(n,t){var r=0,i=void 0;if(n.bytes){i=new Uint8Array(n.bytes);n.segments.forEach(function(n){i.set(n,r);r+=n.byteLength});try{t.updating=!0;t.appendBuffer(i)}catch(n){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:n.message,originalError:n})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort();!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort();this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"});this.pendingBuffers_.length=0;this.bufferUpdating_=!1}}]),nf);eh=(li(wr,i.EventTarget),ti(wr,[{key:"addSeekableRange_",value:function(n,t){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(n){var i=void 0,r=ett(n),t;return/^(video|audio)\/mp2t$/i.test(r.type)?(t=[],r.parameters&&r.parameters.codecs&&(t=r.parameters.codecs.split(","),t=(t=ftt(t)).filter(function(n){return dv(n)||gv(n)})),0===t.length&&(t=["avc1.4d400d","mp4a.40.2"]),i=new rot(this,t),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),i.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)):i=this.nativeMediaSource_.addSourceBuffer(n),this.sourceBuffers.push(i),i}}]),wr);ny=0;i.mediaSources={};ae.open=stt;ae.supportsNativeMediaSources=ty;iy={createObjectURL:function(t){var r=void 0;return t instanceof eh?(r=n.URL.createObjectURL(t.nativeMediaSource_),t.url_=r):t instanceof eh?(r="blob:vjs-media-source/"+ny,ny++,i.mediaSources[r]=t,r):(r=n.URL.createObjectURL(t),t.url_=r)}};i.MediaSource=ae;i.URL=iy;uy=i.mergeOptions;oh=(li(tf,i.EventTarget),ti(tf,[{key:"setupChildLoader",value:function(n,t){this.masterPlaylistLoader_=n;this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest();this.loadedPlaylists_={};n.clearTimeout(this.minimumUpdatePeriodTimeout_);n.clearTimeout(this.mediaRequest_);n.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var n=this.request;this.request=null;n.onreadystatechange=null;n.abort()}}},{key:"sidxRequestFinished_",value:function(n,t,i,r){var u=this;return function(f,e){if(u.request){if(u.request=null,f)return u.error={status:e.status,message:"DASH playlist request error at URL: "+n.uri,response:e.response,code:2},i&&(u.state=i),u.trigger("error"),r(t,null);var o=new Uint8Array(e.response),s=l.parseSidx(o.subarray(8));return r(t,s)}}}},{key:"media",value:function(t){var o=this,i,r,u,f,e;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if(i=this.state,"string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(r=!this.media_||t.uri!==this.media_.uri,r&&this.loadedPlaylists_[t.uri]&&this.loadedPlaylists_[t.uri].endList)return this.state="HAVE_METADATA",this.media_=t,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));r&&((this.media_&&this.trigger("mediachanging"),t.sidx)?(u=void 0,f=void 0,f=this.masterPlaylistLoader_?(u=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.sidxMapping_):(u=this.master,this.sidxMapping_),e=ry(t.sidx),f[e]={sidxInfo:t.sidx},this.request=ltt(t.sidx,t,this.hls_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(t,u,i,function(n,r){if(!n||!r)throw new Error("failed to request sidx");f[e].sidx=r;o.haveMetadata({startingState:i,playlist:n.playlists[t.uri]})}))):this.mediaRequest_=n.setTimeout(this.haveMetadata.bind(this,{startingState:i,playlist:t}),0))}},{key:"haveMetadata",value:function(n){var i=n.startingState,t=n.playlist;this.state="HAVE_METADATA";this.loadedPlaylists_[t.uri]=t;this.mediaRequest_=null;this.refreshMedia_(t.uri);"HAVE_MASTER"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest();n.clearTimeout(this.mediaUpdateTimeout);n.clearTimeout(this.minimumUpdatePeriodTimeout_);"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var u=this,i,r;n.clearTimeout(this.mediaUpdateTimeout);n.clearTimeout(this.minimumUpdatePeriodTimeout_);i=this.media();t?(r=i?i.targetDuration*500:5e3,this.mediaUpdateTimeout=n.setTimeout(function(){return u.load()},r)):this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var n=ig(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_}),t,i;for(n.uri=this.srcUrl,t=0;t<n.playlists.length;t++)i="placeholder-uri-"+t,n.playlists[t].uri=i,n.playlists[i]=n.playlists[t];return ih(n,function(t,i,r,u){if(t.playlists&&t.playlists.length){var f="placeholder-uri-"+i+"-"+r+"-"+u;t.playlists[0].uri=f;n.playlists[f]=t.playlists[0]}}),tn(n),rn(n),n}},{key:"start",value:function(){var t=this;this.started=!0;this.masterPlaylistLoader_?this.mediaRequest_=n.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(n,i){if(t.request){if(t.request=null,n)return t.error={status:i.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=i.responseText;t.masterLoaded_=i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):Date.now();t.srcUrl=th(t.handleManifestRedirects,t.srcUrl,i);t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}})}},{key:"syncClientServerClock_",value:function(n){var i=this,t=tft(this.masterXml_);return null===t?(this.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===t.method?(this.clientOffset_=t.value-Date.now(),n()):void(this.request=this.hls_.xhr({uri:yr(this.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials},function(r,u){if(i.request){if(r)return i.clientOffset_=i.masterLoaded_-Date.now(),n();var f=void 0;f="HEAD"===t.method?u.responseHeaders&&u.responseHeaders.date?Date.parse(u.responseHeaders.date):i.masterLoaded_:Date.parse(u.responseText);i.clientOffset_=f-Date.now();n()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER";this.mediaRequest_=null;this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.haveMaster_();this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]);this.master&&this.master.minimumUpdatePeriod&&(this.minimumUpdatePeriodTimeout_=n.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod))}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,r){var f,u;if(t.request){if(t.request=null,i)return t.error={status:r.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:r.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=r.responseText;t.sidxMapping_=function(n,t,i,r){var f=ig(n,{manifestUri:t,clientOffset:i}),u=ctt(f.playlists,r);return ih(f,function(n){if(n.playlists&&n.playlists.length){var t=n.playlists;u=uy(u,ctt(t,r))}}),u}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var e=t.parseMasterXml(),o=htt(t.master,e),s=t.media().sidx;o&&(s?(f=ry(s),t.sidxMapping_[f]||(u=t.media(),t.request=ltt(u.sidx,u,t.hls_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(u,e,t.state,function(i,r){if(!i||!r)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[f].sidx=r;t.minimumUpdatePeriodTimeout_=n.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod);t.refreshMedia_(t.media().uri)})))):t.master=o);t.minimumUpdatePeriodTimeout_=n.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(t){var f=this,r,u,i;if(!t)throw new Error("refreshMedia_ must take a media uri");r=void 0;u=void 0;u=this.masterPlaylistLoader_?(r=this.masterPlaylistLoader_.master,this.masterPlaylistLoader_.parseMasterXml()):(r=this.master,this.parseMasterXml());i=htt(r,u);i?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=i:this.master=i,this.media_=i.playlists[t]):(this.media_=u.playlists[t],this.trigger("playlistunchanged"));this.media().endList||(this.mediaUpdateTimeout=n.setTimeout(function(){f.trigger("mediaupdatetimeout")},un(this.media(),!!i)));this.trigger("loadedplaylist")}}]),tf);att=(ti(fy,[{key:"createSourceBuffer_",value:function(n,t){var i=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(n);this.logger_("created SourceBuffer");t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){i.start_()}):this.start_()}},{key:"start_",value:function(){var n=this;this.started_=!0;this.onUpdateendCallback_=function(){var t=n.pendingCallback_;n.pendingCallback_=null;n.sourceBuffer_.removing=!1;n.logger_("buffered ["+vv(n.buffered())+"]");t&&t();n.runCallback_()};this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_);this.runCallback_()}},{key:"abort",value:function(n){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},n)}},{key:"appendBuffer",value:function(n,t){var i=this;this.processedAppend_=!0;this.queueCallback_(function(){n.videoSegmentTimingInfoCallback&&i.sourceBuffer_.addEventListener("videoSegmentTimingInfo",n.videoSegmentTimingInfoCallback);i.sourceBuffer_.appendBuffer(n.bytes)},function(){n.videoSegmentTimingInfoCallback&&i.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",n.videoSegmentTimingInfoCallback);t()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:i.createTimeRanges()}},{key:"remove",value:function(n,t,i){var r=this,u=2<arguments.length&&void 0!==i?i:rf;this.processedAppend_&&this.queueCallback_(function(){r.logger_("remove ["+n+" => "+t+"]");r.sourceBuffer_.removing=!0;r.sourceBuffer_.remove(n,t)},u)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==rf}},{key:"timestampOffset",value:function(n){var t=this;return"undefined"!=typeof n&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=n;t.runCallback_()}),this.timestampOffset_=n),this.timestampOffset_}},{key:"queueCallback_",value:function(n,t){this.callbacks_.push([n.bind(this),t]);this.runCallback_()}},{key:"runCallback_",value:function(){var n=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(n=this.callbacks_.shift(),this.pendingCallback_=n[1],n[0]())}},{key:"dispose",value:function(){function t(){n.sourceBuffer_&&"open"===n.mediaSource.readyState&&n.sourceBuffer_.abort();n.sourceBuffer_.removeEventListener("updateend",t)}var n=this;this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_);this.sourceBuffer_.removing?this.sourceBuffer_.addEventListener("updateend",t):t()}}]),fy);var wt={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},sh=2,wtt=-101,btt=-102,sy=(li(uf,i.EventTarget),ti(uf,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0;this.mediaRequests=0;this.mediaRequestsAborted=0;this.mediaRequestsTimedout=0;this.mediaRequestsErrored=0;this.mediaTransferDuration=0;this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED";this.pause();this.abort_();this.sourceUpdater_&&this.sourceUpdater_.dispose();this.resetStats_();this.captionParser_&&this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests();this.pendingSegment_=null}},{key:"error",value:function(n){return"undefined"!=typeof n&&(this.error_=n),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0;this.pause();this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():i.createTimeRanges()}},{key:"initSegment",value:function(n,t){var u=1<arguments.length&&void 0!==t&&t,r,i;return n?(r=fh(n),i=this.initSegments_[r],u&&!i&&n.bytes&&(this.initSegments_[r]=i={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,timescales:n.timescales,videoTrackIds:n.videoTrackIds}),i||n):null}},{key:"segmentKey",value:function(n,t){var f=1<arguments.length&&void 0!==t&&t,r,i,u;return n?(r=pn(n),i=this.keyCache_[r],this.cacheEncryptionKeys_&&f&&!i&&n.bytes&&(this.keyCache_[r]=i={resolvedUri:n.resolvedUri,bytes:n.bytes}),u={resolvedUri:(i||n).resolvedUri},i&&(u.bytes=i.bytes),u):null}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();this.couldBeginLoading_()&&("READY"===this.state||"INIT"===this.state)&&(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new att(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(n,t){var e=1<arguments.length&&void 0!==t?t:{},i,r,u,f;if(n){if(i=this.playlist_,r=this.pendingSegment_,this.playlist_=n,this.xhrOptions_=e,this.hasPlayed_()||(n.syncInfo={mediaSequence:n.mediaSequence,time:0}),u=null,i&&(i.id?u=i.id:i.uri&&(u=i.uri)),this.logger_("playlist update ["+u+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();i&&i.uri===n.uri?(f=n.mediaSequence-i.mediaSequence,this.logger_("live window shift ["+f+"]"),null!==this.mediaIndex&&(this.mediaIndex-=f),r&&(r.mediaIndex-=f,0<=r.mediaIndex&&(r.segment=n.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,n)):null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(n.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(n,t){this.mimeType_||(this.mimeType_=n,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(n){this.ended_=!1;this.resetLoader();this.remove(0,this.duration_(),n);this.captionParser_&&this.captionParser_.clearAllCaptions();this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1;this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null;this.syncPoint_=null;this.abort()}},{key:"remove",value:function(n,t,i){if(this.sourceUpdater_&&this.sourceUpdater_.remove(n,t,i),ku(n,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)ku(n,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&n.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=n.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_();this.checkBufferTimeout_&&n.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=n.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var n=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);n&&(this.isEndOfStream_(n.mediaIndex)?this.endOfStream():n.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()||(n.timeline!==this.currentTimeline_&&(this.syncController_.reset(),n.timestampOffset=n.startOfSegment,this.captionParser_&&this.captionParser_.clearAllCaptions()),this.loadSegment_(n)))}}},{key:"isEndOfStream_",value:function(n,t){return function(n,t,i){if(!n||!t)return!1;var r=i===n.segments.length;return n.endList&&"open"===t.readyState&&r}(1<arguments.length&&void 0!==t?t:this.playlist_,this.mediaSource_,n)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(n,t,i,r,u,f){var o=0,e=void 0,s,h,c;return(n.length&&(o=n.end(n.length-1)),s=Math.max(0,o-u),!t.segments.length)?null:s>=this.goalBufferLength_()?null:!r&&1<=s?null:null===f?(i=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,i,null,!0)):null!==i?(t.segments[i],e=o,this.generateSegmentInfo_(t,i+1,e,!1)):(this.fetchAtBuffer_?(h=at.getMediaInfoForTime(t,o,f.segmentIndex,f.time),i=h.mediaIndex,e=h.startTime):(c=at.getMediaInfoForTime(t,u,f.segmentIndex,f.time),i=c.mediaIndex,e=c.startTime),this.generateSegmentInfo_(t,i,e,!1))}},{key:"getSyncSegmentCandidate_",value:function(n){var i=this,t;return-1===this.currentTimeline_?0:(t=n.segments.map(function(n,t){return{timeline:n.timeline,segmentIndex:t}}).filter(function(n){return n.timeline===i.currentTimeline_}),t.length?t[Math.min(t.length-1,1)].segmentIndex:Math.max(n.segments.length-1,0))}},{key:"generateSegmentInfo_",value:function(n,t,i,r){if(t<0||t>=n.segments.length)return null;var u=n.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:u.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:i,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:u.duration,segment:u}}},{key:"abortRequestEarly_",value:function(n){var t,s,r;if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)return!1;var u=this.currentTime_(),f=n.bandwidth,e=this.pendingSegment_.duration,o=at.estimateSegmentRequestTime(e,f,this.playlist_,n.bytesReceived),i=function(n,t,i){var r=2<arguments.length&&void 0!==i?i:1;return((n.length?n.end(n.length-1):0)-t)/r}(this.buffered_(),u,this.hls_.tech_.playbackRate())-1;return o<=i?!1:(t=function(n){var f=n.master,e=n.currentTime,o=n.bandwidth,s=n.duration,h=n.segmentDuration,c=n.timeUntilRebuffer,l=n.currentTimeline,a=n.syncController,u=f.playlists.filter(function(n){return!at.isIncompatible(n)}),r=u.filter(at.isEnabled),t,i;return r.length||(r=u.filter(function(n){return!at.isDisabled(n)})),t=r.filter(at.hasAttribute.bind(null,"BANDWIDTH")).map(function(n){var t=a.getSyncPoint(n,s,l,e)?1:2;return{playlist:n,rebufferingImpact:at.estimateSegmentRequestTime(h,o,n)*t-c}}),i=t.filter(function(n){return n.rebufferingImpact<=0}),ye(i,function(n,t){return oy(t.playlist,n.playlist)}),i.length?i[0]:(ye(t,function(n,t){return n.rebufferingImpact-t.rebufferingImpact}),t[0]||null)}({master:this.hls_.playlists.master,currentTime:u,bandwidth:f,duration:this.duration_(),segmentDuration:e,timeUntilRebuffer:i,currentTimeline:this.currentTimeline_,syncController:this.syncController_}),t?(s=o-i-t.rebufferingImpact,r=.5,i<=1/30&&(r=1),!(!t.playlist||t.playlist.uri===this.playlist_.uri||s<r)&&(this.bandwidth=t.playlist.attributes.BANDWIDTH*wt.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)):void 0)}},{key:"handleProgress_",value:function(n,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(n){this.state="WAITING";this.pendingSegment_=n;this.trimBackBuffer_(n);n.abortRequests=eot(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(n),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(){var n=function(n,t,i){var r=void 0;return r=n.length&&0<n.start(0)&&n.start(0)<t?n.start(0):t-30,Math.min(r,t-i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);0<n&&this.remove(0,n)}},{key:"createSimplifiedSegmentObj_",value:function(n){var t=n.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:n.requestId},r;return t.key&&(r=t.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]),i.key=this.segmentKey(t.key),i.key.iv=r),t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(n,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(n)return this.pendingSegment_=null,this.state="READY",n.code===btt?void(this.mediaRequestsAborted+=1):(this.pause(),n.code===wtt?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(n),void this.trigger("error")));this.bandwidth=t.stats.bandwidth;this.roundTrip=t.stats.roundTripTime;t.map&&(t.map=this.initSegment(t.map,!0));t.key&&this.segmentKey(t.key,!0);this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(n){var t=this.pendingSegment_;t.bytes=n.bytes;n.map&&(t.segment.map.bytes=n.map.bytes);t.endOfAllRequests=n.endOfAllRequests;n.fmp4Captions&&(function(n,t,i){var r,u;for(r in i)n[r]||(t.trigger({type:"usage",name:"hls-608"}),u=t.textTracks().getTrackById(r),n[r]=u||t.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track)}(this.inbandTextTracks_,this.hls_.tech_,n.captionStreams),function(n){var t=n.inbandTextTracks,i=n.captionArray,r=n.timestampOffset,u;i&&(u=window.WebKitDataCue||window.VTTCue,i.forEach(function(n){var i=n.stream,f=n.startTime,e=n.endTime;t[i]&&(f+=r,e+=r,t[i].addCue(new u(f,e,n.text)))}))}({inbandTextTracks:this.inbandTextTracks_,captionArray:n.fmp4Captions,timestampOffset:0}),this.captionParser_&&this.captionParser_.clearParsedCaptions());this.handleSegment_()}},{key:"handleSegment_",value:function(){var h=this,r,e,o,u,f,s;if(this.pendingSegment_){var n=this.pendingSegment_,i=n.segment,t=this.syncController_.probeSegmentInfo(n);if("undefined"==typeof this.startingMedia_&&t&&(t.containsAudio||t.containsVideo)&&(this.startingMedia_={containsAudio:t.containsAudio,containsVideo:t.containsVideo}),r=function(n,t,i){return"main"===n&&t&&i?i.containsAudio||i.containsVideo?t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.startingMedia_,t),r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==n.timestampOffset&&n.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(t&&t.segmentTimestampInfo&&(e=t.segmentTimestampInfo[0].ptsTime,o=t.segmentTimestampInfo[0].dtsTime,n.timestampOffset-=e-o),this.sourceUpdater_.timestampOffset(n.timestampOffset),this.trigger("timestampoffset"));u=this.syncController_.mappingForTimeline(n.timeline);(null!==u&&this.trigger({type:"segmenttimemapping",mapping:u}),this.state="APPENDING",i.map)&&(f=fh(i.map),this.activeInitSegmentId_&&this.activeInitSegmentId_===f||(s=this.initSegment(i.map),this.sourceUpdater_.appendBuffer({bytes:s.bytes},function(){h.activeInitSegmentId_=f})));n.byteLength=n.bytes.byteLength;this.mediaSecondsLoaded+="number"==typeof i.start&&"number"==typeof i.end?i.end-i.start:i.duration;this.logger_(function(n){var i=n.segment,f=i.start,e=i.end,t=n.playlist,r=t.mediaSequence,o=t.id,u=t.segments,s=void 0===u?[]:u,h=n.mediaIndex,c=n.timeline;return["appending ["+h+"] of ["+r+", "+(r+s.length)+"] from playlist ["+o+"]","["+f+" => "+e+"] in timeline ["+c+"]"].join(" ")}(n));this.sourceUpdater_.appendBuffer({bytes:n.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,n.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(n,t){if(this.pendingSegment_&&n===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment;i.videoTimingInfo||(i.videoTimingInfo={});i.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0;i.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation;i.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation;i.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var n=this.pendingSegment_,t=n.segment,i=null!==this.mediaIndex;this.pendingSegment_=null;this.recordThroughput_(n);this.addSegmentMetadataCue_(n);this.state="READY";this.mediaIndex=n.mediaIndex;this.fetchAtBuffer_=!0;this.currentTimeline_=n.timeline;this.trigger("syncinfoupdate");t.end&&this.currentTime_()-t.end>3*n.playlist.targetDuration?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(n.mediaIndex+1,n.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(n){var t=this.throughput.rate,i=Date.now()-n.endOfAllRequests+1,r=Math.floor(n.byteLength/i*8e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var i=t.segment,r=i.start,u=i.end;if(ptt(r)&&ptt(u)){ku(r,u,this.segmentMetadataTrack_);var o=n.WebKitDataCue||n.VTTCue,f={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:r,end:u},e=new o(r,u,JSON.stringify(f));e.value=f;this.segmentMetadataTrack_.addCue(e)}}}}]),uf);hy=new Uint8Array("\n\n".split("").map(function(n){return n.charCodeAt(0)}));dtt=(li(ff,sy),ti(ff,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return i.createTimeRanges();var n=this.subtitlesTrack_.cues,t=n[0].startTime,r=n[n.length-1].startTime;return i.createTimeRanges([[t,r]])}},{key:"initSegment",value:function(n,t){var e=1<arguments.length&&void 0!==t&&t,u,i,f,r;return n?(u=fh(n),i=this.initSegments_[u],e&&!i&&n.bytes&&(f=hy.byteLength+n.bytes.byteLength,r=new Uint8Array(f),r.set(n.bytes),r.set(hy,n.bytes.byteLength),this.initSegments_[u]=i={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:r}),i||n):null}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(n){return"undefined"==typeof n||(this.subtitlesTrack_=n,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(n,t){ku(n,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this,n;if(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),n=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_),n=this.skipEmptySegments_(n)){if(null===this.syncController_.timestampOffsetForTimeline(n.timeline))return this.syncController_.one("timestampoffset",function(){t.state="READY";t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(n)}}},{key:"skipEmptySegments_",value:function(n){for(;n&&n.segment.empty;)n=this.generateSegmentInfo_(n.playlist,n.mediaIndex+1,n.startOfSegment+n.duration,n.isSyncRequest);return n}},{key:"handleSegment_",value:function(){var i=this,t,u,r,f;if(this.pendingSegment_&&this.subtitlesTrack_){if(this.state="APPENDING",t=this.pendingSegment_,u=t.segment,"function"!=typeof n.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_)return r=void 0,f=function(){i.subtitlesTrack_.tech_.off("vttjsloaded",r);i.error({message:"Error loading vtt.js"});i.state="READY";i.pause();i.trigger("error")},r=function(){i.subtitlesTrack_.tech_.off("vttjserror",f);i.handleSegment_()},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",r),void this.subtitlesTrack_.tech_.one("vttjserror",f);u.requested=!0;try{this.parseVTTCues_(t)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength;this.mediaSecondsLoaded+=u.duration;t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime);t.cues.forEach(function(n){i.subtitlesTrack_.addCue(n)});this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,o=!1,r,u,f;"function"==typeof n.TextDecoder?e=new n.TextDecoder("utf8"):(e=n.WebVTT.StringDecoder(),o=!0);r=new n.WebVTT.Parser(n,n.vttjs,e);(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=t.cues.push.bind(t.cues),r.ontimestampmap=function(n){return t.timestampmap=n},r.onparsingerror=function(n){i.log.warn("Error encountered when parsing cues: "+n.message)},t.segment.map)&&(u=t.segment.map.bytes,o&&(u=ktt(u)),r.parse(u));f=t.bytes;o&&(f=ktt(f));r.parse(f);r.flush()}},{key:"updateTimeMapping_",value:function(n,t,i){var f=n.segment,r,u,e,o;t&&(n.cues.length?(r=n.timestampmap,u=r.MPEGTS/9e4-r.LOCAL+t.mapping,(n.cues.forEach(function(n){n.startTime+=u;n.endTime+=u}),i.syncInfo)||(e=n.cues[0].startTime,o=n.cues[n.cues.length-1].startTime,i.syncInfo={mediaSequence:i.mediaSequence+n.mediaIndex,time:Math.min(e,o-f.duration)})):f.empty=!0)}}]),ff);var sot=oet,gtt=[{name:"VOD",run:function(n,t,i){return i===1/0?null:{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(n,t,i,r,u){var f,s,h,e;if(!n.datetimeToDisplayTime)return null;var c=t.segments||[],l=null,o=null;for(u=u||0,f=0;f<c.length;f++)if(s=c[f],s.dateTimeObject){if(h=s.dateTimeObject.getTime()/1e3+n.datetimeToDisplayTime,e=Math.abs(u-h),null!==o&&(0===e||o<e))break;o=e;l={time:h,segmentIndex:f}}return l}},{name:"Segment",run:function(n,t,i,r,u){var c=t.segments||[],h=null,f=null,e,o,s;for(u=u||0,e=0;e<c.length;e++)if(o=c[e],o.timeline===r&&"undefined"!=typeof o.start){if(s=Math.abs(u-o.start),null!==f&&f<s)break;(!h||null===f||s<=f)&&(f=s,h={time:o.start,segmentIndex:e})}return h}},{name:"Discontinuity",run:function(n,t,i,r,u){var s=null,f,e,o;if(u=u||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(f=null,e=0;e<t.discontinuityStarts.length;e++){var c=t.discontinuityStarts[e],l=t.discontinuitySequence+e+1,h=n.discontinuities[l];if(h){if(o=Math.abs(u-h.time),null!==f&&f<o)break;(!s||null===f||o<=f)&&(f=o,s={time:h.time,segmentIndex:c})}}return s}},{name:"Playlist",run:function(n,t){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],hot=(li(ef,i.EventTarget),ti(ef,[{key:"getSyncPoint",value:function(n,t,i,r){var u=this.runStrategies_(n,t,i,r);return u.length?this.selectSyncPoint_(u,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(n,t){var r,i;return!n||!n.segments?null:(r=this.runStrategies_(n,t,n.discontinuitySequence,0),!r.length)?null:(i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0}),0<i.segmentIndex&&(i.time*=-1),Math.abs(i.time+ce(n,i.segmentIndex,0)))}},{key:"runStrategies_",value:function(n,t,i,r){for(var f,e,o=[],u=0;u<gtt.length;u++)f=gtt[u],e=f.run(this,n,t,i,r),e&&(e.strategy=f.name,o.push({strategy:f.name,syncPoint:e}));return o}},{key:"selectSyncPoint_",value:function(n,t){for(var u,r=n[0].syncPoint,f=Math.abs(n[0].syncPoint[t.key]-t.value),e=n[0].strategy,i=1;i<n.length;i++)u=Math.abs(n[i].syncPoint[t.key]-t.value),u<f&&(f=u,r=n[i].syncPoint,e=n[i].strategy);return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+e+"]: [time:"+r.time+", segmentIndex:"+r.segmentIndex+"]"),r}},{key:"saveExpiredSegmentInfo",value:function(n,t){for(var r,i=t.mediaSequence-n.mediaSequence-1;0<=i;i--)if(r=n.segments[i],r&&"undefined"!=typeof r.start){t.syncInfo={mediaSequence:n.mediaSequence+i,time:r.start};this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]");this.trigger("syncinfoupdate");break}}},{key:"setDateTimeMapping",value:function(n){if(!this.datetimeToDisplayTime&&n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var t=n.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(n){var r=n.segment,t=n.playlist,i=void 0;return(i=r.map?this.probeMp4Segment_(n):this.probeTsSegment_(n))&&this.calculateSegmentTimeMapping_(n,i)&&(this.saveDiscontinuitySyncInfo_(n),t.syncInfo||(t.syncInfo={mediaSequence:t.mediaSequence+n.mediaIndex,time:r.start})),i}},{key:"probeMp4Segment_",value:function(n){var i=n.segment,r=ci.timescale(i.map.bytes),t=ci.compositionStartTime(r,n.bytes);return null!==n.timestampOffset&&(n.timestampOffset-=t),{start:t,end:t+i.duration}}},{key:"probeTsSegment_",value:function(n){var t=sot(n.bytes,this.inspectCache_),i=void 0,r=void 0,u=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,r=t.video[1].dtsTime,u=t.video):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,r=t.audio[1].dtsTime,u=t.audio),{segmentTimestampInfo:u,start:i,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(n){return"undefined"==typeof this.timelines[n]?null:this.timelines[n].time}},{key:"mappingForTimeline",value:function(n){return"undefined"==typeof this.timelines[n]?null:this.timelines[n].mapping}},{key:"calculateSegmentTimeMapping_",value:function(n,t){var r=n.segment,i=this.timelines[n.timeline];if(null!==n.timestampOffset)i={time:n.startOfSegment,mapping:n.startOfSegment-t.start},this.timelines[n.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]"),r.start=n.startOfSegment,r.end=t.end+i.mapping;else{if(!i)return!1;r.start=t.start+i.mapping;r.end=t.end+i.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(n){var t=n.playlist,i=n.segment,r,e;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(r=0;r<t.discontinuityStarts.length;r++){var u=t.discontinuityStarts[r],f=t.discontinuitySequence+r+1,o=u-n.mediaIndex,s=Math.abs(o);(!this.discontinuities[f]||this.discontinuities[f].accuracy>s)&&(e=void 0,e=o<0?i.start-ce(t,n.mediaIndex,u):i.end+ce(t,n.mediaIndex+1,u),this.discontinuities[f]={time:e,accuracy:s})}}}]),ef);var lot=new rtt("./decrypter-worker.worker.js",function(){function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function v(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function e(t){f(this,e);n=n||function(){for(var h=[[[],[],[],[],[]],[[],[],[],[],[]]],f=h[0],e=h[1],l=f[4],y=e[4],n=void 0,i=void 0,t=void 0,u=[],a=[],c=void 0,v=void 0,r=void 0,o=void 0,s=void 0,n=0;n<256;n++)a[(u[n]=n<<1^283*(n>>7))^n]=n;for(i=t=0;!l[i];i^=c||1,t=a[t]||1)for(r=(r=t^t<<1^t<<2^t<<3^t<<4)>>8^255&r^99,s=16843009*u[v=u[c=u[y[l[i]=r]=i]]]^65537*v^257*c^16843008*i,o=257*u[r]^16843008*r,n=0;n<4;n++)f[n][i]=o=o<<24^o>>>8,e[n][r]=s=s<<24^s>>>8;for(n=0;n<5;n++)f[n]=f[n].slice(0),e[n]=e[n].slice(0);return h}();this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];var r=void 0,h=void 0,i=void 0,s=void 0,a=void 0,o=this._tables[0][4],c=this._tables[1],u=t.length,l=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(s=t.slice(0),a=[],this._key=[s,a],r=u;r<4*u+28;r++)i=s[r-1],(r%u==0||8===u&&r%u==4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],r%u==0&&(i=i<<8^i>>>24^l<<24,l=l<<1^283*(l>>7))),s[r]=s[r-u]^i;for(h=0;r;h++,r--)i=s[3&h?r:r-4],a[h]=r<=4||h<4?i:c[0][o[i>>>24]]^c[1][o[i>>16&255]]^c[2][o[i>>8&255]]^c[3][o[255&i]]}function i(){f(this,i);this.listeners={}}function r(){f(this,r);var n=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}(this,c.call(this,h));return n.jobs=[],n.delay=1,n.timeout_=null,n}function t(n){return n<<24|(65280&n)<<8|(16711680&n)>>8|n>>>24}function u(n,i,r,e){f(this,u);var h=u.STEP,s=new Int32Array(n.buffer),c=new Uint8Array(n.byteLength),o=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+h),i,r,c)),o=h;o<s.length;o+=h)r=new Uint32Array([t(s[o-4]),t(s[o-3]),t(s[o-2]),t(s[o-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(o,o+h),i,r,c));this.asyncStream_.push(function(){e(null,function(n){return n.subarray(0,n.byteLength-n[n.byteLength-1])}(c))})}var o,n,s,h,c,l,a,y=this;o=function(n,t,i){return t&&v(n.prototype,t),i&&v(n,i),n};n=null;e.prototype.decrypt=function(n,t,i,r,u,f){for(var e=this._key[1],o=n^e[0],s=r^e[1],h=i^e[2],c=t^e[3],y=void 0,g=void 0,nt=void 0,tt=e.length/4-2,l=void 0,a=4,v=this._tables[1],p=v[0],w=v[1],b=v[2],k=v[3],d=v[4],l=0;l<tt;l++)y=p[o>>>24]^w[s>>16&255]^b[h>>8&255]^k[255&c]^e[a],g=p[s>>>24]^w[h>>16&255]^b[c>>8&255]^k[255&o]^e[a+1],nt=p[h>>>24]^w[c>>16&255]^b[o>>8&255]^k[255&s]^e[a+2],c=p[c>>>24]^w[o>>16&255]^b[s>>8&255]^k[255&h]^e[a+3],a+=4,o=y,s=g,h=nt;for(l=0;l<4;l++)u[(3&-l)+f]=d[o>>>24]<<24^d[s>>16&255]<<16^d[h>>8&255]<<8^d[255&c]^e[a++],y=o,o=s,s=h,h=c,c=y};s=e;i.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)};i.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),-1<i};i.prototype.trigger=function(n,t){var i=this.listeners[n],f,r;if(i)if(2===arguments.length)for(f=i.length,r=0;r<f;++r)i[r].call(this,t);else for(var e=Array.prototype.slice.call(arguments,1),o=i.length,u=0;u<o;++u)i[u].apply(this,e)};i.prototype.dispose=function(){this.listeners={}};i.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(r,c=h=i);r.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null};r.prototype.push=function(n){this.jobs.push(n);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))};l=r;u.prototype.decryptChunk_=function(n,i,r,u){return function(){var f=function(n,i,r){var e=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),b=new s(Array.prototype.slice.call(i)),w=new Uint8Array(n.byteLength),f=new Int32Array(w.buffer),o=void 0,h=void 0,c=void 0,l=void 0,a=void 0,v=void 0,y=void 0,p=void 0,u=void 0;for(o=r[0],h=r[1],c=r[2],l=r[3],u=0;u<e.length;u+=4)a=t(e[u]),v=t(e[u+1]),y=t(e[u+2]),p=t(e[u+3]),b.decrypt(a,v,y,p,f,u),f[u]=t(f[u]^o),f[u+1]=t(f[u+1]^h),f[u+2]=t(f[u+2]^c),f[u+3]=t(f[u+3]^l),o=a,h=v,c=y,l=p;return w}(n,i,r);u.set(f,n.byteOffset)}};o(u,null,[{key:"STEP",get:function(){return 32e3}}]);a=u,new function(n){n.onmessage=function(t){var i=t.data,r=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),u=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),f=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new a(r,u,f,function(t,r){n.postMessage(function(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i];t[i]=ArrayBuffer.isView(r)?{bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:r}),t}({source:i.source,decrypted:r}),[r.buffer])})}}(y)}),ch={AUDIO:function(n,t){return function(){var o=t.segmentLoaders[n],r=t.mediaTypes[n],s=t.blacklistCurrentPlaylist,u;hh(o,r);var h=r.activeTrack(),f=r.activeGroup(),c=(f.filter(function(n){return n.default})[0]||f[0]).id,e=r.tracks[c];if(h!==e){for(u in i.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[u].enabled=r.tracks[u]===e;r.onTrackChanged()}else s({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,t){return function(){var f=t.segmentLoaders[n],r=t.mediaTypes[n],u;i.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");hh(f,r);u=r.activeTrack();u&&(u.mode="disabled");r.onTrackChanged()}}},tit={AUDIO:function(n,t,i){if(t){var u=i.tech,f=i.requestOptions,r=i.segmentLoaders[n];t.on("loadedmetadata",function(){var n=t.media();r.playlist(n,f);(!u.paused()||n.endList&&"none"!==u.preload())&&r.load()});t.on("loadedplaylist",function(){r.playlist(t.media(),f);u.paused()||r.load()});t.on("error",ch[n](n,i))}},SUBTITLES:function(n,t,i){var u=i.tech,f=i.requestOptions,r=i.segmentLoaders[n],e=i.mediaTypes[n];t.on("loadedmetadata",function(){var n=t.media();r.playlist(n,f);r.track(e.activeTrack());(!u.paused()||n.endList&&"none"!==u.preload())&&r.load()});t.on("loadedplaylist",function(){r.playlist(t.media(),f);u.paused()||r.load()});t.on("error",ch[n](n,i))}},aot={AUDIO:function(n,t){var o,s,l=t.hls,w=t.sourceType,b=t.segmentLoaders[n],a=t.requestOptions,f=t.master.mediaGroups,v=t.mediaTypes[n],h=v.groups,y=v.tracks,k=t.masterPlaylistLoader,e,u,r,c,p;for(e in f[n]&&0!==Object.keys(f[n]).length||(f[n]={main:{"default":{"default":!0}}}),f[n])for(u in h[e]||(h[e]=[]),f[n][e])r=f[n][e][u],c=void 0,(c=r.resolvedUri?new rh(r.resolvedUri,l,a):r.playlists&&"dash"===w?new oh(r.playlists[0],l,a,k):null,r=i.mergeOptions({id:u,playlistLoader:c},r),tit[n](n,r.playlistLoader,t),h[e].push(r),"undefined"==typeof y[u])&&(p=new i.AudioTrack({id:u,kind:(o=r,s=void 0,s=o.default?"main":"alternative",o.characteristics&&0<=o.characteristics.indexOf("public.accessibility.describes-video")&&(s="main-desc"),s),enabled:!1,language:r.language,"default":r.default,label:u}),y[u]=p);b.on("error",ch[n](n,t))},SUBTITLES:function(n,t){var p=t.tech,h=t.hls,c=t.sourceType,w=t.segmentLoaders[n],l=t.requestOptions,e=t.master.mediaGroups,a=t.mediaTypes[n],s=a.groups,v=a.tracks,b=t.masterPlaylistLoader,f,u,r,o,y;for(f in e[n])for(u in s[f]||(s[f]=[]),e[n][f])e[n][f][u].forced||(r=e[n][f][u],o=void 0,("hls"===c?o=new rh(r.resolvedUri,h,l):"dash"===c&&(o=new oh(r.playlists[0],h,l,b)),r=i.mergeOptions({id:u,playlistLoader:o},r),tit[n](n,r.playlistLoader,t),s[f].push(r),"undefined"==typeof v[u])&&(y=p.addRemoteTextTrack({id:u,kind:"subtitles","default":r.default&&r.autoselect,language:r.language,label:u},!1).track,v[u]=y));w.on("error",ch[n](n,t))},"CLOSED-CAPTIONS":function(n,t){var l=t.tech,e=t.master.mediaGroups,s=t.mediaTypes[n],o=s.groups,h=s.tracks,u,f,r,c;for(u in e[n])for(f in o[u]||(o[u]=[]),e[n][u])r=e[n][u][f],r.instreamId.match(/CC\d/)&&(o[u].push(i.mergeOptions({id:f},r)),"undefined"==typeof h[f])&&(c=l.addRemoteTextTrack({id:r.instreamId,kind:"captions","default":r.default&&r.autoselect,language:r.language,label:f},!1).track,h[f]=c)}},vot={AUDIO:function(n,t){return function(){var i=t.mediaTypes[n].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(n,t){return function(){var i=t.mediaTypes[n].tracks;for(var r in i)if("showing"===i[r].mode)return i[r];return null}}},ki=void 0,yot=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],pot=(li(of,i.EventTarget),ti(of,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=n.masterPlaylistLoader_.media(),r=1.5*t.targetDuration*1e3;n.requestOptions_.timeout=lv(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:r;t.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(t,n.requestOptions_),n.mainSegmentLoader_.load());cot({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)});n.triggerPresenceUsage_(n.master(),t);try{n.setupSourceBuffers_()}catch(t){return i.log.warn("Failed to create SourceBuffers",t),n.mediaSource.endOfStream("decode")}n.setupFirstPlay();!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})});this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=n.masterPlaylistLoader_.media(),i,r;if(!t)return n.excludeUnsupportedVariants_(),i=void 0,n.enableLowInitialPlaylist&&(i=n.selectInitialPlaylist()),i=i||n.selectPlaylist(),n.initialMedia_=i,void n.masterPlaylistLoader_.media(n.initialMedia_);(n.useCueTags_&&n.updateAdCues_(t),n.mainSegmentLoader_.playlist(t,n.requestOptions_),n.updateDuration(),n.tech_.paused()||(n.mainSegmentLoader_.load(),n.audioSegmentLoader_&&n.audioSegmentLoader_.load()),t.endList)||(r=function(){var t=n.seekable();0!==t.length&&n.mediaSource.addSeekableRange_(t.start(0),t.end(0))},n.duration()!==1/0?n.tech_.one("durationchange",function t(){n.duration()===1/0?r():n.tech_.one("durationchange",t)}):r())});this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)});this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort();n.mainSegmentLoader_.pause()});this.masterPlaylistLoader_.on("mediachange",function(){var t=n.masterPlaylistLoader_.media(),i=1.5*t.targetDuration*1e3;n.requestOptions_.timeout=lv(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:i;n.mainSegmentLoader_.playlist(t,n.requestOptions_);n.mainSegmentLoader_.load();n.tech_.trigger({type:"mediachange",bubbles:!0})});this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=n.masterPlaylistLoader_.media();n.stuckAtPlaylistEnd_(t)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))});this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})});this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(n,t){var i=n.mediaGroups||{},u=!0,f=Object.keys(i.AUDIO),r,e;for(r in i.AUDIO)for(e in i.AUDIO[r])i.AUDIO[r][e].uri||(u=!1);u&&this.tech_.trigger({type:"usage",name:"hls-demuxed"});Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"});ki.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"});ki.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"});f.length&&1<Object.keys(i.AUDIO[f[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"});this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var n=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var i=n.selectPlaylist(),r=n.masterPlaylistLoader_.media(),t=n.tech_.buffered(),u=t.length?t.end(t.length-1)-n.tech_.currentTime():0,f=n.bufferLowWaterLine();(!r.endList||n.duration()<wt.MAX_BUFFER_LOW_WATER_LINE||i.attributes.BANDWIDTH<r.attributes.BANDWIDTH||f<=u)&&n.masterPlaylistLoader_.media(i);n.tech_.trigger("bandwidthupdate")});this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")});this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())});this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})});this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("ended",function(){n.onEndOfStream()});this.mainSegmentLoader_.on("earlyabort",function(){n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)});this.mainSegmentLoader_.on("reseteverything",function(){n.tech_.trigger("hls-reset")});this.mainSegmentLoader_.on("segmenttimemapping",function(t){n.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})});this.audioSegmentLoader_.on("ended",function(){n.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var n=this.selectPlaylist();n!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(n),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var n=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){i.browser.IE_VERSION||i.browser.IS_EDGE?n.tech_.setCurrentTime(n.tech_.currentTime()+.04):n.tech_.setCurrentTime(n.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0);this.hasPlayed_()&&this.load();var n=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0)?this.seekTo_(n.end(n.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,r=this.masterPlaylistLoader_.media(),n;if(!r||this.tech_.paused()||this.hasPlayed_())return!1;if(!r.endList){if(n=this.seekable(),!n.length)return!1;if(i.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay");t.seekTo_(n.end(0));t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay");this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(n){return i.log.warn("Failed to create Source Buffers",n),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var n=this.tech_.play();"undefined"!=typeof n&&"function"==typeof n.then&&n.then(null,function(){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?n&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),n){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(n){i.log.warn("Failed to call media source endOfStream",n)}}}},{key:"stuckAtPlaylistEnd_",value:function(n){var t,r;if(!this.seekable().length||(t=this.syncController_.getExpiredTime(n,this.mediaSource.duration),null===t))return!1;var u=ki.Playlist.playlistEnd(n,t),f=this.tech_.currentTime(),i=this.tech_.buffered();return i.length?(r=i.end(i.length-1),r-f<=.1&&u-r<=.1):u-f<=.1}},{key:"blacklistCurrentPlaylist",value:function(n,t){var s,r=0<arguments.length&&void 0!==n?n:{},f=t,e=void 0,u,o;if(e=r.playlist||this.masterPlaylistLoader_.media(),f=f||r.blacklistDuration||this.blacklistDuration,!e){this.error=r;try{return this.mediaSource.endOfStream("network")}catch(n){return this.trigger("error")}}return u=1===this.masterPlaylistLoader_.master.playlists.filter(uh).length,o=this.masterPlaylistLoader_.master.playlists,1===o.length?(i.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u)):(u&&(i.log.warn("Removing all playlists from the blacklist because the last rendition is about to be blacklisted."),o.forEach(function(n){n.excludeUntil!==1/0&&delete n.excludeUntil}),this.tech_.trigger("retryplaylist")),e.excludeUntil=Date.now()+1e3*f,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),s=this.selectPlaylist(),i.log.warn("Problem encountered with the current HLS playlist."+(r.message?" "+r.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(s,u))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(n){var t=dn(this.tech_.buffered(),n);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?n:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:ki.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var n=void 0,t=void 0,r,u,f,e;if(this.masterPlaylistLoader_&&(r=this.masterPlaylistLoader_.media(),r&&(u=this.syncController_.getExpiredTime(r,this.mediaSource.duration),null!==u&&0!==(n=ki.Playlist.seekable(r,u)).length))){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(u=this.syncController_.getExpiredTime(r,this.mediaSource.duration)))return;if(0===(t=ki.Playlist.seekable(r,u)).length)return}f=void 0;e=void 0;this.seekable_&&this.seekable_.length&&(f=this.seekable_.end(0),e=this.seekable_.start(0));this.seekable_=t?t.start(0)>n.end(0)||n.start(0)>t.end(0)?n:i.createTimeRanges([[t.start(0)>n.start(0)?t.start(0):n.start(0),t.end(0)<n.end(0)?t.end(0):n.end(0)]]):n;this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===f&&this.seekable_.start(0)===e||(this.logger_("seekable updated ["+vv(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}},{key:"updateDuration",value:function(){function r(){n.logger_("Setting duration from "+n.mediaSource.duration+" => "+t);try{n.mediaSource.duration=t}catch(r){i.log.warn("Failed to set media source duration",r)}n.tech_.trigger("durationchange");n.mediaSource.removeEventListener("sourceopen",r)}var n=this,f=this.mediaSource.duration,t=ki.Playlist.duration(this.masterPlaylistLoader_.media()),u=this.tech_.buffered();0<u.length&&(t=Math.max(t,u.end(u.length-1)));f!==t&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();["AUDIO","SUBTITLES"].forEach(function(t){var i=n.mediaTypes_[t].groups;for(var r in i)i[r].forEach(function(n){n.playlistLoader&&n.playlistLoader.dispose()})});this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,n=this.masterPlaylistLoader_.media();if(n&&"open"===this.mediaSource.readyState){if((t=tot(this.masterPlaylistLoader_.master,n)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+n.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t);this.excludeIncompatibleVariants_(n)}}},{key:"configureLoaderMimeTypes_",value:function(n){var t=1<n.length&&-1===n[0].indexOf(",")&&n[0]!==n[1]?new i.EventTarget:null;this.mainSegmentLoader_.mimeType(n[0],t);n[1]&&this.audioSegmentLoader_.mimeType(n[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){t.attributes.CODECS&&n.MediaSource&&n.MediaSource.isTypeSupported&&!n.MediaSource.isTypeSupported('video/mp4; codecs="'+function(n){return n.replace(/avc1\.(\d+)\.(\d+)/i,function(n){return ftt([n])[0]})}(t.attributes.CODECS)+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(n){var i=2,r=null,t=void 0;n.attributes.CODECS&&(t=le(n.attributes.CODECS),r=t.videoCodec,i=t.codecCount);this.master().playlists.forEach(function(n){var t={codecCount:2,videoCodec:null};n.attributes.CODECS&&(t=le(n.attributes.CODECS));t.codecCount!==i&&(n.excludeUntil=1/0);t.videoCodec!==r&&(n.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var i=0,r=this.seekable();r.length&&(i=r.start(0)),function(t,i,r){var a=2<arguments.length&&void 0!==r?r:0,e,h,c,l,s;if(t.segments)for(var u=a,f=void 0,o=0;o<t.segments.length;o++){if(e=t.segments[o],f=f||oot(i,u+e.duration/2)){if("cueIn"in e){f.endTime=u;f.adEndTime=u;u+=e.duration;f=null;continue}if(u<f.endTime){u+=e.duration;continue}f.endTime+=e.duration}else("cueOut"in e&&((f=new n.VTTCue(u,u+e.duration,e.cueOut)).adStartTime=u,f.adEndTime=u+parseFloat(e.cueOut),i.addCue(f)),"cueOutCont"in e)&&(l=e.cueOutCont.split("/").map(parseFloat),s=set(l,2),h=s[0],c=s[1],(f=new n.VTTCue(u,u+e.duration,"")).adStartTime=u-h,f.adEndTime=f.adStartTime+c,i.addCue(f));u+=e.duration}}(t,this.cueTagsTrack_,i)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),n=wt.GOAL_BUFFER_LENGTH,i=wt.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,wt.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+t*i,r)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),n=wt.BUFFER_LOW_WATER_LINE,i=wt.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,wt.MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+t*i,r)}}]),of);return cy=["seeking","seeked","pause","playing","error"],rit=(ti(ly,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_();this.checkCurrentTimeTimeout_&&n.clearTimeout(this.checkCurrentTimeTimeout_);this.checkCurrentTimeTimeout_=n.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var n=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===n&&(!t.length||n+.1>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0;this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_));this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var n=this.seekable(),i=this.tech_.currentTime(),t=void 0;return this.afterSeekableWindow_(n,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=n.end(n.length-1)),this.beforeSeekableWindow_(n,i)&&(t=n.start(0)+.1),"undefined"!=typeof t&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+vv(n)+". Seeking to "+t+"."),this.seekTo(t),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),i=this.tech_.buffered(),t=dn(i,n);return t.length&&n+3<=t.end(0)?(this.cancelTimer_(),this.seekTo(n),this.logger_("Stopped at "+n+" while inside a buffered region ["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var i=this.seekable(),n=this.tech_.currentTime(),r,u,t,f;return this.tech_.seeking()&&this.fixesBadSeeks_()?!0:this.tech_.seeking()||null!==this.timer_?!0:this.beforeSeekableWindow_(i,n)?(r=i.end(i.length-1),this.logger_("Fell out of live window at time "+n+". Seeking to live point (seekable end) "+r),this.cancelTimer_(),this.seekTo(r),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0):(u=this.tech_.buffered(),t=gn(u,n),this.videoUnderflow_(t,u,n))?(this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):0<t.length?(f=t.start(0)-n,this.logger_("Stopped at "+n+", setting timer for "+f+", seeking to "+t.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*f,n),!0):!1}},{key:"afterSeekableWindow_",value:function(n,t,i,r){var f=3<arguments.length&&void 0!==r&&r,u;return n.length?(u=n.end(n.length-1)+.1,!i.endList&&f&&(u=n.end(n.length-1)+3*i.targetDuration),u<t):!1}},{key:"beforeSeekableWindow_",value:function(n,t){return!!(n.length&&0<n.start(0)&&t<n.start(0)-.1)}},{key:"videoUnderflow_",value:function(n,t,i){if(0===n.length){var r=this.gapFromVideoUnderflow_(t,i);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(n){var r=this.tech_.buffered(),t=this.tech_.currentTime(),i=gn(r,t);this.cancelTimer_();0!==i.length&&t===n&&(this.logger_("skipTheGap_:","currentTime:",t,"scheduled currentTime:",n,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(n,t){for(var f,e,u=function(n){var r,t,u,f;if(n.length<2)return i.createTimeRanges();for(r=[],t=1;t<n.length;t++)u=n.end(t-1),f=n.start(t),r.push([u,f]);return i.createTimeRanges(r)}(n),r=0;r<u.length;r++)if(f=u.start(r),e=u.end(r),t-f<4&&2<t-f)return{start:f,end:e};return null}}]),ly),fit={errorInterval:30,getSource:function(n){return n(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},i.use("*",function(n){return{setSource:function(n,t){t(null,n)},setCurrentTime:function(t){return n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(t),t},play:function(){n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(n.tech_.currentTime())}}}),st={PlaylistLoader:rh,Playlist:at,Decrypter:gg,AsyncStream:ov,decrypt:dg,utils:det,STANDARD_PLAYLIST_SELECTOR:function(){return function(t,i,r,u,f){var e=t.playlists.map(function(t){var i,r;return i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,r=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||n.Number.MAX_VALUE,width:i,height:r,playlist:t}}),o,v,c,l,p;ye(e,function(n,t){return n.bandwidth-t.bandwidth});o=(e=e.filter(function(n){return!at.isIncompatible(n.playlist)})).filter(function(n){return at.isEnabled(n.playlist)});o.length||(o=e.filter(function(n){return!at.isDisabled(n.playlist)}));var h=o.filter(function(n){return n.bandwidth*wt.BANDWIDTH_VARIANCE<i}),s=h[h.length-1],w=h.filter(function(n){return n.bandwidth===s.bandwidth})[0];if(!1===f)return v=w||o[0]||e[0],v?v.playlist:null;c=h.filter(function(n){return n.width&&n.height});ye(c,function(n,t){return n.width-t.width});l=c.filter(function(n){return n.width===r&&n.height===u});s=l[l.length-1];var b=l.filter(function(n){return n.bandwidth===s.bandwidth})[0],y=void 0,a=void 0,k=void 0;return b||(a=(y=c.filter(function(n){return n.width>r||n.height>u})).filter(function(n){return n.width===y[0].width&&n.height===y[0].height}),s=a[a.length-1],k=a.filter(function(n){return n.bandwidth===s.bandwidth})[0]),p=k||b||w||o[0]||e[0],p?p.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(ytt(this.tech_.el(),"width"),10),parseInt(ytt(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var n=this.playlists.master.playlists.filter(at.isEnabled);return ye(n,function(n,t){return oy(n,t)}),n.filter(function(n){return le(n.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:oy,comparePlaylistResolution:function(t,i){var r=void 0,u=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||n.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(u=i.attributes.RESOLUTION.width),r===(u=u||n.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?t.attributes.BANDWIDTH-i.attributes.BANDWIDTH:r-u},xhr:vn()},["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(n){Object.defineProperty(st,n,{get:function(){return i.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing"),wt[n]},set:function(t){i.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing");"number"!=typeof t||t<0?i.log.warn("value of Hls."+n+" must be greater than or equal to 0"):wt[n]=t}})}),ay="videojs-vhs",st.canPlaySource=function(){return i.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},st.supportsNativeHls=function(){var n=t.createElement("video");return i.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(n.canPlayType(t))}):!1}(),st.supportsNativeDash=!!i.getTech("Html5").isSupported()&&/maybe|probably/i.test(t.createElement("video").canPlayType("application/dash+xml")),st.supportsTypeNatively=function(n){return"hls"===n?st.supportsNativeHls:"dash"===n&&st.supportsNativeDash},st.isSupported=function(){return i.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},hit=i.getComponent("Component"),vy=(li(di,hit),ti(di,[{key:"setOptions_",value:function(){var t=this,n;(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage="undefined"!=typeof this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage)&&(n=sit(),n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"})));"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=wt.INITIAL_BANDWIDTH);this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===wt.INITIAL_BANDWIDTH;["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys"].forEach(function(n){"undefined"!=typeof t.source_[n]&&(t.options_[n]=t.source_[n])});this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(n,t){var r=this;n&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=st,this.options_.sourceType=eit(t),this.options_.seekTo=function(n){r.tech_.setCurrentTime(n);r.setCurrentTime(n)},this.masterPlaylistController_=new pot(this.options_),this.playbackWatcher_=new rit(i.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){i.players[r.tech_.options_.playerId].error(r.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):st.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=st.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(n){this.masterPlaylistController_.selectPlaylist=n.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=n;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=n;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),n=void 0;return n=0<this.throughput?1/this.throughput:0,Math.floor(1/(t+n))},set:function(){i.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return ntt(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ntt(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){r.options_.useBandwidthFromLocalStorage&&function(n){if(window.localStorage){var t=sit();t=t?i.mergeOptions(t,n):n;try{window.localStorage.setItem(ay,JSON.stringify(t))}catch(n){return}}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(n){var t=n.playlists;n.representations=function(){return t.master.playlists.filter(function(n){return!cv(n)}).map(function(t){return new iit(n,t,t.uri)})}}(r);wot(r)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return r.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(i.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var n=this,t=i.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(n,t){t.representations().forEach(function(t){n.addQualityLevel(t)});oit(n,t.playlists)}(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){oit(n.qualityLevels_,n.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(n){this.masterPlaylistController_.setCurrentTime(n)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose();this.masterPlaylistController_&&this.masterPlaylistController_.dispose();this.qualityLevels_&&this.qualityLevels_.dispose();this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls);this.tech_&&this.tech_.hls&&delete this.tech_.hls,function n(t,i,r){var u,f,e;return(null===t&&(t=Function.prototype),u=Object.getOwnPropertyDescriptor(t,i),void 0===u)?(f=Object.getPrototypeOf(t),null===f?void 0:n(f,i,r)):"value"in u?u.value:(e=u.get,void 0!==e?e.call(r):void 0)}(di.prototype.__proto__||Object.getPrototypeOf(di.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(n,t){return vet({playlist:this.masterPlaylistController_.media(),time:n,callback:t})}},{key:"seekToProgramTime",value:function(n,t,i,r){var u=!(2<arguments.length&&void 0!==i)||i,f=3<arguments.length&&void 0!==r?r:2;return bn({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:f,pauseAfterSeek:u,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),di),lh={name:"videojs-http-streaming",VERSION:"1.11.2",canHandleSource:function(n,t){var r=i.mergeOptions(i.options,1<arguments.length&&void 0!==t?t:{});return lh.canPlayType(n.type,r)},handleSource:function(n,t,r){var u=i.mergeOptions(i.options,2<arguments.length&&void 0!==r?r:{});return t.hls=new vy(n,t,u),t.hls.xhr=vn(),t.hls.src(n.src,n.type),t.hls},canPlayType:function(n,t){var u=i.mergeOptions(i.options,1<arguments.length&&void 0!==t?t:{}).hls.overrideNative,r=eit(n);return r&&(!st.supportsTypeNatively(r)||u)?"maybe":""}},"undefined"!=typeof i.MediaSource&&"undefined"!=typeof i.URL||(i.MediaSource=ae,i.URL=iy),ae.supportsNativeMediaSources()&&i.getTech("Html5").registerSourceHandler(lh,0),i.HlsHandler=vy,i.HlsSourceHandler=lh,i.Hls=st,i.use||i.registerComponent("Hls",st),i.options.hls=i.options.hls||{},i.registerPlugin?i.registerPlugin("reloadSourceOnError",uit):i.plugin("reloadSourceOnError",uit),i});
/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
(function(n,t){function dt(n){var t=n.length,r=i.type(n);return i.isWindow(n)?!1:1===n.nodeType&&t?!0:"array"===r||"function"!==r&&(0===t||"number"==typeof t&&t>0&&t-1 in n)}function kf(n){var t=gt[n]={};return i.each(n.match(s)||[],function(n,i){t[i]=!0}),t}function ir(n,r,u,f){if(i.acceptData(n)){var s,h,c=i.expando,a="string"==typeof r,l=n.nodeType,o=l?i.cache:n,e=l?n[c]:n[c]&&c;if(e&&o[e]&&(f||o[e].data)||!a||u!==t)return e||(l?n[c]=e=b.pop()||i.guid++:e=c),o[e]||(o[e]={},l||(o[e].toJSON=i.noop)),("object"==typeof r||"function"==typeof r)&&(f?o[e]=i.extend(o[e],r):o[e].data=i.extend(o[e].data,r)),s=o[e],f||(s.data||(s.data={}),s=s.data),u!==t&&(s[i.camelCase(r)]=u),a?(h=s[r],null==h&&(h=s[i.camelCase(r)])):h=s,h}}function rr(n,t,r){if(i.acceptData(n)){var o,h,e,s=n.nodeType,u=s?i.cache:n,f=s?n[i.expando]:i.expando;if(u[f]){if(t&&(e=r?u[f]:u[f].data)){for(i.isArray(t)?t=t.concat(i.map(t,i.camelCase)):(t in e)?t=[t]:(t=i.camelCase(t),t=(t in e)?[t]:t.split(" ")),o=0,h=t.length;h>o;o++)delete e[t[o]];if(!(r?ni:i.isEmptyObject)(e))return}(r||(delete u[f].data,ni(u[f])))&&(s?i.cleanData([n],!0):i.support.deleteExpando||u!=u.window?delete u[f]:u[f]=null)}}}function ur(n,r,u){if(u===t&&1===n.nodeType){var f="data-"+r.replace(tr,"-$1").toLowerCase();if(u=n.getAttribute(f),"string"==typeof u){try{u="true"===u?!0:"false"===u?!1:"null"===u?null:+u+""===u?+u:nr.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function ni(n){for(var t in n)if(("data"!==t||!i.isEmptyObject(n[t]))&&"toJSON"!==t)return!1;return!0}function ht(){return!0}function d(){return!1}function cr(n,t){do n=n[t];while(n&&1!==n.nodeType);return n}function lr(n,t,r){if(t=t||0,i.isFunction(t))return i.grep(n,function(n,i){var u=!!t.call(n,i,n);return u===r});if(t.nodeType)return i.grep(n,function(n){return n===t===r});if("string"==typeof t){var u=i.grep(n,function(n){return 1===n.nodeType});if(fe.test(t))return i.filter(t,u,!r);t=i.filter(t,u)}return i.grep(n,function(n){return i.inArray(n,t)>=0===r})}function ar(n){var i=vr.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function ye(n,t){return n.getElementsByTagName(t)[0]||n.appendChild(n.ownerDocument.createElement(t))}function dr(n){var t=n.getAttributeNode("type");return n.type=(t&&t.specified)+"/"+n.type,n}function gr(n){var t=le.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function si(n,t){for(var u,r=0;null!=(u=n[r]);r++)i._data(u,"globalEval",!t||i._data(t[r],"globalEval"))}function nu(n,t){if(1===t.nodeType&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;o>f;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function pe(n,t){var r,f,u;if(1===t.nodeType){if(r=t.nodeName.toLowerCase(),!i.support.noCloneEvent&&t[i.expando]){u=i._data(t);for(f in u.events)i.removeEvent(t,f,u.handle);t.removeAttribute(i.expando)}"script"===r&&t.text!==n.text?(dr(t).text=n.text,gr(t)):"object"===r?(t.parentNode&&(t.outerHTML=n.outerHTML),i.support.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):"input"===r&&ei.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):"option"===r?t.defaultSelected=t.selected=n.defaultSelected:("input"===r||"textarea"===r)&&(t.defaultValue=n.defaultValue)}}function u(n,r){var s,e,h=0,f=typeof n.getElementsByTagName!==o?n.getElementsByTagName(r||"*"):typeof n.querySelectorAll!==o?n.querySelectorAll(r||"*"):t;if(!f)for(f=[],s=n.childNodes||n;null!=(e=s[h]);h++)!r||i.nodeName(e,r)?f.push(e):i.merge(f,u(e,r));return r===t||r&&i.nodeName(n,r)?i.merge([n],f):f}function we(n){ei.test(n.type)&&(n.defaultChecked=n.checked)}function fu(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=uu.length;i--;)if(t=uu[i]+r,t in n)return t;return u}function ut(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)}function eu(n,t){for(var f,r,o,e=[],u=0,s=n.length;s>u;u++)r=n[u],r.style&&(e[u]=i._data(r,"olddisplay"),f=r.style.display,t?(e[u]||"none"!==f||(r.style.display=""),""===r.style.display&&ut(r)&&(e[u]=i._data(r,"olddisplay",cu(r.nodeName)))):e[u]||(o=ut(r),(f&&"none"!==f||!o)&&i._data(r,"olddisplay",o?f:i.css(r,"display"))));for(u=0;s>u;u++)r=n[u],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?e[u]||"":"none"));return n}function ou(n,t,i){var r=ge.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function su(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+p[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+p[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function hu(n,t,r){var e=!0,u="width"===t?n.offsetWidth:n.offsetHeight,f=v(n),o=i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f);if(0>=u||null==u){if(u=y(n,t,f),(0>u||null==u)&&(u=n.style[t]),ct.test(u))return u;e=o&&(i.support.boxSizingReliable||u===n.style[t]);u=parseFloat(u)||0}return u+su(n,t,r||(o?"border":"content"),e,f)+"px"}function cu(n){var u=r,t=iu[n];return t||(t=lu(n,u),"none"!==t&&t||(rt=(rt||i("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(u.documentElement),u=(rt[0].contentWindow||rt[0].contentDocument).document,u.write("<!doctype html><html><body>"),u.close(),t=lu(n,u),rt.detach()),iu[n]=t),t}function lu(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.remove(),u}function ci(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||ro.test(n)?u(n,i):ci(n+"["+("object"==typeof i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ci(n+"["+f+"]",t[f],r,u)}function ku(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(s)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function du(n,r,u,f){function o(h){var c;return e[h]=!0,i.each(n[h]||[],function(n,i){var h=i(r,u,f);return"string"!=typeof h||s||e[h]?s?!(c=h):t:(r.dataTypes.unshift(h),o(h),!1)}),c}var e={},s=n===vi;return o(r.dataTypes[0])||!e["*"]&&o("*")}function yi(n,r){var f,u,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);return f&&i.extend(!0,n,f),n}function co(n,i,r){var s,o,e,u,h=n.contents,f=n.dataTypes,c=n.responseFields;for(u in c)u in r&&(i[c[u]]=r[u]);while("*"===f[0])f.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("Content-Type"));if(o)for(u in h)if(h[u]&&h[u].test(o)){f.unshift(u);break}if(f[0]in r)e=f[0];else{for(u in r){if(!f[0]||n.converters[u+" "+f[0]]){e=u;break}s||(s=u)}e=e||s}return e?(e!==f[0]&&f.unshift(e),r[e]):t}function lo(n,t){var o,r,i,e,u={},h=0,s=n.dataTypes.slice(),f=s[0];if(n.dataFilter&&(t=n.dataFilter(t,n.dataType)),s[1])for(i in n.converters)u[i.toLowerCase()]=n.converters[i];for(;r=s[++h];)if("*"!==r){if("*"!==f&&f!==r){if(i=u[f+" "+r]||u["* "+r],!i)for(o in u)if(e=o.split(" "),e[1]===r&&(i=u[f+" "+e[0]]||u["* "+e[0]])){i===!0?i=u[o]:u[o]!==!0&&(r=e[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&n.throws)t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function nf(){try{return new n.XMLHttpRequest}catch(t){}}function ao(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function tf(){return setTimeout(function(){tt=t}),tt=i.now()}function wo(n,t){i.each(t,function(t,i){for(var u=(ft[t]||[]).concat(ft["*"]),r=0,f=u.length;f>r;r++)if(u[r].call(n,t,i))return})}function rf(n,t,r){var h,e,o=0,l=yt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(e)return!1;for(var s=tt||tf(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&o?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:tt||tf(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(e)return this;for(e=!0;r>i;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(bo(s,u.opts.specialEasing);l>o;o++)if(h=yt[o].call(u,n,s,u.opts))return h;return wo(u,s),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function bo(n,t){var u,f,r,e,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ko(n,t,r){var u,o,w,a,s,v,l,f,b,h=this,e=n.style,y={},p=[],c=n.nodeType&&ut(n);r.queue||(f=i._queueHooks(n,"fx"),null==f.unqueued&&(f.unqueued=0,b=f.empty.fire,f.empty.fire=function(){f.unqueued||b()}),f.unqueued++,h.always(function(){h.always(function(){f.unqueued--;i.queue(n,"fx").length||f.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(r.overflow=[e.overflow,e.overflowX,e.overflowY],"inline"===i.css(n,"display")&&"none"===i.css(n,"float")&&(i.support.inlineBlockNeedsLayout&&"inline"!==cu(n.nodeName)?e.zoom=1:e.display="inline-block"));r.overflow&&(e.overflow="hidden",i.support.shrinkWrapBlocks||h.always(function(){e.overflow=r.overflow[0];e.overflowX=r.overflow[1];e.overflowY=r.overflow[2]}));for(o in t)if(a=t[o],vo.exec(a)){if(delete t[o],v=v||"toggle"===a,a===(c?"hide":"show"))continue;p.push(o)}if(w=p.length)for(s=i._data(n,"fxshow")||i._data(n,"fxshow",{}),("hidden"in s)&&(c=s.hidden),v&&(s.hidden=!c),c?i(n).show():h.done(function(){i(n).hide()}),h.done(function(){var t;i._removeData(n,"fxshow");for(t in y)i.style(n,t,y[t])}),o=0;w>o;o++)u=p[o],l=h.createTween(u,c?s[u]:0),y[u]=s[u]||i.style(n,u),u in s||(s[u]=l.start,c&&(l.end=l.start,l.start="width"===u||"height"===u?1:0))}function f(n,t,i,r,u){return new f.prototype.init(n,t,i,r,u)}function pt(n,t){var r,i={height:n},u=0;for(t=t?1:0;4>u;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function uf(n){return i.isWindow(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var et,wi,o=typeof t,r=n.document,ff=n.location,ef=n.jQuery,of=n.$,ot={},b=[],wt="1.9.1",bi=b.concat,bt=b.push,l=b.slice,ki=b.indexOf,sf=ot.toString,it=ot.hasOwnProperty,kt=wt.trim,i=function(n,t){return new i.fn.init(n,t,wi)},st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=/\S+/g,hf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,cf=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,di=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lf=/^[\],:{}\s]*$/,af=/(?:^|:|,)(?:\s*\[)+/g,vf=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yf=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,pf=/^-ms-/,wf=/-([\da-z])/gi,bf=function(n,t){return t.toUpperCase()},h=function(n){(r.addEventListener||"load"===n.type||"complete"===r.readyState)&&(gi(),i.ready())},gi=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",h,!1),n.removeEventListener("load",h,!1)):(r.detachEvent("onreadystatechange",h),n.detachEvent("onload",h))},gt,nr,tr,pi,lt,g,nt,gu,at;i.fn=i.prototype={jquery:wt,constructor:i,init:function(n,u,f){var e,o;if(!n)return this;if("string"==typeof n){if(e="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&n.length>=3?[null,n,null]:cf.exec(n),!e||!e[1]&&u)return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n);if(e[1]){if(u=u instanceof i?u[0]:u,i.merge(this,i.parseHTML(e[1],u&&u.nodeType?u.ownerDocument||u:r,!0)),di.test(e[1])&&i.isPlainObject(u))for(e in u)i.isFunction(this[e])?this[e](u[e]):this.attr(e,u[e]);return this}if(o=r.getElementById(e[2]),o&&o.parentNode){if(o.id!==e[2])return f.find(n);this.length=1;this[0]=o}return this.context=r,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(n){return null==n?this.toArray():0>n?this[this.length+n]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:bt,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var u,o,r,e,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[1]||{},f=2),"object"==typeof n||i.isFunction(n)||(n={}),l===f&&(n=this,--f);l>f;f++)if(null!=(s=arguments[f]))for(e in s)u=n[e],r=s[e],n!==r&&(c&&r&&(i.isPlainObject(r)||(o=i.isArray(r)))?(o?(o=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n};i.extend({noConflict:function(t){return n.$===i&&(n.$=of),t&&n.jQuery===i&&(n.jQuery=ef),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0?!--i.readyWait:!i.isReady){if(!r.body)return setTimeout(i.ready);i.isReady=!0;n!==!0&&--i.readyWait>0||(et.resolveWith(r,[i]),i.fn.trigger&&i(r).trigger("ready").off("ready"))}},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray||function(n){return"array"===i.type(n)},isWindow:function(n){return null!=n&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ot[sf.call(n)]||"object":typeof n},isPlainObject:function(n){if(!n||"object"!==i.type(n)||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!it.call(n,"constructor")&&!it.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}for(var r in n);return r===t||it.call(n,r)},isEmptyObject:function(n){for(var t in n)return!1;return!0},error:function(n){throw Error(n);},parseHTML:function(n,t,u){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(u=t,t=!1);t=t||r;var f=di.exec(n),e=!u&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&i(e).remove(),i.merge([],f.childNodes))},parseJSON:function(r){return n.JSON&&n.JSON.parse?n.JSON.parse(r):null===r?r:"string"==typeof r&&(r=i.trim(r),r&&lf.test(r.replace(vf,"@").replace(yf,"]").replace(af,"")))?Function("return "+r)():(i.error("Invalid JSON: "+r),t)},parseXML:function(r){var u,f;if(!r||"string"!=typeof r)return null;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&i.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(pf,"ms-").replace(wf,bf)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=dt(n);if(i){if(e){for(;f>r;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;f>r;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:kt&&!kt.call("")?function(n){return null==n?"":kt.call(n)}:function(n){return null==n?"":(n+"").replace(hf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(dt(Object(n))?i.merge(r,"string"==typeof n?[n]:n):bt.call(r,n)),r},inArray:function(n,t,i){var r;if(t){if(ki)return ki.call(t,n,i);for(r=t.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var f=i.length,u=n.length,r=0;if("number"==typeof f)for(;f>r;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;e>r;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=dt(n),f=[];if(o)for(;e>r;r++)u=t(n[r],r,i),null!=u&&(f[f.length]=u);else for(r in n)u=t(n[r],r,i),null!=u&&(f[f.length]=u);return bi.apply([],f)},guid:1,proxy:function(n,r){var f,u,e;return"string"==typeof r&&(e=n[r],r=n,n=e),i.isFunction(n)?(f=l.call(arguments,2),u=function(){return n.apply(r||this,f.concat(l.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u):t},access:function(n,r,u,f,e,o,s){var h=0,l=n.length,c=null==u;if("object"===i.type(u)){e=!0;for(h in u)i.access(n,r,h,u[h],!0,o,s)}else if(f!==t&&(e=!0,i.isFunction(f)||(s=!0),c&&(s?(r.call(n,f),r=null):(c=r,r=function(n,t,r){return c.call(i(n),r)})),r))for(;l>h;h++)r(n[h],u,s?f:f.call(n[h],h,r(n[h],u)));return e?n:c?r.call(n):l?r(n[0],u):o},now:function(){return(new Date).getTime()}});i.ready.promise=function(t){if(!et)if(et=i.Deferred(),"complete"===r.readyState)setTimeout(i.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",h,!1),n.addEventListener("load",h,!1);else{r.attachEvent("onreadystatechange",h);n.attachEvent("onload",h);var u=!1;try{u=null==n.frameElement&&r.documentElement}catch(e){}u&&u.doScroll&&function f(){if(!i.isReady){try{u.doScroll("left")}catch(n){return setTimeout(f,50)}gi();i.ready()}}()}return et.promise(t)};i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ot["[object "+t+"]"]=t.toLowerCase()});wi=i(r);gt={};i.Callbacks=function(n){n="string"==typeof n?gt[n]||kf(n):i.extend({},n);var o,f,c,s,e,l,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,e=l||0,l=0,s=r.length,o=!0;r&&s>e;e++)if(r[e].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}o=!1;r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);"function"===e?n.unique&&h.has(f)||r.push(f):f&&f.length&&"string"!==e&&u(f)})})(arguments);o?s=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),o&&(s>=u&&s--,e>=u&&e--)}),this},has:function(n){return n?i.inArray(n,r)>-1:!(!r||!r.length)},empty:function(){return r=[],this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return t=t||[],t=[n,t.slice?t.slice():t],!r||c&&!u||(o?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var s=e[0],o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[s+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=l.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?l.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=Array(r),c=Array(r),s=Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.support=function(){var u,s,e,f,h,c,l,a,y,v,t=r.createElement("div");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",s=t.getElementsByTagName("*"),e=t.getElementsByTagName("a")[0],!s||!e||!s.length)return{};h=r.createElement("select");l=h.appendChild(r.createElement("option"));f=t.getElementsByTagName("input")[0];e.style.cssText="top:1px;float:left;opacity:.5";u={getSetAttribute:"t"!==t.className,leadingWhitespace:3===t.firstChild.nodeType,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:!!f.value,optSelected:l.selected,enctype:!!r.createElement("form").enctype,html5Clone:"<:nav><\/:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===r.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};f.checked=!0;u.noCloneChecked=f.cloneNode(!0).checked;h.disabled=!0;u.optDisabled=!l.disabled;try{delete t.test}catch(p){u.deleteExpando=!1}f=r.createElement("input");f.setAttribute("value","");u.input=""===f.getAttribute("value");f.value="t";f.setAttribute("type","radio");u.radioValue="t"===f.value;f.setAttribute("checked","t");f.setAttribute("name","t");c=r.createDocumentFragment();c.appendChild(f);u.appendChecked=f.checked;u.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;t.attachEvent&&(t.attachEvent("onclick",function(){u.noCloneEvent=!1}),t.cloneNode(!0).click());for(v in{submit:!0,change:!0,focusin:!0})t.setAttribute(a="on"+v,"t"),u[v+"Bubbles"]=a in n||t.attributes[a].expando===!1;return t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===t.style.backgroundClip,i(function(){var e,f,i,h="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=r.getElementsByTagName("body")[0];s&&(e=r.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(e).appendChild(t),t.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",i=t.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",y=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",u.reliableHiddenOffsets=y&&0===i[0].offsetHeight,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",u.boxSizing=4===t.offsetWidth,u.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,n.getComputedStyle&&(u.pixelPosition="1%"!==(n.getComputedStyle(t,null)||{}).top,u.boxSizingReliable="4px"===(n.getComputedStyle(t,null)||{width:"4px"}).width,f=t.appendChild(r.createElement("div")),f.style.cssText=t.style.cssText=h,f.style.marginRight=f.style.width="0",t.style.width="1px",u.reliableMarginRight=!parseFloat((n.getComputedStyle(f,null)||{}).marginRight)),typeof t.style.zoom!==o&&(t.innerHTML="",t.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",u.inlineBlockNeedsLayout=3===t.offsetWidth,t.style.display="block",t.innerHTML="<div><\/div>",t.firstChild.style.width="5px",u.shrinkWrapBlocks=3!==t.offsetWidth,u.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(e),e=t=i=f=null)}),s=h=c=l=e=f=null,u}();nr=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;tr=/([A-Z])/g;i.extend({cache:{},expando:"jQuery"+(wt+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!ni(n)},data:function(n,t,i){return ir(n,t,i)},removeData:function(n,t){return rr(n,t)},_data:function(n,t,i){return ir(n,t,i,!0)},_removeData:function(n,t){return rr(n,t,!0)},acceptData:function(n){if(n.nodeType&&1!==n.nodeType&&9!==n.nodeType)return!1;var t=n.nodeName&&i.noData[n.nodeName.toLowerCase()];return!t||t!==!0&&n.getAttribute("classid")===t}});i.fn.extend({data:function(n,r){var e,f,u=this[0],o=0,s=null;if(n===t){if(this.length&&(s=i.data(u),1===u.nodeType&&!i._data(u,"parsedAttrs"))){for(e=u.attributes;e.length>o;o++)f=e[o].name,f.indexOf("data-")||(f=i.camelCase(f.slice(5)),ur(u,f,s[f]));i._data(u,"parsedAttrs",!0)}return s}return"object"==typeof n?this.each(function(){i.data(this,n)}):i.access(this,function(r){return r===t?u?ur(u,n,i.data(u,n)):null:(this.each(function(){i.data(this,n,r)}),t)},null,r,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({queue:function(n,r,u){var f;return n?(r=(r||"fx")+"queue",f=i._data(n,r),u&&(!f||i.isArray(u)?f=i._data(n,r,i.makeArray(u)):f.push(u)),f||[]):t},dequeue:function(n,t){t=t||"fx";var f=i.queue(n,t),e=f.length,r=f.shift(),u=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===r&&(r=f.shift(),e--);u.cur=r;r&&("fx"===t&&f.unshift("inprogress"),delete u.stop,r.call(n,o,u));!e&&u&&u.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i._removeData(n,t+"queue");i._removeData(n,r)})})}});i.fn.extend({queue:function(n,r){var u=2;return"string"!=typeof n&&(r=n,n="fx",u--),u>arguments.length?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n);"fx"===n&&"inprogress"!==t[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(r=n,n=t),n=n||"fx";s--;)u=i._data(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(r)}});var k,fr,ti=/[\t\r\n]/g,df=/\r/g,gf=/^(?:input|select|textarea|button|object)$/i,ne=/^(?:a|area)$/i,er=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ii=/^(?:checked|selected)$/i,a=i.support.getSetAttribute,ri=i.support.input;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t;delete this[n]}catch(i){}})},addClass:function(n){var e,t,r,u,o,f=0,h=this.length,c="string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];h>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(ti," "):" ")){for(o=0;u=e[o++];)0>r.indexOf(" "+u+" ")&&(r+=u+" ");t.className=i.trim(r)}return this},removeClass:function(n){var e,t,r,u,o,f=0,h=this.length,c=0===arguments.length||"string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];h>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(ti," "):"")){for(o=0;u=e[o++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");t.className=n?i.trim(r):""}return this},toggleClass:function(n,t){var r=typeof n,u="boolean"==typeof t;return i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if("string"===r)for(var f,c=0,h=i(this),e=t,l=n.match(s)||[];f=l[c++];)e=u?e:!h.hasClass(f),h[e?"addClass":"removeClass"](f);else(r===o||"boolean"===r)&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(ti," ").indexOf(i)>=0)return!0;return!1},val:function(n){var u,r,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f,o=i(this);1===this.nodeType&&(f=e?n.call(this,u,o.val()):n,null==f?f="":"number"==typeof f?f+="":i.isArray(f)&&(f=i.map(f,function(n){return null==n?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t?u:(u=f.value,"string"==typeof u?u.replace(df,""):null==u?"":u)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,s=u?null:[],h=u?r+1:o.length,f=0>r?h:u?r:0;h>f;f++)if(t=o[f],!(!t.selected&&f!==r||(i.support.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){var r=i.makeArray(t);return i(n).find("option").each(function(){this.selected=i.inArray(i(this).val(),r)>=0}),r.length||(n.selectedIndex=-1),r}}},attr:function(n,r,u){var f,s,e,h=n.nodeType;if(n&&3!==h&&8!==h&&2!==h)return typeof n.getAttribute===o?i.prop(n,r,u):(s=1!==h||!i.isXMLDoc(n),s&&(r=r.toLowerCase(),f=i.attrHooks[r]||(er.test(r)?fr:k)),u===t?f&&s&&"get"in f&&null!==(e=f.get(n,r))?e:(typeof n.getAttribute!==o&&(e=n.getAttribute(r)),null==e?t:e):null!==u?f&&s&&"set"in f&&(e=f.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u):(i.removeAttr(n,r),t))},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(s);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,er.test(r)?!a&&ii.test(r)?n[i.camelCase("default-"+r)]=n[u]=!1:n[u]=!1:i.attr(n,r,""),n.removeAttribute(a?r:u)},attrHooks:{type:{set:function(n,t){if(!i.support.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&3!==o&&8!==o&&2!==o)return s=1!==o||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&null!==(e=f.get(n,r))?e:n[r]},propHooks:{tabIndex:{get:function(n){var i=n.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):gf.test(n.nodeName)||ne.test(n.nodeName)&&n.href?0:t}}}});fr={get:function(n,r){var u=i.prop(n,r),f="boolean"==typeof u&&n.getAttribute(r),e="boolean"==typeof u?ri&&a?null!=f:ii.test(r)?n[i.camelCase("default-"+r)]:!!f:n.getAttributeNode(r);return e&&e.value!==!1?r.toLowerCase():t},set:function(n,t,r){return t===!1?i.removeAttr(n,r):ri&&a||!ii.test(r)?n.setAttribute(!a&&i.propFix[r]||r,r):n[i.camelCase("default-"+r)]=n[r]=!0,r}};ri&&a||(i.attrHooks.value={get:function(n,r){var u=n.getAttributeNode(r);return i.nodeName(n,"input")?n.defaultValue:u&&u.specified?u.value:t},set:function(n,r,u){return i.nodeName(n,"input")?(n.defaultValue=r,t):k&&k.set(n,r,u)}});a||(k=i.valHooks.button={get:function(n,i){var r=n.getAttributeNode(i);return r&&("id"===i||"name"===i||"coords"===i?""!==r.value:r.specified)?r.value:t},set:function(n,i,r){var u=n.getAttributeNode(r);return u||n.setAttributeNode(u=n.ownerDocument.createAttribute(r)),u.value=i+="","value"===r||i===n.getAttribute(r)?i:t}},i.attrHooks.contenteditable={get:k.get,set:function(n,t,i){k.set(n,""===t?!1:t,i)}},i.each(["width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{set:function(n,i){return""===i?(n.setAttribute(r,"auto"),i):t}})}));i.support.hrefNormalized||(i.each(["href","src","width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{get:function(n){var i=n.getAttribute(r,2);return null==i?t:i}})}),i.each(["href","src"],function(n,t){i.propHooks[t]={get:function(n){return n.getAttribute(t,4)}}}));i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText||t},set:function(n,t){return n.style.cssText=t+""}});i.support.optSelected||(i.propHooks.selected=i.extend(i.propHooks.selected,{get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}));i.support.enctype||(i.propFix.enctype="encoding");i.support.checkOn||i.each(["radio","checkbox"],function(){i.valHooks[this]={get:function(n){return null===n.getAttribute("value")?"on":n.value}}});i.each(["radio","checkbox"],function(){i.valHooks[this]=i.extend(i.valHooks[this],{set:function(n,r){return i.isArray(r)?n.checked=i.inArray(i(n).val(),r)>=0:t}})});var ui=/^(?:input|select|textarea)$/i,te=/^key/,ie=/^(?:mouse|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,r,u,f,e){var b,p,k,w,c,l,a,v,h,d,g,y=i._data(n);if(y){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),(p=y.events)||(p=y.events={}),(l=y.handle)||(l=y.handle=function(n){return typeof i===o||n&&i.event.triggered===n.type?t:i.event.dispatch.apply(l.elem,arguments)},l.elem=n),r=(r||"").match(s)||[""],k=r.length;k--;)b=sr.exec(r[k])||[],h=g=b[1],d=(b[2]||"").split(".").sort(),c=i.event.special[h]||{},h=(e?c.delegateType:c.bindType)||h,c=i.event.special[h]||{},a=i.extend({type:h,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},w),(v=p[h])||(v=p[h]=[],v.delegateCount=0,c.setup&&c.setup.call(n,f,d,l)!==!1||(n.addEventListener?n.addEventListener(h,l,!1):n.attachEvent&&n.attachEvent("on"+h,l))),c.add&&(c.add.call(n,a),a.handler.guid||(a.handler.guid=u.guid)),e?v.splice(v.delegateCount++,0,a):v.push(a),i.event.global[h]=!0;n=null}},remove:function(n,t,r,u,f){var y,o,h,b,p,a,c,l,e,w,k,v=i.hasData(n)&&i._data(n);if(v&&(a=v.events)){for(t=(t||"").match(s)||[""],p=t.length;p--;)if(h=sr.exec(t[p])||[],e=k=h[1],w=(h[2]||"").split(".").sort(),e){for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,l=a[e]||[],h=h[2]&&RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=l.length;y--;)o=l[y],!f&&k!==o.origType||r&&r.guid!==o.guid||h&&!h.test(o.namespace)||u&&u!==o.selector&&("**"!==u||!o.selector)||(l.splice(y,1),o.selector&&l.delegateCount--,c.remove&&c.remove.call(n,o));b&&!l.length&&(c.teardown&&c.teardown.call(n,w,v.handle)!==!1||i.removeEvent(n,e,v.handle),delete a[e])}else for(e in a)i.event.remove(n,e+t[p],r,u,!0);i.isEmptyObject(a)&&(delete v.handle,i._removeData(n,"events"))}},trigger:function(u,f,e,o){var a,v,h,p,l,c,w,b=[e||r],s=it.call(u,"type")?u.type:u,y=it.call(u,"namespace")?u.namespace.split("."):[];if(h=c=e=e||r,3!==e.nodeType&&8!==e.nodeType&&!or.test(s+i.event.triggered)&&(s.indexOf(".")>=0&&(y=s.split("."),s=y.shift(),y.sort()),v=0>s.indexOf(":")&&"on"+s,u=u[i.expando]?u:new i.Event(s,"object"==typeof u&&u),u.isTrigger=!0,u.namespace=y.join("."),u.namespace_re=u.namespace?RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=t,u.target||(u.target=e),f=null==f?[u]:i.makeArray(f,[u]),l=i.event.special[s]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(p=l.delegateType||s,or.test(p+s)||(h=h.parentNode);h;h=h.parentNode)b.push(h),c=h;c===(e.ownerDocument||r)&&b.push(c.defaultView||c.parentWindow||n)}for(w=0;(h=b[w++])&&!u.isPropagationStopped();)u.type=w>1?p:l.bindType||s,a=(i._data(h,"events")||{})[u.type]&&i._data(h,"handle"),a&&a.apply(h,f),a=v&&h[v],a&&i.acceptData(h)&&a.apply&&a.apply(h,f)===!1&&u.preventDefault();if(u.type=s,!(o||u.isDefaultPrevented()||l._default&&l._default.apply(e.ownerDocument,f)!==!1||"click"===s&&i.nodeName(e,"a")||!i.acceptData(e)||!v||!e[s]||i.isWindow(e))){c=e[v];c&&(e[v]=null);i.event.triggered=s;try{e[s]()}catch(k){}i.event.triggered=t;c&&(e[v]=c)}return u.result}},dispatch:function(n){n=i.event.fix(n);var o,e,r,u,s,h=[],c=l.call(arguments),a=(i._data(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,a),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(r=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(r.namespace))&&(n.handleObj=r,n.data=r.data,e=((i.event.special[r.origType]||{}).handle||r.handler).apply(u.elem,c),e!==t&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,r){var e,o,f,s,c=[],h=r.delegateCount,u=n.target;if(h&&u.nodeType&&(!n.button||"click"!==n.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==n.type)){for(f=[],s=0;h>s;s++)o=r[s],e=o.selector+" ",f[e]===t&&(f[e]=o.needsContext?i(e,this).index(u)>=0:i.find(e,this,null,[u]).length),f[e]&&f.push(o);f.length&&c.push({elem:u,handlers:f})}return r.length>h&&c.push({elem:this,handlers:r.slice(h)}),c},fix:function(n){if(n[i.expando])return n;var e,o,s,u=n.type,f=n,t=this.fixHooks[u];for(t||(this.fixHooks[u]=t=ie.test(u)?this.mouseHooks:te.test(u)?this.keyHooks:{}),s=t.props?this.props.concat(t.props):this.props,n=new i.Event(f),e=s.length;e--;)o=s[e],n[o]=f[o];return n.target||(n.target=f.srcElement||r),3===n.target.nodeType&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,t.filter?t.filter(n,f):n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var u,o,f,e=i.button,s=i.fromElement;return null==n.pageX&&null!=i.clientX&&(o=n.target.ownerDocument||r,f=o.documentElement,u=o.body,n.pageX=i.clientX+(f&&f.scrollLeft||u&&u.scrollLeft||0)-(f&&f.clientLeft||u&&u.clientLeft||0),n.pageY=i.clientY+(f&&f.scrollTop||u&&u.scrollTop||0)-(f&&f.clientTop||u&&u.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),n.which||e===t||(n.which=1&e?1:2&e?3:4&e?2:0),n}},special:{load:{noBubble:!0},click:{trigger:function(){return i.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==r.activeElement&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){return this===r.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(n){n.result!==t&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]===o&&(n[r]=null),n.detachEvent(r,i))};i.Event=function(n,r){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?ht:d):this.type=n,r&&i.extend(this,r),this.timeStamp=n&&n.timeStamp||i.now(),this[i.expando]=!0,t):new i.Event(n,r)};i.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ht;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ht;n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ht;this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return(!r||r!==f&&!i.contains(f,r))&&(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.support.submitBubbles||(i.event.special.submit={setup:function(){return i.nodeName(this,"form")?!1:(i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!i._data(r,"submitBubbles")&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),i._data(r,"submitBubbles",!0))}),t)},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){return i.nodeName(this,"form")?!1:(i.event.remove(this,"._submit"),t)}});i.support.changeBubbles||(i.event.special.change={setup:function(){return ui.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(i.event.add(this,"propertychange._change",function(n){"checked"===n.originalEvent.propertyName&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1);i.event.simulate("change",this,n,!0)})),!1):(i.event.add(this,"beforeactivate._change",function(n){var t=n.target;ui.test(t.nodeName)&&!i._data(t,"changeBubbles")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),i._data(t,"changeBubbles",!0))}),t)},handle:function(n){var i=n.target;return this!==i||n.isSimulated||n.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?n.handleObj.handler.apply(this,arguments):t},teardown:function(){return i.event.remove(this,"._change"),!ui.test(this.nodeName)}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){0==u++&&r.addEventListener(n,f,!0)},teardown:function(){0==--u&&r.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var s,o;if("object"==typeof n){"string"!=typeof r&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(null==u&&null==f?(f=r,u=r=t):null==f&&("string"==typeof r?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=d;else if(!f)return this;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof n){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||"function"==typeof r)&&(u=r,r=t),u===!1&&(u=d),this.each(function(){i.event.remove(this,n,u,r)})},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,r){var u=this[0];return u?i.event.trigger(n,r,u,!0):t}}),function(n,t){function ti(n){return tr.test(n+"")}function ii(){var n,t=[];return n=function(i,u){return t.push(i+=" ")>r.cacheLength&&delete n[t.shift()],n[i]=u}}function l(n){return n[f]=!0,n}function b(n){var t=s.createElement("div");try{return n(t)}catch(i){return!1}finally{t=null}}function u(n,t,i,r){var y,u,e,l,p,v,w,h,d,b;if((t?t.ownerDocument||t:k)!==s&&it(t),t=t||s,i=i||[],!n||"string"!=typeof n)return i;if(1!==(l=t.nodeType)&&9!==l)return[];if(!c&&!r){if(y=ir.exec(n))if(e=y[1]){if(9===l){if(u=t.getElementById(e),!u||!u.parentNode)return i;if(u.id===e)return i.push(u),i}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(e))&&et(t,u)&&u.id===e)return i.push(u),i}else{if(y[2])return ut.apply(i,ft.call(t.getElementsByTagName(n),0)),i;if((e=y[3])&&o.getByClassName&&t.getElementsByClassName)return ut.apply(i,ft.call(t.getElementsByClassName(e),0)),i}if(o.qsa&&!a.test(n)){if(w=!0,h=f,d=t,b=9===l&&n,1===l&&"object"!==t.nodeName.toLowerCase()){for(v=yt(n),(w=t.getAttribute("id"))?h=w.replace(fr,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",p=v.length;p--;)v[p]=h+pt(v[p]);d=ni.test(n)&&t.parentNode||t;b=v.join(",")}if(b)try{return ut.apply(i,ft.call(d.querySelectorAll(b),0)),i}catch(g){}finally{w||t.removeAttribute("id")}}}return lr(n.replace(at,"$1"),t,i,r)}function yi(n,t){var i=t&&n,r=i&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function or(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function sr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function g(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function yt(n,t){var e,f,s,o,i,h,c,l=hi[n+" "];if(l)return t?0:l.slice(0);for(i=n,h=[],c=r.preFilter;i;){(!e||(f=ki.exec(i)))&&(f&&(i=i.slice(f[0].length)||i),h.push(s=[]));e=!1;(f=di.exec(i))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),i=i.slice(e.length));for(o in r.filter)(f=vt[o].exec(i))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),i=i.slice(e.length));if(!e)break}return t?i.length:i?u.error(n):hi(n,h).slice(0)}function pt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&"parentNode"===r,e=wi++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var h,s,c,l=v+" "+e;if(o){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,o))return!0}else while(t=t[r])if(1===t.nodeType||u)if(c=t[f]||(t[f]={}),(s=c[r])&&s[0]===l){if((h=s[1])===!0||h===ot)return h===!0}else if(s=c[r]=[l],s[1]=n(t,i,o)||ot,s[1]===!0)return!0}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||cr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:wt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?dt.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):ut.apply(e,h)})}function ei(n){for(var s,u,i,o=n.length,h=r.relative[n[0].type],c=h||r.relative[" "],t=h?1:0,l=ri(function(n){return n===s},c,!0),a=ri(function(n){return dt.call(s,n)>-1},c,!0),e=[function(n,t,i){return!h&&(i||t!==ht)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];o>t;t++)if(u=r.relative[n[t].type])e=[ri(ui(e),u)];else{if(u=r.filter[n[t].type].apply(null,n[t].matches),u[f]){for(i=++t;o>i;i++)if(r.relative[n[i].type])break;return fi(t>1&&ui(e),t>1&&pt(n.slice(0,t-1)).replace(at,"$1"),u,i>t&&ei(n.slice(t,i)),o>i&&ei(n=n.slice(i)),o>i&&pt(n))}e.push(u)}return ui(e)}function hr(n,t){var f=0,i=t.length>0,e=n.length>0,o=function(o,h,c,l,a){var p,d,b,w=[],k=0,y="0",g=o&&[],nt=null!=a,tt=ht,rt=o||e&&r.find.TAG("*",a&&h.parentNode||h),it=v+=null==tt?1:Math.random()||.1;for(nt&&(ht=h!==s&&h,ot=f);null!=(p=rt[y]);y++){if(e&&p){for(d=0;b=n[d++];)if(b(p,h,c)){l.push(p);break}nt&&(v=it,ot=++f)}i&&((p=!b&&p)&&k--,o&&g.push(p))}if(k+=y,i&&y!==k){for(d=0;b=t[d++];)b(g,w,h,c);if(o){if(k>0)while(y--)g[y]||w[y]||(w[y]=bi.call(l));w=wt(w)}ut.apply(l,w);nt&&!o&&w.length>0&&k+t.length>1&&u.uniqueSort(l)}return nt&&(v=it,ht=tt),g};return i?l(o):o}function cr(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function lr(n,t,i,u){var o,f,e,h,l,s=yt(n);if(!u&&1===s.length){if(f=s[0]=s[0].slice(0),f.length>2&&"ID"===(e=f[0]).type&&9===t.nodeType&&!c&&r.relative[f[1].type]){if(t=r.find.ID(e.matches[0].replace(p,w),t)[0],!t)return i;n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],r.relative[h=e.type])break;if((l=r.find[h])&&(u=l(e.matches[0].replace(p,w),ni.test(f[0].type)&&t.parentNode||t))){if(f.splice(o,1),n=u.length&&pt(f),!n)return ut.apply(i,ft.call(u,0)),i;break}}}return bt(n,s)(u,t,c,i,ni.test(n)),i}function pi(){}var nt,ot,r,st,oi,bt,tt,ht,it,s,h,c,a,rt,ct,et,kt,f="sizzle"+-new Date,k=n.document,o={},v=0,wi=0,si=ii(),hi=ii(),ci=ii(),y=typeof t,li=-2147483648,lt=[],bi=lt.pop,ut=lt.push,ft=lt.slice,dt=lt.indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(this[t]===n)return t;return-1},e="[\\x20\\t\\r\\n\\f]",d="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ai=d.replace("w","w#"),vi="\\["+e+"*("+d+")"+e+"*(?:([*^$|!~]?=)"+e+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ai+")|)|)"+e+"*\\]",gt=":("+d+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+vi.replace(3,8)+")*)|.*)\\)|)",at=RegExp("^"+e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+e+"+$","g"),ki=RegExp("^"+e+"*,"+e+"*"),di=RegExp("^"+e+"*([\\x20\\t\\r\\n\\f>+~])"+e+"*"),gi=RegExp(gt),nr=RegExp("^"+ai+"$"),vt={ID:RegExp("^#("+d+")"),CLASS:RegExp("^\\.("+d+")"),NAME:RegExp("^\\[name=['\"]?("+d+")['\"]?\\]"),TAG:RegExp("^("+d.replace("w","w*")+")"),ATTR:RegExp("^"+vi),PSEUDO:RegExp("^"+gt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+e+"*(even|odd|(([+-]|)(\\d*)n|)"+e+"*(?:([+-]|)"+e+"*(\\d+)|))"+e+"*\\)|)","i"),needsContext:RegExp("^"+e+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+e+"*((?:-\\d)?\\d*)"+e+"*\\)|)(?=[^-]|$)","i")},ni=/[\x20\t\r\n\f]*[+~]/,tr=/^[^{]+\{\s*\[native code/,ir=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rr=/^(?:input|select|textarea|button)$/i,ur=/^h\d$/i,fr=/'|\\/g,er=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,p=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,w=function(n,t){var i="0x"+t-65536;return i!==i?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{ft.call(k.documentElement.childNodes,0)[0].nodeType}catch(ar){ft=function(n){for(var t,i=[];t=this[n++];)i.push(t);return i}}oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};it=u.setDocument=function(n){var i=n?n.ownerDocument||n:k;return i!==s&&9===i.nodeType&&i.documentElement?(s=i,h=i.documentElement,c=oi(i),o.tagNameNoComments=b(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),o.attributes=b(function(n){n.innerHTML="<select><\/select>";var t=typeof n.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),o.getByClassName=b(function(n){return n.innerHTML="<div class='hidden e'><\/div><div class='hidden'><\/div>",n.getElementsByClassName&&n.getElementsByClassName("e").length?(n.lastChild.className="e",2===n.getElementsByClassName("e").length):!1}),o.getByName=b(function(n){n.id=f+0;n.innerHTML="<a name='"+f+"'><\/a><div name='"+f+"'><\/div>";h.insertBefore(n,h.firstChild);var t=i.getElementsByName&&i.getElementsByName(f).length===2+i.getElementsByName(f+0).length;return o.getIdNotName=!i.getElementById(f),h.removeChild(n),t}),r.attrHandle=b(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild&&typeof n.firstChild.getAttribute!==y&&"#"===n.firstChild.getAttribute("href")})?{}:{href:function(n){return n.getAttribute("href",2)},type:function(n){return n.getAttribute("type")}},o.getIdNotName?(r.find.ID=function(n,t){if(typeof t.getElementById!==y&&!c){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},r.filter.ID=function(n){var t=n.replace(p,w);return function(n){return n.getAttribute("id")===t}}):(r.find.ID=function(n,i){if(typeof i.getElementById!==y&&!c){var r=i.getElementById(n);return r?r.id===n||typeof r.getAttributeNode!==y&&r.getAttributeNode("id").value===n?[r]:t:[]}},r.filter.ID=function(n){var t=n.replace(p,w);return function(n){var i=typeof n.getAttributeNode!==y&&n.getAttributeNode("id");return i&&i.value===t}}),r.find.TAG=o.tagNameNoComments?function(n,i){return typeof i.getElementsByTagName!==y?i.getElementsByTagName(n):t}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},r.find.NAME=o.getByName&&function(n,i){return typeof i.getElementsByName!==y?i.getElementsByName(name):t},r.find.CLASS=o.getByClassName&&function(n,i){return typeof i.getElementsByClassName===y||c?t:i.getElementsByClassName(n)},rt=[],a=[":focus"],(o.qsa=ti(i.querySelectorAll))&&(b(function(n){n.innerHTML="<select><option selected=''><\/option><\/select>";n.querySelectorAll("[selected]").length||a.push("\\["+e+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");n.querySelectorAll(":checked").length||a.push(":checked")}),b(function(n){n.innerHTML="<input type='hidden' i=''/>";n.querySelectorAll("[i^='']").length&&a.push("[*^$]="+e+"*(?:\"\"|'')");n.querySelectorAll(":enabled").length||a.push(":enabled",":disabled");n.querySelectorAll("*,:x");a.push(",.*:")})),(o.matchesSelector=ti(ct=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&b(function(n){o.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");rt.push("!=",gt)}),a=RegExp(a.join("|")),rt=RegExp(rt.join("|")),et=ti(h.contains)||h.compareDocumentPosition?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=h.compareDocumentPosition?function(n,t){var r;return n===t?(tt=!0,0):(r=t.compareDocumentPosition&&n.compareDocumentPosition&&n.compareDocumentPosition(t))?1&r||n.parentNode&&11===n.parentNode.nodeType?n===i||et(k,n)?-1:t===i||et(k,t)?1:0:4&r?-1:1:n.compareDocumentPosition?-1:1}:function(n,t){var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(n===t)return tt=!0,0;if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:0;if(o===s)return yi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?yi(f[u],e[u]):f[u]===k?-1:e[u]===k?1:0},tt=!1,[0,0].sort(kt),o.detectDuplicates=tt,s):s};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==s&&it(n),t=t.replace(er,"='$1']"),!(!o.matchesSelector||c||rt&&rt.test(t)||a.test(t)))try{var i=ct.call(n,t);if(i||o.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(r){}return u(t,s,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==s&&it(n),et(n,t)};u.attr=function(n,t){var i;return(n.ownerDocument||n)!==s&&it(n),c||(t=t.toLowerCase()),(i=r.attrHandle[t])?i(n):c||o.attributes?n.getAttribute(t):((i=n.getAttributeNode(t))||n.getAttribute(t))&&n[t]===!0?t:i&&i.specified?i.value:null};u.error=function(n){throw Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=1,i=0;if(tt=!o.detectDuplicates,n.sort(kt),tt){for(;r=n[t];t++)r===n[t-1]&&(i=u.push(t));while(i--)n.splice(u[i],1)}return n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else for(;r=n[u];u++)i+=st(r);return i};r=u.selectors={cacheLength:50,createPseudo:l,match:vt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(p,w),n[3]=(n[4]||n[5]||"").replace(p,w),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[5]&&n[2];return vt.CHILD.test(n[0])?null:(n[4]?n[2]=n[4]:t&&gi.test(t)&&(i=yt(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){return"*"===n?function(){return!0}:(n=n.replace(p,w).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===n})},CLASS:function(n){var t=si[n+" "];return t||(t=RegExp("(^|"+e+")"+n+"("+e+"|$)"))&&si(n,function(n){return t.test(n.className||typeof n.getAttribute!==y&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),e="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),a=k[n]||[],y=a[0]===v&&a[1],l=a[0]===v&&a[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){k[n]=[v,y,l];break}}else if(d&&(a=(t[f]||(t[f]={}))[n])&&a[0]===v)l=a[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[v,l]),c===t))break;return l-=u,l===r||0==l%r&&l/r>=0}}},PSEUDO:function(n,t){var e,i=r.pseudos[n]||r.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return i[f]?i(t):i.length>1?(e=[n,n,"",t],r.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=dt.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,e)}):i}},pseudos:{not:l(function(n){var i=[],r=[],t=bt(n.replace(at,"$1"));return t[f]?l(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return nr.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(p,w).toLowerCase(),function(t){var i;do if(i=c?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===h},focus:function(n){return n===s.activeElement&&(!s.hasFocus||s.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeName>"@"||3===n.nodeType||4===n.nodeType)return!1;return!0},parent:function(n){return!r.pseudos.empty(n)},header:function(n){return ur.test(n.nodeName)},input:function(n){return rr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||t.toLowerCase()===n.type)},first:g(function(){return[0]}),last:g(function(n,t){return[t-1]}),eq:g(function(n,t,i){return[0>i?i+t:i]}),even:g(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:g(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:g(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:g(function(n,t,i){for(var r=0>i?i+t:i;t>++r;)n.push(r);return n})}};for(nt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[nt]=or(nt);for(nt in{submit:!0,reset:!0})r.pseudos[nt]=sr(nt);bt=u.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=yt(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,hr(e,u))}return i};r.pseudos.nth=r.pseudos.eq;r.filters=pi.prototype=r.pseudos;r.setFilters=new pi;it();u.attr=i.attr;i.find=u;i.expr=u.selectors;i.expr[":"]=i.expr.pseudos;i.unique=u.uniqueSort;i.text=u.getText;i.isXMLDoc=u.isXML;i.contains=u.contains}(n);var re=/Until$/,ue=/^(?:parents|prev(?:Until|All))/,fe=/^.[^:#\[\.,]*$/,hr=i.expr.match.needsContext,ee={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,r,f,u=this.length;if("string"!=typeof n)return f=this,this.pushStack(i(n).filter(function(){for(t=0;u>t;t++)if(i.contains(f[t],this))return!0}));for(r=[],t=0;u>t;t++)i.find(n,this[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=(this.selector?this.selector+" ":"")+n,r},has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;u>t;t++)if(i.contains(this,r[t]))return!0})},not:function(n){return this.pushStack(lr(this,n,!1))},filter:function(n){return this.pushStack(lr(this,n,!0))},is:function(n){return!!n&&("string"==typeof n?hr.test(n)?i(n,this.context).index(this[0])>=0:i.filter(n,this).length>0:this.filter(n).length>0)},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=hr.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r.ownerDocument&&r!==t&&11!==r.nodeType;){if(e?e.index(r)>-1:i.find.matchesSelector(r,n)){u.push(r);break}r=r.parentNode}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?"string"==typeof n?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){var r="string"==typeof n?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),u=i.merge(this.get(),r);return this.pushStack(i.unique(u))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.fn.andSelf=i.fn.addBack;i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return cr(n,"nextSibling")},prev:function(n){return cr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return re.test(n)||(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),f=this.length>1&&!ee[n]?i.unique(f):f,this.length>1&&ue.test(n)&&(f=f.reverse()),this.pushStack(f)}});i.extend({filter:function(n,t,r){return r&&(n=":not("+n+")"),1===t.length?i.find.matchesSelector(t[0],n)?[t[0]]:[]:i.find.matches(n,t)},dir:function(n,r,u){for(var e=[],f=n[r];f&&9!==f.nodeType&&(u===t||1!==f.nodeType||!i(f).is(u));)1===f.nodeType&&e.push(f),f=f[r];return e},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i}});var vr="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",oe=/ jQuery\d+="(?:null|\d+)"/g,yr=RegExp("<(?:"+vr+")[\\s/>]","i"),fi=/^\s+/,pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wr=/<([\w:]+)/,br=/<tbody/i,se=/<|&#?\w+;/,he=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,kr=/^$|\/(?:java|ecma)script/i,le=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,e={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:i.support.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]},ve=ar(r),oi=ve.appendChild(r.createElement("div"));e.optgroup=e.option;e.tbody=e.tfoot=e.colgroup=e.caption=e.thead;e.th=e.td;i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&1===n.firstChild.nodeType;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(n,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=0;null!=(r=this[f]);f++)(!n||i.filter(n,[r]).length>0)&&(t||1!==r.nodeType||i.cleanData(u(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&si(u(r,"script")),r.parentNode.removeChild(r)));return this},empty:function(){for(var n,t=0;null!=(n=this[t]);t++){for(1===n.nodeType&&i.cleanData(u(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&i.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},f=0,o=this.length;if(n===t)return 1===r.nodeType?r.innerHTML.replace(oe,""):t;if(!("string"!=typeof n||he.test(n)||!i.support.htmlSerialize&&yr.test(n)||!i.support.leadingWhitespace&&fi.test(n)||e[(wr.exec(n)||["",""])[1].toLowerCase()])){n=n.replace(pr,"<$1><\/$2>");try{for(;o>f;f++)r=this[f]||{},1===r.nodeType&&(i.cleanData(u(r,!1)),r.innerHTML=n);r=0}catch(s){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(n){var t=i.isFunction(n);return t||"string"==typeof n||(n=i(n).not(this).detach()),this.domManip([n],!0,function(n){var r=this.nextSibling,t=this.parentNode;t&&(i(this).remove(),t.insertBefore(n,r))})},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,f){n=bi.apply([],n);var c,e,l,s,y,h,o=0,a=this.length,w=this,b=a-1,v=n[0],p=i.isFunction(v);if(p||!(1>=a||"string"!=typeof v||i.support.checkClone)&&ce.test(v))return this.each(function(i){var u=w.eq(i);p&&(n[0]=v.call(this,i,r?u.html():t));u.domManip(n,r,f)});if(a&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),c=h.firstChild,1===h.childNodes.length&&(h=c),c)){for(r=r&&i.nodeName(c,"tr"),s=i.map(u(h,"script"),dr),l=s.length;a>o;o++)e=h,o!==b&&(e=i.clone(e,!0,!0),l&&i.merge(s,u(e,"script"))),f.call(r&&i.nodeName(this[o],"table")?ye(this[o],"tbody"):this[o],e,o);if(l)for(y=s[s.length-1].ownerDocument,i.map(s,gr),o=0;l>o;o++)e=s[o],kr.test(e.type||"")&&!i._data(e,"globalEval")&&i.contains(y,e)&&(e.src?i.ajax({url:e.src,type:"GET",dataType:"script","async":!1,global:!1,throws:!0}):i.globalEval((e.text||e.textContent||e.innerHTML||"").replace(ae,"")));h=c=null}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,r=0,f=[],e=i(n),o=e.length-1;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),bt.apply(f,u.get());return this.pushStack(f)}});i.extend({clone:function(n,t,r){var f,h,o,e,s,c=i.contains(n.ownerDocument,n);if(i.support.html5Clone||i.isXMLDoc(n)||!yr.test("<"+n.nodeName+">")?o=n.cloneNode(!0):(oi.innerHTML=n.outerHTML,oi.removeChild(o=oi.firstChild)),!(i.support.noCloneEvent&&i.support.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=u(o),s=u(n),e=0;null!=(h=s[e]);++e)f[e]&&pe(h,f[e]);if(t)if(r)for(s=s||u(n),f=f||u(o),e=0;null!=(h=s[e]);e++)nu(h,f[e]);else nu(n,o);return f=u(o,"script"),f.length>0&&si(f,!c&&u(n,"script")),f=s=h=null,o},buildFragment:function(n,t,r,f){for(var h,o,w,s,y,p,l,b=n.length,a=ar(t),c=[],v=0;b>v;v++)if(o=n[v],o||0===o)if("object"===i.type(o))i.merge(c,o.nodeType?[o]:o);else if(se.test(o)){for(s=s||a.appendChild(t.createElement("div")),y=(wr.exec(o)||["",""])[1].toLowerCase(),l=e[y]||e._default,s.innerHTML=l[1]+o.replace(pr,"<$1><\/$2>")+l[2],h=l[0];h--;)s=s.lastChild;if(!i.support.leadingWhitespace&&fi.test(o)&&c.push(t.createTextNode(fi.exec(o)[0])),!i.support.tbody)for(o="table"!==y||br.test(o)?"<table>"!==l[1]||br.test(o)?0:s:s.firstChild,h=o&&o.childNodes.length;h--;)i.nodeName(p=o.childNodes[h],"tbody")&&!p.childNodes.length&&o.removeChild(p);for(i.merge(c,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=a.lastChild}else c.push(t.createTextNode(o));for(s&&a.removeChild(s),i.support.appendChecked||i.grep(u(c,"input"),we),v=0;o=c[v++];)if((!f||-1===i.inArray(o,f))&&(w=i.contains(o.ownerDocument,o),s=u(a.appendChild(o),"script"),w&&si(s),r))for(h=0;o=s[h++];)kr.test(o.type||"")&&r.push(o);return s=null,a},cleanData:function(n,t){for(var r,f,u,e,c=0,s=i.expando,h=i.cache,l=i.support.deleteExpando,a=i.event.special;null!=(r=n[c]);c++)if((t||i.acceptData(r))&&(u=r[s],e=u&&h[u])){if(e.events)for(f in e.events)a[f]?i.event.remove(r,f):i.removeEvent(r,f,e.handle);h[u]&&(delete h[u],l?delete r[s]:typeof r.removeAttribute!==o?r.removeAttribute(s):r[s]=null,b.push(u))}}});var rt,v,y,hi=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/,ke=/^(top|right|bottom|left)$/,de=/^(none|table(?!-c[ea]).+)/,tu=/^margin/,ge=RegExp("^("+st+")(.*)$","i"),ct=RegExp("^("+st+")(?!px)[a-z%]+$","i"),no=RegExp("^([+-])=("+st+")","i"),iu={BODY:"block"},to={position:"absolute",visibility:"hidden",display:"block"},ru={letterSpacing:0,fontWeight:400},p=["Top","Right","Bottom","Left"],uu=["Webkit","O","Moz","ms"];i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){var e,o,s={},f=0;if(i.isArray(r)){for(o=v(n),e=r.length;e>f;f++)s[r[f]]=i.css(n,r[f],!1,o);return s}return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return eu(this,!0)},hide:function(){return eu(this)},toggle:function(n){var t="boolean"==typeof n;return this.each(function(){(t?n:ut(this))?i(this).show():i(this).hide()})}});i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=y(n,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;if(r=i.cssProps[h]||(i.cssProps[h]=fu(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u===t)return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r];if(s=typeof u,"string"===s&&(o=no.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),!(null==u||"number"===s&&isNaN(u)||("number"!==s||i.cssNumber[h]||(u+="px"),i.support.clearCloneStyle||""!==u||0!==r.indexOf("background")||(c[r]="inherit"),e&&"set"in e&&(u=e.set(n,u,f))===t)))try{c[r]=u}catch(l){}}},css:function(n,r,u,f){var h,e,o,s=i.camelCase(r);return r=i.cssProps[s]||(i.cssProps[s]=fu(n.style,s)),o=i.cssHooks[r]||i.cssHooks[s],o&&"get"in o&&(e=o.get(n,!0,u)),e===t&&(e=y(n,r,f)),"normal"===e&&r in ru&&(e=ru[r]),""===u||u?(h=parseFloat(e),u===!0||i.isNumeric(h)?h||0:e):e},swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f}});n.getComputedStyle?(v=function(t){return n.getComputedStyle(t,null)},y=function(n,r,u){var s,h,c,o=u||v(n),e=o?o.getPropertyValue(r)||o[r]:t,f=n.style;return o&&(""!==e||i.contains(n.ownerDocument,n)||(e=i.style(n,r)),ct.test(e)&&tu.test(r)&&(s=f.width,h=f.minWidth,c=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=o.width,f.width=s,f.minWidth=h,f.maxWidth=c)),e}):r.documentElement.currentStyle&&(v=function(n){return n.currentStyle},y=function(n,i,r){var s,e,o,h=r||v(n),u=h?h[i]:t,f=n.style;return null==u&&f&&f[i]&&(u=f[i]),ct.test(u)&&!ke.test(i)&&(s=f.left,e=n.runtimeStyle,o=e&&e.left,o&&(e.left=n.currentStyle.left),f.left="fontSize"===i?"1em":u,u=f.pixelLeft+"px",f.left=s,o&&(e.left=o)),""===u?"auto":u});i.each(["height","width"],function(n,r){i.cssHooks[r]={get:function(n,u,f){return u?0===n.offsetWidth&&de.test(i.css(n,"display"))?i.swap(n,to,function(){return hu(n,r,f)}):hu(n,r,f):t},set:function(n,t,u){var f=u&&v(n);return ou(n,t,u?su(n,r,u,i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f),f):0)}}});i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return be.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+100*t+")":"",f=u&&u.filter||r.filter||"";r.zoom=1;(t>=1||""===t)&&""===i.trim(f.replace(hi,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===t||u&&!u.filter)||(r.filter=hi.test(f)?f.replace(hi,e):f+" "+e)}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,r){return r?i.swap(n,{display:"inline-block"},y,[n,"marginRight"]):t}});!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,r){i.cssHooks[r]={get:function(n,u){return u?(u=y(n,r),ct.test(u)?i(n).position()[r]+"px":u):t}}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return 0>=n.offsetWidth&&0>=n.offsetHeight||!i.support.reliableHiddenOffsets&&"none"===(n.style&&n.style.display||i.css(n,"display"))},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}};tu.test(n)||(i.cssHooks[n+t].set=ou)});var io=/%20/g,ro=/\[\]$/,au=/\r?\n/g,uo=/^(?:submit|button|image|reset|file)$/i,fo=/^(?:input|select|textarea|keygen)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&fo.test(this.nodeName)&&!uo.test(n)&&(this.checked||!ei.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(au,"\r\n")}}):{name:t.name,value:r.replace(au,"\r\n")}}).get()}});i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():null==t?"":t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)ci(u,n[u],r,e);return f.join("&").replace(io,"+")};i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.hover=function(n,t){return this.mouseenter(n).mouseleave(t||n)};var w,c,li=i.now(),ai=/\?/,eo=/#.*$/,vu=/([?&])_=[^&]*/,oo=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,so=/^(?:GET|HEAD)$/,ho=/^\/\//,yu=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,pu=i.fn.load,wu={},vi={},bu="*/".concat("*");try{c=ff.href}catch(go){c=r.createElement("a");c.href="";c=c.href}w=yu.exec(c.toLowerCase())||[];i.fn.load=function(n,r,u){if("string"!=typeof n&&pu)return pu.apply(this,arguments);var f,s,h,e=this,o=n.indexOf(" ");return o>=0&&(f=n.slice(o,n.length),n=n.slice(0,o)),i.isFunction(r)?(u=r,r=t):r&&"object"==typeof r&&(h="POST"),e.length>0&&i.ajax({url:n,type:h,dataType:"html",data:r}).done(function(n){s=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).complete(u&&function(n,t){e.each(u,s||[n.responseText,t,n])}),this};i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({url:n,type:r,dataType:e,data:u,success:f})}});i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:c,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(w[1]),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?yi(yi(n,i.ajaxSettings),t):yi(i.ajaxSettings,n)},ajaxPrefilter:ku(wu),ajaxTransport:ku(vi),ajax:function(n,r){function k(n,r,s,c){var l,k,w,rt,p,a=r;2!==o&&(o=2,g&&clearTimeout(g),y=t,d=c||"",f.readyState=n>0?4:0,s&&(rt=co(u,f,s)),n>=200&&300>n||304===n?(u.ifModified&&(p=f.getResponseHeader("Last-Modified"),p&&(i.lastModified[e]=p),p=f.getResponseHeader("etag"),p&&(i.etag[e]=p)),204===n?(l=!0,a="nocontent"):304===n?(l=!0,a="notmodified"):(l=lo(u,rt),a=l.state,k=l.data,w=l.error,l=!w)):(w=a,(n||!a)&&(a="error",0>n&&(n=0))),f.status=n,f.statusText=(r||a)+"",l?tt.resolveWith(h,[k,a,f]):tt.rejectWith(h,[f,a,w]),f.statusCode(b),b=t,v&&nt.trigger(l?"ajaxSuccess":"ajaxError",[f,u,l?k:w]),it.fireWith(h,[f,a]),v&&(nt.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof n&&(r=n,n=t);r=r||{};var l,a,e,d,g,v,y,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),b=u.statusCode||{},rt={},ut={},o=0,ft="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(2===o){if(!p)for(p={};t=oo.exec(d);)p[t[1].toLowerCase()]=t[2];t=p[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===o?d:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=ut[i]=ut[i]||n,rt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>o)for(t in n)b[t]=[b[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||ft;return y&&y.abort(t),k(0,t),this}};if(tt.promise(f).complete=it.add,f.success=f.done,f.error=f.fail,u.url=((n||u.url||c)+"").replace(eo,"").replace(ho,w[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(s)||[""],null==u.crossDomain&&(l=yu.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===w[1]&&l[2]===w[2]&&(l[3]||("http:"===l[1]?80:443))==(w[3]||("http:"===w[1]?80:443)))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),du(wu,u,r,f),2===o)return f;v=u.global;v&&0==i.active++&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!so.test(u.type);e=u.url;u.hasContent||(u.data&&(e=u.url+=(ai.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=vu.test(e)?e.replace(vu,"$1_="+li++):e+(ai.test(e)?"&":"?")+"_="+li++));u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+bu+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)f.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(h,f,u)===!1||2===o))return f.abort();ft="abort";for(a in{success:1,error:1,complete:1})f[a](u[a]);if(y=du(vi,u,r,f)){f.readyState=1;v&&nt.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(g=setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1;y.send(rt,k)}catch(et){if(!(2>o))throw et;k(-1,et)}}else k(-1,"No Transport");return f},getScript:function(n,r){return i.get(n,t,r,"script")},getJSON:function(n,t,r){return i.get(n,t,r,"json")}});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});i.ajaxTransport("script",function(n){if(n.crossDomain){var u,f=r.head||i("head")[0]||r.documentElement;return{send:function(t,i){u=r.createElement("script");u.async=!0;n.scriptCharset&&(u.charset=n.scriptCharset);u.src=n.url;u.onload=u.onreadystatechange=function(n,t){(t||!u.readyState||/loaded|complete/.test(u.readyState))&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),u=null,t||i(200,"success"))};f.insertBefore(u,f.firstChild)},abort:function(){u&&u.onload(t,!0)}}}});pi=[];lt=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=pi.pop()||i.expando+"_"+li++;return this[n]=!0,n}});i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.jsonp!==!1&&(lt.test(r.url)?"url":"string"==typeof r.data&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&lt.test(r.data)&&"data");return h||"jsonp"===r.dataTypes[0]?(e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,h?r[h]=r[h].replace(lt,"$1"+e):r.jsonp!==!1&&(r.url+=(ai.test(r.url)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",s=n[e],n[e]=function(){o=arguments},f.always(function(){n[e]=s;r[e]&&(r.jsonpCallback=u.jsonpCallback,pi.push(e));o&&i.isFunction(s)&&s(o[0]);o=s=t}),"script"):t});gu=0;at=n.ActiveXObject&&function(){for(var n in g)g[n](t,!0)};i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&nf()||ao()}:nf;nt=i.ajaxSettings.xhr();i.support.cors=!!nt&&"withCredentials"in nt;nt=i.support.ajax=!!nt;nt&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var h,s,o=r.xhr();if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType);r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null);u=function(n,f){var s,a,l,c;try{if(u&&(f||4===o.readyState))if(u=t,h&&(o.onreadystatechange=i.noop,at&&delete g[h]),f)4!==o.readyState&&o.abort();else{c={};s=o.status;a=o.getAllResponseHeaders();"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(y){l=""}s||!r.isLocal||r.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(v){f||e(-1,v)}c&&e(s,l,c,a)};r.async?4===o.readyState?setTimeout(u):(h=++gu,at&&(g||(g={},i(n).unload(at)),g[h]=u),o.onreadystatechange=u):u()},abort:function(){u&&u(t,!0)}}}});var tt,vt,vo=/^(?:toggle|show|hide)$/,yo=RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),po=/queueHooks$/,yt=[ko],ft={"*":[function(n,t){var o,s,r=this.createTween(n,t),e=yo.exec(t),h=r.cur(),u=+h||0,f=1,c=20;if(e){if(o=+e[2],s=e[3]||(i.cssNumber[n]?"":"px"),"px"!==s&&u){u=i.css(r.elem,n,!0)||o||1;do f=f||".5",u/=f,i.style(r.elem,n,u+s);while(f!==(f=r.cur()/h)&&1!==f&&--c)}r.unit=s;r.start=u;r.end=e[1]?u+(e[1]+1)*o:o}return r}]};i.Animation=i.extend(rf,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;f>u;u++)r=n[u],ft[r]=ft[r]||[],ft[r].unshift(t)},prefilter:function(n,t){t?yt.unshift(n):yt.push(n)}});i.Tween=f;f.prototype={constructor:f,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=f.propHooks[this.prop];return n&&n.get?n.get(this):f.propHooks._default.get(this)},run:function(n){var r,t=f.propHooks[this.prop];return this.pos=r=this.options.duration?i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):f.propHooks._default.set(this),this}};f.prototype.init.prototype=f.prototype;f.propHooks={_default:{get:function(n){var t;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[i.cssProps[n.prop]]||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};f.propHooks.scrollTop=f.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(pt(t,!0),n,i,u)}});i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var o=i.isEmptyObject(n),e=i.speed(t,r,u),f=function(){var t=rf(this,i.extend({},n),e);f.finish=function(){t.stop(!0)};(o||i._data(this,"finish"))&&t.stop(!0)};return f.finish=f,o||e.queue===!1?this.each(f):this.queue(e.queue,f)},stop:function(n,r,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=null!=n&&n+"queueHooks",e=i.timers,r=i._data(this);if(t)r[t]&&r[t].stop&&f(r[t]);else for(t in r)r[t]&&r[t].stop&&po.test(t)&&f(r[t]);for(t=e.length;t--;)e[t].elem!==this||null!=n&&e[t].queue!==n||(e[t].anim.stop(u),o=!1,e.splice(t,1));(o||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,f=i._data(this),r=f[n+"queue"],e=f[n+"queueHooks"],u=i.timers,o=r?r.length:0;for(f.finish=!0,i.queue(this,n,[]),e&&e.cur&&e.cur.finish&&e.cur.finish.call(this),t=u.length;t--;)u[t].elem===this&&u[t].queue===n&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete f.finish})}});i.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(null==u.queue||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.timers=[];i.fx=f.prototype.init;i.fx.tick=function(){var u,n=i.timers,r=0;for(tt=i.now();n.length>r;r++)u=n[r],u()||n[r]!==u||n.splice(r--,1);n.length||i.fx.stop();tt=t};i.fx.timer=function(n){n()&&i.timers.push(n)&&i.fx.start()};i.fx.interval=13;i.fx.start=function(){vt||(vt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(vt);vt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fx.step={};i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,e,f={top:0,left:0},u=this[0],s=u&&u.ownerDocument;if(s)return r=s.documentElement,i.contains(r,u)?(typeof u.getBoundingClientRect!==o&&(f=u.getBoundingClientRect()),e=uf(s),{top:f.top+(e.pageYOffset||r.scrollTop)-(r.clientTop||0),left:f.left+(e.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):f};i.offset={setOffset:function(n,t,r){var f=i.css(n,"position");"static"===f&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=("absolute"===f||"fixed"===f)&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0);i.isFunction(t)&&(t=t.call(n,r,o));null!=t.top&&(u.top=t.top-o.top+h);null!=t.left&&(u.left=t.left-o.left+c);"using"in t?t.using.call(n,u):e.css(u)}};i.fn.extend({position:function(){if(this[0]){var n,r,t={top:0,left:0},u=this[0];return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||r.documentElement;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||r.documentElement})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=uf(n);return e===t?o?r in o?o[r]:o.document.documentElement[f]:n[f]:(o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e,t)},n,f,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||"boolean"!=typeof f),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:9===r.nodeType?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})});n.jQuery=n.$=i;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i})})(window),function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Popper=t()}(this,function(){"use strict";function ut(n){return n&&"[object Function]"==={}.toString.call(n)}function r(n,t){if(1!==n.nodeType)return[];var i=getComputedStyle(n,null);return t?i[t]:i}function y(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function s(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}var t=r(n),i=t.overflow,u=t.overflowX,f=t.overflowY;return/(auto|scroll)/.test(i+f+u)?n:s(y(n))}function u(n){var t=n&&n.offsetParent,i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===r(t,"position")?u(t):t:n?n.ownerDocument.documentElement:document.documentElement}function ui(n){var t=n.nodeName;return"BODY"!==t&&("HTML"===t||u(n.firstElementChild)===n)}function p(n){return null===n.parentNode?n:p(n.parentNode)}function c(n,t){var i,f;if(!n||!n.nodeType||!t||!t.nodeType)return document.documentElement;var e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=e?n:t,s=e?t:n,r=document.createRange();return(r.setStart(o,0),r.setEnd(s,0),i=r.commonAncestorContainer,n!==i&&t!==i||o.contains(s))?ui(i)?i:u(i):(f=p(n),f.host?c(f.host,t):c(n,p(t).host))}function f(n){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top",t="top"===f?"scrollTop":"scrollLeft",i=n.nodeName,r,u;return"BODY"===i||"HTML"===i?(r=n.ownerDocument.documentElement,u=n.ownerDocument.scrollingElement||r,u[t]):n[t]}function fi(n,t){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=f(t,"top"),u=f(t,"left"),i=e?-1:1;return n.top+=r*i,n.bottom+=r*i,n.left+=u*i,n.right+=u*i,n}function ft(n,t){var i="x"===t?"Left":"Top",r="Left"==i?"Right":"Bottom";return parseFloat(n["border"+i+"Width"],10)+parseFloat(n["border"+r+"Width"],10)}function et(n,t,r,u){return i(t["offset"+n],t["scroll"+n],r["client"+n],r["offset"+n],r["scroll"+n],a()?r["offset"+n]+u["margin"+("Height"===n?"Top":"Left")]+u["margin"+("Height"===n?"Bottom":"Right")]:0)}function ot(){var t=document.body,n=document.documentElement,i=a()&&getComputedStyle(n);return{height:et("Height",t,n,i),width:et("Width",t,n,i)}}function t(t){return n({},t,{right:t.left+t.width,bottom:t.top+t.height})}function w(n){var i={},e,o,c;if(a())try{i=n.getBoundingClientRect();e=f(n,"top");o=f(n,"left");i.top+=e;i.left+=o;i.bottom+=e;i.right+=o}catch(n){}else i=n.getBoundingClientRect();var u={left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top},l="HTML"===n.nodeName?ot():{},v=l.width||n.clientWidth||u.right-u.left,y=l.height||n.clientHeight||u.bottom-u.top,s=n.offsetWidth-v,h=n.offsetHeight-y;return(s||h)&&(c=r(n),s-=ft(c,"x"),h-=ft(c,"y"),u.width-=s,u.height-=h),t(u)}function b(n,i){var y=a(),b="HTML"===i.nodeName,f=w(n),p=w(i),c=s(n),e=r(i),l=parseFloat(e.borderTopWidth,10),v=parseFloat(e.borderLeftWidth,10),u=t({top:f.top-p.top-l,left:f.left-p.left-v,width:f.width,height:f.height}),o,h;return(u.marginTop=0,u.marginLeft=0,!y&&b)&&(o=parseFloat(e.marginTop,10),h=parseFloat(e.marginLeft,10),u.top-=l-o,u.bottom-=l-o,u.left-=v-h,u.right-=v-h,u.marginTop=o,u.marginLeft=h),(y?i.contains(c):i===c&&"BODY"!==c.nodeName)&&(u=fi(u,i)),u}function ei(n){var r=n.ownerDocument.documentElement,u=b(n,r),e=i(r.clientWidth,window.innerWidth||0),o=i(r.clientHeight,window.innerHeight||0),s=f(r),h=f(r,"left"),c={top:s-u.top+u.marginTop,left:h-u.left+u.marginLeft,width:e,height:o};return t(c)}function st(n){var t=n.nodeName;return"BODY"===t||"HTML"===t?!1:"fixed"===r(n,"position")||st(y(n))}function k(n,t,i,r){var u={top:0,left:0},o=c(n,t),e,f;if("viewport"===r)u=ei(o);else if("scrollParent"===r?(e=s(y(t)),"BODY"===e.nodeName&&(e=n.ownerDocument.documentElement)):e="window"===r?n.ownerDocument.documentElement:r,f=b(e,o),"HTML"!==e.nodeName||st(o))u=f;else{var h=ot(),l=h.height,a=h.width;u.top+=f.top-f.marginTop;u.bottom=l+f.top;u.left+=f.left-f.marginLeft;u.right=a+f.left}return u.left+=i,u.top+=i,u.right-=i,u.bottom-=i,u}function oi(n){var t=n.width,i=n.height;return t*i}function ht(t,i,r,u,f){var l=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var e=k(r,u,l,f),o={top:{width:e.width,height:i.top-e.top},right:{width:e.right-i.right,height:e.height},bottom:{width:e.width,height:e.bottom-i.bottom},left:{width:i.left-e.left,height:e.height}},s=Object.keys(o).map(function(t){return n({key:t},o[t],{area:oi(o[t])})}).sort(function(n,t){return t.area-n.area}),h=s.filter(function(n){var t=n.width,i=n.height;return t>=r.clientWidth&&i>=r.clientHeight}),a=0<h.length?h[0].key:s[0].key,c=t.split("-")[1];return a+(c?"-"+c:"")}function ct(n,t,i){var r=c(t,i);return b(i,r)}function lt(n){var t=getComputedStyle(n),i=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:n.offsetWidth+r,height:n.offsetHeight+i}}function l(n){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,function(n){return t[n]})}function at(n,t,i){i=i.split("-")[0];var r=lt(n),e={width:r.width,height:r.height},u=-1!==["right","left"].indexOf(i),o=u?"top":"left",f=u?"left":"top",s=u?"height":"width",h=u?"width":"height";return e[o]=t[o]+t[s]/2-r[s]/2,e[f]=i===f?t[f]-r[h]:t[l(f)],e}function h(n,t){return Array.prototype.find?n.find(t):n.filter(t)[0]}function si(n,t,i){if(Array.prototype.findIndex)return n.findIndex(function(n){return n[t]===i});var r=h(n,function(n){return n[t]===i});return n.indexOf(r)}function vt(n,i,r){var u=void 0===r?n:n.slice(0,si(n,"name",r));return u.forEach(function(n){n["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=n["function"]||n.fn;n.enabled&&ut(r)&&(i.offsets.popper=t(i.offsets.popper),i.offsets.reference=t(i.offsets.reference),i=r(i,n))}),i}function hi(){if(!this.state.isDestroyed){var n={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};n.offsets.reference=ct(this.state,this.popper,this.reference);n.placement=ht(this.options.placement,n.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);n.originalPlacement=n.placement;n.offsets.popper=at(this.popper,n.offsets.reference,n.placement);n.offsets.popper.position="absolute";n=vt(this.modifiers,n);this.state.isCreated?this.options.onUpdate(n):(this.state.isCreated=!0,this.options.onCreate(n))}}function yt(n,t){return n.some(function(n){var i=n.name,r=n.enabled;return r&&i===t})}function pt(n){for(var i,r,u=[!1,"ms","Webkit","Moz","O"],f=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<u.length-1;t++)if(i=u[t],r=i?""+i+f:n,"undefined"!=typeof document.body.style[r])return r;return null}function ci(){return this.state.isDestroyed=!0,yt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[pt("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function wt(n){var t=n.ownerDocument;return t?t.defaultView:window}function bt(n,t,i,r){var f="BODY"===n.nodeName,u=f?n.ownerDocument.defaultView:n;u.addEventListener(t,i,{passive:!0});f||bt(s(u.parentNode),t,i,r);r.push(u)}function li(n,t,i,r){i.updateBound=r;wt(n).addEventListener("resize",i.updateBound,{passive:!0});var u=s(n);return bt(u,"scroll",i.updateBound,i.scrollParents),i.scrollElement=u,i.eventsEnabled=!0,i}function ai(){this.state.eventsEnabled||(this.state=li(this.reference,this.options,this.state,this.scheduleUpdate))}function vi(n,t){return wt(n).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(n){n.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function yi(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=vi(this.reference,this.state))}function d(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function g(n,t){Object.keys(t).forEach(function(i){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&d(t[i])&&(r="px");n.style[i]=t[i]+r})}function pi(n,t){Object.keys(t).forEach(function(i){var r=t[i];!1===r?n.removeAttribute(i):n.setAttribute(i,t[i])})}function kt(n,t,i){var u=h(n,function(n){var i=n.name;return i===t}),f=!!u&&n.some(function(n){return n.name===i&&n.enabled&&n.order<u.order}),r;return f||(r="`"+t+"`",console.warn("`"+i+"` modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")),f}function wi(n){return"end"===n?"start":"start"===n?"end":n}function dt(n){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=it.indexOf(n),i=it.slice(t+1).concat(it.slice(0,t));return r?i.reverse():i}function bi(n,r,u,f){var h=n.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+h[1],e=h[2],s,c,l;if(!o)return n;if(0===e.indexOf("%")){switch(e){case"%p":s=u;break;case"%":case"%r":default:s=f}return c=t(s),c[r]/100*o}return"vh"===e||"vw"===e?(l="vh"===e?i(document.documentElement.clientHeight,window.innerHeight||0):i(document.documentElement.clientWidth,window.innerWidth||0),l/100*o):o}function ki(n,t,i,r){var s=[0,0],c=-1!==["right","left"].indexOf(r),u=n.split(/(\+|\-)/).map(function(n){return n.trim()}),f=u.indexOf(h(u,function(n){return-1!==n.search(/,|\s/)})),o,e;return u[f]&&-1===u[f].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),o=/\s*,\s*|\s+/,e=-1===f?[u]:[u.slice(0,f).concat([u[f].split(o)[0]]),[u[f].split(o)[1]].concat(u.slice(f+1))],e=e.map(function(n,r){var f=(1===r?!c:c)?"height":"width",u=!1;return n.reduce(function(n,t){return""===n[n.length-1]&&-1!==["+","-"].indexOf(t)?(n[n.length-1]=t,u=!0,n):u?(n[n.length-1]+=t,u=!1,n):n.concat(t)},[]).map(function(n){return bi(n,f,t,i)})}),e.forEach(function(n,t){n.forEach(function(i,r){d(i)&&(s[t]+=i*("-"===n[r-1]?-1:1))})}),s}function di(n,t){var r,f=t.offset,o=n.placement,e=n.offsets,i=e.popper,s=e.reference,u=o.split("-")[0];return r=d(+f)?[+f,0]:ki(f,i,s,u),"left"===u?(i.top+=r[0],i.left-=r[1]):"right"===u?(i.top+=r[0],i.left+=r[1]):"top"===u?(i.left+=r[0],i.top-=r[1]):"bottom"===u&&(i.left+=r[0],i.top+=r[1]),n.popper=i,n}for(var gt=Math.min,e=Math.floor,i=Math.max,ni="undefined"!=typeof window&&"undefined"!=typeof document,ti=["Edge","Trident","Firefox"],ii=0,nt=0;nt<ti.length;nt+=1)if(ni&&0<=navigator.userAgent.indexOf(ti[nt])){ii=1;break}var tt,gi=ni&&window.Promise,nr=gi?function(n){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1;n()}))}}:function(n){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1;n()},ii))}},a=function(){return void 0==tt&&(tt=-1!==navigator.appVersion.indexOf("MSIE 10")),tt},tr=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},ir=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=function(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n},n=Object.assign||function(n){for(var t,r,i=1;i<arguments.length;i++)for(r in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},ri=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],it=ri.slice(3),rt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},v=function(){function t(i,r){var u=this,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e;tr(this,t);this.scheduleUpdate=function(){return requestAnimationFrame(u.update)};this.update=nr(this.update.bind(this));this.options=n({},t.Defaults,f);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=i&&i.jquery?i[0]:i;this.popper=r&&r.jquery?r[0]:r;this.options.modifiers={};Object.keys(n({},t.Defaults.modifiers,f.modifiers)).forEach(function(i){u.options.modifiers[i]=n({},t.Defaults.modifiers[i]||{},f.modifiers?f.modifiers[i]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(t){return n({name:t},u.options.modifiers[t])}).sort(function(n,t){return n.order-t.order});this.modifiers.forEach(function(n){n.enabled&&ut(n.onLoad)&&n.onLoad(u.reference,u.popper,u.options,n,u.state)});this.update();e=this.options.eventsEnabled;e&&this.enableEventListeners();this.state.eventsEnabled=e}return ir(t,[{key:"update",value:function(){return hi.call(this)}},{key:"destroy",value:function(){return ci.call(this)}},{key:"enableEventListeners",value:function(){return ai.call(this)}},{key:"disableEventListeners",value:function(){return yi.call(this)}}]),t}();return v.Utils=("undefined"==typeof window?global:window).PopperUtils,v.placements=ri,v.Defaults={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var u=t.placement,l=u.split("-")[0],f=u.split("-")[1];if(f){var e=t.offsets,r=e.reference,s=e.popper,h=-1!==["bottom","top"].indexOf(l),i=h?"left":"top",c=h?"width":"height",a={start:o({},i,r[i]),end:o({},i,r[i]+r[c]-s[c])};t.offsets.popper=n({},s,a[f])}return t}},offset:{order:200,enabled:!0,fn:di,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,r){var s=r.boundariesElement||u(t.instance.popper),e;t.instance.reference===s&&(s=u(s));e=k(t.instance.popper,t.instance.reference,r.padding,s);r.boundaries=e;var h=r.priority,f=t.offsets.popper,c={primary:function(n){var t=f[n];return f[n]<e[n]&&!r.escapeWithReference&&(t=i(f[n],e[n])),o({},n,t)},secondary:function(n){var t="right"===n?"left":"top",i=f[t];return f[n]>e[n]&&!r.escapeWithReference&&(i=gt(f[t],e[n]-("right"===n?f.width:f.height))),o({},t,i)}};return h.forEach(function(t){var i=-1===["left","top"].indexOf(t)?"secondary":"primary";f=n({},f,c[i](t))}),t.offsets.popper=f,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(n){var s=n.offsets,u=s.popper,i=s.reference,h=n.placement.split("-")[0],r=e,f=-1!==["top","bottom"].indexOf(h),o=f?"right":"bottom",t=f?"left":"top",c=f?"width":"height";return u[o]<r(i[t])&&(n.offsets.popper[t]=r(i[t])-u[c]),u[t]>r(i[o])&&(n.offsets.popper[t]=r(i[o])),n}},arrow:{order:500,enabled:!0,fn:function(n,u){var l,e;if(!kt(n.instance.modifiers,"arrow","keepTogether"))return n;if(e=u.element,"string"==typeof e){if(e=n.instance.popper.querySelector(e),!e)return n}else if(!n.instance.popper.contains(e))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),n;var d=n.placement.split("-")[0],b=n.offsets,c=b.popper,s=b.reference,a=-1!==["left","right"].indexOf(d),y=a?"height":"width",p=a?"Top":"Left",f=p.toLowerCase(),g=a?"left":"top",v=a?"bottom":"right",h=lt(e)[y];s[v]-h<c[f]&&(n.offsets.popper[f]-=c[f]-(s[v]-h));s[f]+h>c[v]&&(n.offsets.popper[f]+=s[f]+h-c[v]);n.offsets.popper=t(n.offsets.popper);var nt=s[f]+s[y]/2-h/2,k=r(n.instance.popper),tt=parseFloat(k["margin"+p],10),it=parseFloat(k["border"+p+"Width"],10),w=nt-n.offsets.popper[f]-tt-it;return w=i(gt(c[y]-h,w),0),n.arrowElement=e,n.offsets.arrow=(l={},o(l,f,Math.round(w)),o(l,g,""),l),n},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,i){if(yt(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var o=k(t.instance.popper,t.instance.reference,i.padding,i.boundariesElement),r=t.placement.split("-")[0],s=l(r),u=t.placement.split("-")[1]||"",f=[];switch(i.behavior){case rt.FLIP:f=[r,s];break;case rt.CLOCKWISE:f=dt(r);break;case rt.COUNTERCLOCKWISE:f=dt(r,!0);break;default:f=i.behavior}return f.forEach(function(h,c){if(r!==h||f.length===c+1)return t;r=t.placement.split("-")[0];s=l(r);var v=t.offsets.popper,y=t.offsets.reference,a=e,w="left"===r&&a(v.right)>a(y.left)||"right"===r&&a(v.left)<a(y.right)||"top"===r&&a(v.bottom)>a(y.top)||"bottom"===r&&a(v.top)<a(y.bottom),b=a(v.left)<a(o.left),k=a(v.right)>a(o.right),d=a(v.top)<a(o.top),g=a(v.bottom)>a(o.bottom),nt="left"===r&&b||"right"===r&&k||"top"===r&&d||"bottom"===r&&g,p=-1!==["top","bottom"].indexOf(r),tt=!!i.flipVariations&&(p&&"start"===u&&b||p&&"end"===u&&k||!p&&"start"===u&&d||!p&&"end"===u&&g);(w||nt||tt)&&(t.flipped=!0,(w||nt)&&(r=f[c+1]),tt&&(u=wi(u)),t.placement=r+(u?"-"+u:""),t.offsets.popper=n({},t.offsets.popper,at(t.instance.popper,t.offsets.reference,t.placement)),t=vt(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(n){var u=n.placement,i=u.split("-")[0],f=n.offsets,r=f.popper,o=f.reference,e=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return r[e?"left":"top"]=o[i]-(s?r[e?"width":"height"]:0),n.placement=l(u),n.offsets.popper=t(r),n}},hide:{order:800,enabled:!0,fn:function(n){if(!kt(n.instance.modifiers,"hide","preventOverflow"))return n;var t=n.offsets.reference,i=h(n.instance.modifiers,function(n){return"preventOverflow"===n.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===n.hide)return n;n.hide=!0;n.attributes["x-out-of-boundaries"]=""}else{if(!1===n.hide)return n;n.hide=!1;n.attributes["x-out-of-boundaries"]=!1}return n}},computeStyle:{order:850,enabled:!0,fn:function(t,i){var g=i.x,nt=i.y,f=t.offsets.popper,l=h(t.instance.modifiers,function(n){return"applyStyle"===n.name}).gpuAcceleration,b,k,d;void 0!==l&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,v,tt=void 0===l?i.gpuAcceleration:l,it=u(t.instance.popper),y=w(it),r={position:f.position},c={left:e(f.left),top:e(f.top),bottom:e(f.bottom),right:e(f.right)},o="bottom"===g?"top":"bottom",s="right"===nt?"left":"right",p=pt("transform");return(v="bottom"==o?-y.height+c.bottom:c.top,a="right"==s?-y.width+c.right:c.left,tt&&p)?(r[p]="translate3d("+a+"px, "+v+"px, 0)",r[o]=0,r[s]=0,r.willChange="transform"):(b="bottom"==o?-1:1,k="right"==s?-1:1,r[o]=v*b,r[s]=a*k,r.willChange=o+", "+s),d={"x-placement":t.placement},t.attributes=n({},d,t.attributes),t.styles=n({},r,t.styles),t.arrowStyles=n({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(n){return g(n.instance.popper,n.styles),pi(n.instance.popper,n.attributes),n.arrowElement&&Object.keys(n.arrowStyles).length&&g(n.arrowElement,n.arrowStyles),n},onLoad:function(n,t,i,r,u){var f=ct(u,t,n),e=ht(i.placement,f,t,n,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",e),g(t,{position:"absolute"}),i},gpuAcceleration:void 0}}},v});
/*!
  * Bootstrap v4.0.0 (https://getbootstrap.com)
  * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t(n.bootstrap={},n.jQuery,n.Popper)}(this,function(n,t,i){"use strict";function it(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function o(n,t,i){return t&&it(n.prototype,t),i&&it(n,i),n}function f(){return(f=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n}).apply(this,arguments)}t=t&&t.hasOwnProperty("default")?t.default:t;i=i&&i.hasOwnProperty("default")?i.default:i;var e,h,v,y,rt,p,ut,ft,et,s,u,c,w,b,k,ot,l,st,ht,g,ct,lt,at,nt,tt,a,r=function(n){function r(i){var u=this,r=!1;return n(this).one(t.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||t.triggerTransitionEnd(u)},i),this}var i=!1,t={TRANSITION_END:"bsTransitionEnd",getUID:function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n},getSelectorFromElement:function(t){var r,i=t.getAttribute("data-target");i&&"#"!==i||(i=t.getAttribute("href")||"");"#"===i.charAt(0)&&(r=i,i=r="function"==typeof n.escapeSelector?n.escapeSelector(r).substr(1):r.replace(/(:|\.|\[|\]|,|=|@)/g,"\\$1"));try{return n(document).find(i).length>0?i:null}catch(n){return null}},reflow:function(n){return n.offsetHeight},triggerTransitionEnd:function(t){n(t).trigger(i.end)},supportsTransitionEnd:function(){return Boolean(i)},isElement:function(n){return(n[0]||n).nodeType},typeCheckConfig:function(n,i,r){var u,s;for(u in r)if(Object.prototype.hasOwnProperty.call(r,u)){var e=r[u],f=i[u],o=f&&t.isElement(f)?"element":(s=f,{}.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase());if(!new RegExp(e).test(o))throw new Error(n.toUpperCase()+': Option "'+u+'" provided type "'+o+'" but expected type "'+e+'".');}}};return i=("undefined"==typeof window||!window.QUnit)&&{end:"transitionend"},n.fn.emulateTransitionEnd=r,t.supportsTransitionEnd()&&(n.event.special[t.TRANSITION_END]={bindType:i.end,delegateType:i.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),t}(t),vt=(h="alert",y="."+(v="bs.alert"),rt=(e=t).fn[h],p={CLOSE:"close"+y,CLOSED:"closed"+y,CLICK_DATA_API:"click"+y+".data-api"},ut="alert",ft="fade",et="show",s=function(){function n(n){this._element=n}var t=n.prototype;return t.close=function(n){n=n||this._element;var t=this._getRootElement(n);this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){e.removeData(this._element,v);this._element=null},t._getRootElement=function(n){var i=r.getSelectorFromElement(n),t=!1;return i&&(t=e(i)[0]),t||(t=e(n).closest("."+ut)[0]),t},t._triggerCloseEvent=function(n){var t=e.Event(p.CLOSE);return e(n).trigger(t),t},t._removeElement=function(n){var t=this;e(n).removeClass(et);r.supportsTransitionEnd()&&e(n).hasClass(ft)?e(n).one(r.TRANSITION_END,function(i){return t._destroyElement(n,i)}).emulateTransitionEnd(150):this._destroyElement(n)},t._destroyElement=function(n){e(n).detach().trigger(p.CLOSED).remove()},n._jQueryInterface=function(t){return this.each(function(){var r=e(this),i=r.data(v);i||(i=new n(this),r.data(v,i));"close"===t&&i[t](this)})},n._handleDismiss=function(n){return function(t){t&&t.preventDefault();n.close(this)}},o(n,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),n}(),e(document).on(p.CLICK_DATA_API,'[data-dismiss="alert"]',s._handleDismiss(new s)),e.fn[h]=s._jQueryInterface,e.fn[h].Constructor=s,e.fn[h].noConflict=function(){return e.fn[h]=rt,s._jQueryInterface},s),yt=(c="button",b="."+(w="bs.button"),k=".data-api",ot=(u=t).fn[c],l="active",st="btn",ht="focus",g='[data-toggle^="button"]',ct='[data-toggle="buttons"]',lt="input",at=".active",nt=".btn",tt={CLICK_DATA_API:"click"+b+k,FOCUS_BLUR_DATA_API:"focus"+b+k+" blur"+b+k},a=function(){function n(n){this._element=n}var t=n.prototype;return t.toggle=function(){var i=!0,f=!0,t=u(this._element).closest(ct)[0],n,r;if(t&&(n=u(this._element).find(lt)[0],n)){if("radio"===n.type&&(n.checked&&u(this._element).hasClass(l)?i=!1:(r=u(t).find(at)[0],r&&u(r).removeClass(l))),i){if(n.hasAttribute("disabled")||t.hasAttribute("disabled")||n.classList.contains("disabled")||t.classList.contains("disabled"))return;n.checked=!u(this._element).hasClass(l);u(n).trigger("change")}n.focus();f=!1}f&&this._element.setAttribute("aria-pressed",!u(this._element).hasClass(l));i&&u(this._element).toggleClass(l)},t.dispose=function(){u.removeData(this._element,w);this._element=null},n._jQueryInterface=function(t){return this.each(function(){var i=u(this).data(w);i||(i=new n(this),u(this).data(w,i));"toggle"===t&&i[t]()})},o(n,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),n}(),u(document).on(tt.CLICK_DATA_API,g,function(n){n.preventDefault();var t=n.target;u(t).hasClass(st)||(t=u(t).closest(nt));a._jQueryInterface.call(u(t),"toggle")}).on(tt.FOCUS_BLUR_DATA_API,g,function(n){var t=u(n.target).closest(nt)[0];u(t).toggleClass(ht,/^focus(in)?$/.test(n.type))}),u.fn[c]=a._jQueryInterface,u.fn[c].Constructor=a,u.fn[c].noConflict=function(){return u.fn[c]=ot,a._jQueryInterface},a),pt=function(n){var s="carousel",c="bs.carousel",t="."+c,y=n.fn[s],v={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},p={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},l="next",a="prev",w="left",b="right",i={SLIDE:"slide"+t,SLID:"slid"+t,KEYDOWN:"keydown"+t,MOUSEENTER:"mouseenter"+t,MOUSELEAVE:"mouseleave"+t,TOUCHEND:"touchend"+t,LOAD_DATA_API:"load"+t+".data-api",CLICK_DATA_API:"click"+t+".data-api"},k="carousel",e="active",d="slide",g="carousel-item-right",nt="carousel-item-left",tt="carousel-item-next",it="carousel-item-prev",u={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},h=function(){function y(t,i){this._items=null;this._interval=null;this._activeElement=null;this._isPaused=!1;this._isSliding=!1;this.touchTimeout=null;this._config=this._getConfig(i);this._element=n(t)[0];this._indicatorsElement=n(this._element).find(u.INDICATORS)[0];this._addEventListeners()}var h=y.prototype;return h.next=function(){this._isSliding||this._slide(l)},h.nextWhenVisible=function(){!document.hidden&&n(this._element).is(":visible")&&"hidden"!==n(this._element).css("visibility")&&this.next()},h.prev=function(){this._isSliding||this._slide(a)},h.pause=function(t){t||(this._isPaused=!0);n(this._element).find(u.NEXT_PREV)[0]&&r.supportsTransitionEnd()&&(r.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null},h.cycle=function(n){n||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},h.to=function(t){var e=this,r,f;if(this._activeElement=n(this._element).find(u.ACTIVE_ITEM)[0],r=this._getItemIndex(this._activeElement),!(t>this._items.length-1||t<0))if(this._isSliding)n(this._element).one(i.SLID,function(){return e.to(t)});else{if(r===t)return this.pause(),void this.cycle();f=t>r?l:a;this._slide(f,this._items[t])}},h.dispose=function(){n(this._element).off(t);n.removeData(this._element,c);this._items=null;this._config=null;this._element=null;this._interval=null;this._isPaused=null;this._isSliding=null;this._activeElement=null;this._indicatorsElement=null},h._getConfig=function(n){return n=f({},v,n),r.typeCheckConfig(s,n,p),n},h._addEventListeners=function(){var t=this;this._config.keyboard&&n(this._element).on(i.KEYDOWN,function(n){return t._keydown(n)});"hover"===this._config.pause&&(n(this._element).on(i.MOUSEENTER,function(n){return t.pause(n)}).on(i.MOUSELEAVE,function(n){return t.cycle(n)}),"ontouchstart"in document.documentElement&&n(this._element).on(i.TOUCHEND,function(){t.pause();t.touchTimeout&&clearTimeout(t.touchTimeout);t.touchTimeout=setTimeout(function(n){return t.cycle(n)},500+t._config.interval)}))},h._keydown=function(n){if(!/input|textarea/i.test(n.target.tagName))switch(n.which){case 37:n.preventDefault();this.prev();break;case 39:n.preventDefault();this.next()}},h._getItemIndex=function(t){return this._items=n.makeArray(n(t).parent().find(u.ITEM)),this._items.indexOf(t)},h._getItemByDirection=function(n,t){var u=n===l,f=n===a,i=this._getItemIndex(t),e=this._items.length-1,r;return(f&&0===i||u&&i===e)&&!this._config.wrap?t:(r=(i+(n===a?-1:1))%this._items.length,-1===r?this._items[this._items.length-1]:this._items[r])},h._triggerSlideEvent=function(t,r){var e=this._getItemIndex(t),o=this._getItemIndex(n(this._element).find(u.ACTIVE_ITEM)[0]),f=n.Event(i.SLIDE,{relatedTarget:t,direction:r,from:o,to:e});return n(this._element).trigger(f),f},h._setActiveIndicatorElement=function(t){if(this._indicatorsElement){n(this._indicatorsElement).find(u.ACTIVE).removeClass(e);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&n(i).addClass(e)}},h._slide=function(t,f){var h,c,a,y=this,s=n(this._element).find(u.ACTIVE_ITEM)[0],k=this._getItemIndex(s),o=f||s&&this._getItemByDirection(t,s),rt=this._getItemIndex(o),p=Boolean(this._interval),v;(t===l?(h=nt,c=tt,a=w):(h=g,c=it,a=b),o&&n(o).hasClass(e))?this._isSliding=!1:!this._triggerSlideEvent(o,a).isDefaultPrevented()&&s&&o&&(this._isSliding=!0,p&&this.pause(),this._setActiveIndicatorElement(o),v=n.Event(i.SLID,{relatedTarget:o,direction:a,from:k,to:rt}),r.supportsTransitionEnd()&&n(this._element).hasClass(d)?(n(o).addClass(c),r.reflow(o),n(s).addClass(h),n(o).addClass(h),n(s).one(r.TRANSITION_END,function(){n(o).removeClass(h+" "+c).addClass(e);n(s).removeClass(e+" "+c+" "+h);y._isSliding=!1;setTimeout(function(){return n(y._element).trigger(v)},0)}).emulateTransitionEnd(600)):(n(s).removeClass(e),n(o).addClass(e),this._isSliding=!1,n(this._element).trigger(v)),p&&this.cycle())},y._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(c),r=f({},v,n(this).data()),u;if("object"==typeof t&&(r=f({},r,t)),u="string"==typeof t?t:r.slide,i||(i=new y(this,r),n(this).data(c,i)),"number"==typeof t)i.to(t);else if("string"==typeof u){if("undefined"==typeof i[u])throw new TypeError('No method named "'+u+'"');i[u]()}else r.interval&&(i.pause(),i.cycle())})},y._dataApiClickHandler=function(t){var o=r.getSelectorFromElement(this),i,e,u;o&&(i=n(o)[0],i&&n(i).hasClass(k)&&(e=f({},n(i).data(),n(this).data()),u=this.getAttribute("data-slide-to"),u&&(e.interval=!1),y._jQueryInterface.call(n(i),e),u&&n(i).data(c).to(u),t.preventDefault()))},o(y,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return v}}]),y}();return n(document).on(i.CLICK_DATA_API,u.DATA_SLIDE,h._dataApiClickHandler),n(window).on(i.LOAD_DATA_API,function(){n(u.DATA_RIDE).each(function(){var t=n(this);h._jQueryInterface.call(t,t.data())})}),n.fn[s]=h._jQueryInterface,n.fn[s].Constructor=h,n.fn[s].noConflict=function(){return n.fn[s]=y,h._jQueryInterface},h}(t),wt=function(n){var u="collapse",t="bs.collapse",e="."+t,w=n.fn[u],a={toggle:!0,parent:""},b={toggle:"boolean",parent:"(string|element)"},s={SHOW:"show"+e,SHOWN:"shown"+e,HIDE:"hide"+e,HIDDEN:"hidden"+e,CLICK_DATA_API:"click"+e+".data-api"},i="show",c="collapse",l="collapsing",v="collapsed",p="width",k="height",y={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},h=function(){function h(t,i){var e,u,o,f;for(this._isTransitioning=!1,this._element=t,this._config=this._getConfig(i),this._triggerArray=n.makeArray(n('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]')),e=n(y.DATA_TOGGLE),u=0;u<e.length;u++)o=e[u],f=r.getSelectorFromElement(o),null!==f&&n(f).filter(t).length>0&&(this._selector=f,this._triggerArray.push(o));this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var e=h.prototype;return e.toggle=function(){n(this._element).hasClass(i)?this.hide():this.show()},e.show=function(){var u,o,e=this,a,f,p,w;this._isTransitioning||n(this._element).hasClass(i)||(this._parent&&0===(u=n.makeArray(n(this._parent).find(y.ACTIVES).filter('[data-parent="'+this._config.parent+'"]'))).length&&(u=null),u&&(o=n(u).not(this._selector).data(t))&&o._isTransitioning)||(a=n.Event(s.SHOW),(n(this._element).trigger(a),a.isDefaultPrevented())||(u&&(h._jQueryInterface.call(n(u).not(this._selector),"hide"),o||n(u).data(t,null)),f=this._getDimension(),n(this._element).removeClass(c).addClass(l),this._element.style[f]=0,this._triggerArray.length>0&&n(this._triggerArray).removeClass(v).attr("aria-expanded",!0),this.setTransitioning(!0),p=function(){n(e._element).removeClass(l).addClass(c).addClass(i);e._element.style[f]="";e.setTransitioning(!1);n(e._element).trigger(s.SHOWN)},r.supportsTransitionEnd()?(w="scroll"+(f[0].toUpperCase()+f.slice(1)),n(this._element).one(r.TRANSITION_END,p).emulateTransitionEnd(600),this._element.style[f]=this._element[w]+"px"):p()))},e.hide=function(){var a=this,f,t,u,e,o,h;if(!this._isTransitioning&&n(this._element).hasClass(i)&&(f=n.Event(s.HIDE),n(this._element).trigger(f),!f.isDefaultPrevented())){if(t=this._getDimension(),this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",r.reflow(this._element),n(this._element).addClass(l).removeClass(c).removeClass(i),this._triggerArray.length>0)for(u=0;u<this._triggerArray.length;u++)e=this._triggerArray[u],o=r.getSelectorFromElement(e),null!==o&&(n(o).hasClass(i)||n(e).addClass(v).attr("aria-expanded",!1));this.setTransitioning(!0);h=function(){a.setTransitioning(!1);n(a._element).removeClass(l).addClass(c).trigger(s.HIDDEN)};this._element.style[t]="";r.supportsTransitionEnd()?n(this._element).one(r.TRANSITION_END,h).emulateTransitionEnd(600):h()}},e.setTransitioning=function(n){this._isTransitioning=n},e.dispose=function(){n.removeData(this._element,t);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null},e._getConfig=function(n){return(n=f({},a,n)).toggle=Boolean(n.toggle),r.typeCheckConfig(u,n,b),n},e._getDimension=function(){return n(this._element).hasClass(p)?p:k},e._getParent=function(){var u=this,t=null,i;return r.isElement(this._config.parent)?(t=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(t=this._config.parent[0])):t=n(this._config.parent)[0],i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',n(t).find(i).each(function(n,t){u._addAriaAndCollapsedClass(h._getTargetFromElement(t),[t])}),t},e._addAriaAndCollapsedClass=function(t,r){if(t){var u=n(t).hasClass(i);r.length>0&&n(r).toggleClass(v,!u).attr("aria-expanded",u)}},h._getTargetFromElement=function(t){var i=r.getSelectorFromElement(t);return i?n(i)[0]:null},h._jQueryInterface=function(i){return this.each(function(){var u=n(this),r=u.data(t),e=f({},a,u.data(),"object"==typeof i&&i);if(!r&&e.toggle&&/show|hide/.test(i)&&(e.toggle=!1),r||(r=new h(this,e),u.data(t,r)),"string"==typeof i){if("undefined"==typeof r[i])throw new TypeError('No method named "'+i+'"');r[i]()}})},o(h,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return a}}]),h}();return n(document).on(s.CLICK_DATA_API,y.DATA_TOGGLE,function(i){"A"===i.currentTarget.tagName&&i.preventDefault();var u=n(this),f=r.getSelectorFromElement(this);n(f).each(function(){var i=n(this),r=i.data(t)?"toggle":u.data();h._jQueryInterface.call(i,r)})}),n.fn[u]=h._jQueryInterface,n.fn[u].Constructor=h,n.fn[u].noConflict=function(){return n.fn[u]=w,h._jQueryInterface},h}(t),bt=function(n){var h="dropdown",c="bs.dropdown",u="."+c,a=".data-api",b=n.fn[h],k=new RegExp("38|40|27"),t={HIDE:"hide"+u,HIDDEN:"hidden"+u,SHOW:"show"+u,SHOWN:"shown"+u,CLICK:"click"+u,CLICK_DATA_API:"click"+u+a,KEYDOWN_DATA_API:"keydown"+u+a,KEYUP_DATA_API:"keyup"+u+a},p="disabled",s="show",w="dropup",d="dropright",g="dropleft",v="dropdown-menu-right",nt="dropdown-menu-left",tt="position-static",l='[data-toggle="dropdown"]',y=".dropdown-menu",it=".navbar-nav",rt=".dropdown-menu .dropdown-item:not(.disabled)",ut="top-start",ft="top-end",et="bottom-start",ot="bottom-end",st="right-start",ht="left-start",ct={offset:0,flip:!0,boundary:"scrollParent"},lt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)"},e=function(){function e(n,t){this._element=n;this._popper=null;this._config=this._getConfig(t);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var a=e.prototype;return a.toggle=function(){var r,h,u,f,o;if(!this._element.disabled&&!n(this._element).hasClass(p)&&(r=e._getParentFromElement(this._element),h=n(this._menu).hasClass(s),(e._clearMenus(),!h)&&(u={relatedTarget:this._element},f=n.Event(t.SHOW,u),n(r).trigger(f),!f.isDefaultPrevented()))){if(!this._inNavbar){if("undefined"==typeof i)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");o=this._element;n(r).hasClass(w)&&(n(this._menu).hasClass(nt)||n(this._menu).hasClass(v))&&(o=r);"scrollParent"!==this._config.boundary&&n(r).addClass(tt);this._popper=new i(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===n(r).closest(it).length&&n("body").children().on("mouseover",null,n.noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);n(this._menu).toggleClass(s);n(r).toggleClass(s).trigger(n.Event(t.SHOWN,u))}},a.dispose=function(){n.removeData(this._element,c);n(this._element).off(u);this._element=null;this._menu=null;null!==this._popper&&(this._popper.destroy(),this._popper=null)},a.update=function(){this._inNavbar=this._detectNavbar();null!==this._popper&&this._popper.scheduleUpdate()},a._addEventListeners=function(){var i=this;n(this._element).on(t.CLICK,function(n){n.preventDefault();n.stopPropagation();i.toggle()})},a._getConfig=function(t){return t=f({},this.constructor.Default,n(this._element).data(),t),r.typeCheckConfig(h,t,this.constructor.DefaultType),t},a._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);this._menu=n(t).find(y)[0]}return this._menu},a._getPlacement=function(){var i=n(this._element).parent(),t=et;return i.hasClass(w)?(t=ut,n(this._menu).hasClass(v)&&(t=ft)):i.hasClass(d)?t=st:i.hasClass(g)?t=ht:n(this._menu).hasClass(v)&&(t=ot),t},a._detectNavbar=function(){return n(this._element).closest(".navbar").length>0},a._getPopperConfig=function(){var t=this,n={};return"function"==typeof this._config.offset?n.fn=function(n){return n.offsets=f({},n.offsets,t._config.offset(n.offsets)||{}),n}:n.offset=this._config.offset,{placement:this._getPlacement(),modifiers:{offset:n,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}}},e._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(c);if(i||(i=new e(this,"object"==typeof t?t:null),n(this).data(c,i)),"string"==typeof t){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},e._clearMenus=function(i){var u,r,v,o;if(!i||3!==i.which&&("keyup"!==i.type||9===i.which))for(u=n.makeArray(n(l)),r=0;r<u.length;r++){var f=e._getParentFromElement(u[r]),h=n(u[r]).data(c),a={relatedTarget:u[r]};h&&(v=h._menu,!n(f).hasClass(s)||i&&("click"===i.type&&/input|textarea/i.test(i.target.tagName)||"keyup"===i.type&&9===i.which)&&n.contains(f,i.target)||(o=n.Event(t.HIDE,a),n(f).trigger(o),o.isDefaultPrevented()||("ontouchstart"in document.documentElement&&n("body").children().off("mouseover",null,n.noop),u[r].setAttribute("aria-expanded","false"),n(v).removeClass(s),n(f).removeClass(s).trigger(n.Event(t.HIDDEN,a)))))}},e._getParentFromElement=function(t){var i,u=r.getSelectorFromElement(t);return u&&(i=n(u)[0]),i||t.parentNode},e._dataApiKeydownHandler=function(t){var u,f,r,i,o;(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||n(t.target).closest(y).length):!k.test(t.which))||(t.preventDefault(),t.stopPropagation(),this.disabled||n(this).hasClass(p))||(u=e._getParentFromElement(this),f=n(u).hasClass(s),(f||27===t.which&&32===t.which)&&(!f||27!==t.which&&32!==t.which)?(r=n(u).find(rt).get(),0!==r.length&&(i=r.indexOf(t.target),38===t.which&&i>0&&i--,40===t.which&&i<r.length-1&&i++,i<0&&(i=0),r[i].focus())):(27===t.which&&(o=n(u).find(l)[0],n(o).trigger("focus")),n(this).trigger("click")))},o(e,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return ct}},{key:"DefaultType",get:function(){return lt}}]),e}();return n(document).on(t.KEYDOWN_DATA_API,l,e._dataApiKeydownHandler).on(t.KEYDOWN_DATA_API,y,e._dataApiKeydownHandler).on(t.CLICK_DATA_API+" "+t.KEYUP_DATA_API,e._clearMenus).on(t.CLICK_DATA_API,l,function(t){t.preventDefault();t.stopPropagation();e._jQueryInterface.call(n(this),"toggle")}).on(t.CLICK_DATA_API,".dropdown form",function(n){n.stopPropagation()}),n.fn[h]=e._jQueryInterface,n.fn[h].Constructor=e,n.fn[h].noConflict=function(){return n.fn[h]=b,e._jQueryInterface},e}(t),kt=function(n){var v="modal",s="bs.modal",i="."+s,y=n.fn.modal,l={backdrop:!0,keyboard:!0,focus:!0,show:!0},p={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},t={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,FOCUSIN:"focusin"+i,RESIZE:"resize"+i,CLICK_DISMISS:"click.dismiss"+i,KEYDOWN_DISMISS:"keydown.dismiss"+i,MOUSEUP_DISMISS:"mouseup.dismiss"+i,MOUSEDOWN_DISMISS:"mousedown.dismiss"+i,CLICK_DATA_API:"click"+i+".data-api"},w="modal-scrollbar-measure",b="modal-backdrop",a="modal-open",e="fade",c="show",u={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},h=function(){function y(t,i){this._config=this._getConfig(i);this._element=t;this._dialog=n(t).find(u.DIALOG)[0];this._backdrop=null;this._isShown=!1;this._isBodyOverflowing=!1;this._ignoreBackdropClick=!1;this._originalBodyPadding=0;this._scrollbarWidth=0}var h=y.prototype;return h.toggle=function(n){return this._isShown?this.hide():this.show(n)},h.show=function(i){var f=this,o;this._isTransitioning||this._isShown||(r.supportsTransitionEnd()&&n(this._element).hasClass(e)&&(this._isTransitioning=!0),o=n.Event(t.SHOW,{relatedTarget:i}),n(this._element).trigger(o),this._isShown||o.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),n(document.body).addClass(a),this._setEscapeEvent(),this._setResizeEvent(),n(this._element).on(t.CLICK_DISMISS,u.DATA_DISMISS,function(n){return f.hide(n)}),n(this._dialog).on(t.MOUSEDOWN_DISMISS,function(){n(f._element).one(t.MOUSEUP_DISMISS,function(t){n(t.target).is(f._element)&&(f._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return f._showElement(i)})))},h.hide=function(i){var o=this,u,f;(i&&i.preventDefault(),!this._isTransitioning&&this._isShown)&&(u=n.Event(t.HIDE),(n(this._element).trigger(u),this._isShown&&!u.isDefaultPrevented())&&(this._isShown=!1,f=r.supportsTransitionEnd()&&n(this._element).hasClass(e),f&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),n(document).off(t.FOCUSIN),n(this._element).removeClass(c),n(this._element).off(t.CLICK_DISMISS),n(this._dialog).off(t.MOUSEDOWN_DISMISS),f?n(this._element).one(r.TRANSITION_END,function(n){return o._hideModal(n)}).emulateTransitionEnd(300):this._hideModal()))},h.dispose=function(){n.removeData(this._element,s);n(window,document,this._element,this._backdrop).off(i);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._scrollbarWidth=null},h.handleUpdate=function(){this._adjustDialog()},h._getConfig=function(n){return n=f({},l,n),r.typeCheckConfig(v,n,p),n},h._showElement=function(i){var u=this,o=r.supportsTransitionEnd()&&n(this._element).hasClass(e),s,f;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.scrollTop=0;o&&r.reflow(this._element);n(this._element).addClass(c);this._config.focus&&this._enforceFocus();s=n.Event(t.SHOWN,{relatedTarget:i});f=function(){u._config.focus&&u._element.focus();u._isTransitioning=!1;n(u._element).trigger(s)};o?n(this._dialog).one(r.TRANSITION_END,f).emulateTransitionEnd(300):f()},h._enforceFocus=function(){var i=this;n(document).off(t.FOCUSIN).on(t.FOCUSIN,function(t){document!==t.target&&i._element!==t.target&&0===n(i._element).has(t.target).length&&i._element.focus()})},h._setEscapeEvent=function(){var i=this;this._isShown&&this._config.keyboard?n(this._element).on(t.KEYDOWN_DISMISS,function(n){27===n.which&&(n.preventDefault(),i.hide())}):this._isShown||n(this._element).off(t.KEYDOWN_DISMISS)},h._setResizeEvent=function(){var i=this;this._isShown?n(window).on(t.RESIZE,function(n){return i.handleUpdate(n)}):n(window).off(t.RESIZE)},h._hideModal=function(){var i=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._isTransitioning=!1;this._showBackdrop(function(){n(document.body).removeClass(a);i._resetAdjustments();i._resetScrollbar();n(i._element).trigger(t.HIDDEN)})},h._removeBackdrop=function(){this._backdrop&&(n(this._backdrop).remove(),this._backdrop=null)},h._showBackdrop=function(i){var u=this,f=n(this._element).hasClass(e)?e:"",o,s;if(this._isShown&&this._config.backdrop){if(o=r.supportsTransitionEnd()&&f,this._backdrop=document.createElement("div"),this._backdrop.className=b,f&&n(this._backdrop).addClass(f),n(this._backdrop).appendTo(document.body),n(this._element).on(t.CLICK_DISMISS,function(n){u._ignoreBackdropClick?u._ignoreBackdropClick=!1:n.target===n.currentTarget&&("static"===u._config.backdrop?u._element.focus():u.hide())}),o&&r.reflow(this._backdrop),n(this._backdrop).addClass(c),!i)return;if(!o)return void i();n(this._backdrop).one(r.TRANSITION_END,i).emulateTransitionEnd(150)}else!this._isShown&&this._backdrop?(n(this._backdrop).removeClass(c),s=function(){u._removeBackdrop();i&&i()},r.supportsTransitionEnd()&&n(this._element).hasClass(e)?n(this._backdrop).one(r.TRANSITION_END,s).emulateTransitionEnd(150):s()):i&&i()},h._adjustDialog=function(){var n=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&n&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!n&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},h._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""},h._checkScrollbar=function(){var n=document.body.getBoundingClientRect();this._isBodyOverflowing=n.left+n.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()},h._setScrollbar=function(){var t=this,i,r;this._isBodyOverflowing&&(n(u.FIXED_CONTENT).each(function(i,r){var u=n(r)[0].style.paddingRight,f=n(r).css("padding-right");n(r).data("padding-right",u).css("padding-right",parseFloat(f)+t._scrollbarWidth+"px")}),n(u.STICKY_CONTENT).each(function(i,r){var u=n(r)[0].style.marginRight,f=n(r).css("margin-right");n(r).data("margin-right",u).css("margin-right",parseFloat(f)-t._scrollbarWidth+"px")}),n(u.NAVBAR_TOGGLER).each(function(i,r){var u=n(r)[0].style.marginRight,f=n(r).css("margin-right");n(r).data("margin-right",u).css("margin-right",parseFloat(f)+t._scrollbarWidth+"px")}),i=document.body.style.paddingRight,r=n("body").css("padding-right"),n("body").data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px"))},h._resetScrollbar=function(){n(u.FIXED_CONTENT).each(function(t,i){var r=n(i).data("padding-right");"undefined"!=typeof r&&n(i).css("padding-right",r).removeData("padding-right")});n(u.STICKY_CONTENT+", "+u.NAVBAR_TOGGLER).each(function(t,i){var r=n(i).data("margin-right");"undefined"!=typeof r&&n(i).css("margin-right",r).removeData("margin-right")});var t=n("body").data("padding-right");"undefined"!=typeof t&&n("body").css("padding-right",t).removeData("padding-right")},h._getScrollbarWidth=function(){var n=document.createElement("div"),t;return n.className=w,document.body.appendChild(n),t=n.getBoundingClientRect().width-n.clientWidth,document.body.removeChild(n),t},y._jQueryInterface=function(t,i){return this.each(function(){var r=n(this).data(s),u=f({},y.Default,n(this).data(),"object"==typeof t&&t);if(r||(r=new y(this,u),n(this).data(s,r)),"string"==typeof t){if("undefined"==typeof r[t])throw new TypeError('No method named "'+t+'"');r[t](i)}else u.show&&r.show(i)})},o(y,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return l}}]),y}();return n(document).on(t.CLICK_DATA_API,u.DATA_TOGGLE,function(i){var u,e=this,o=r.getSelectorFromElement(this),c,l;o&&(u=n(o)[0]);c=n(u).data(s)?"toggle":f({},n(u).data(),n(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||i.preventDefault();l=n(u).one(t.SHOW,function(i){i.isDefaultPrevented()||l.one(t.HIDDEN,function(){n(e).is(":visible")&&e.focus()})});h._jQueryInterface.call(n(u),c,this)}),n.fn.modal=h._jQueryInterface,n.fn.modal.Constructor=h,n.fn.modal.noConflict=function(){return n.fn.modal=y,h._jQueryInterface},h}(t),d=function(n){var u="tooltip",l="bs.tooltip",t="."+l,p=n.fn[u],w=new RegExp("(^|\\s)bs-tooltip\\S+","g"),b={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},k={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},d={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},e="show",v="out",g={HIDE:"hide"+t,HIDDEN:"hidden"+t,SHOW:"show"+t,SHOWN:"shown"+t,INSERTED:"inserted"+t,CLICK:"click"+t,FOCUSIN:"focusin"+t,FOCUSOUT:"focusout"+t,MOUSEENTER:"mouseenter"+t,MOUSELEAVE:"mouseleave"+t},s="fade",h="show",nt=".tooltip-inner",tt=".arrow",c="hover",y="focus",it="click",rt="manual",a=function(){function p(n,t){if("undefined"==typeof i)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=n;this.config=this._getConfig(t);this.tip=null;this._setListeners()}var a=p.prototype;return a.enable=function(){this._isEnabled=!0},a.disable=function(){this._isEnabled=!1},a.toggleEnabled=function(){this._isEnabled=!this._isEnabled},a.toggle=function(t){if(this._isEnabled)if(t){var r=this.constructor.DATA_KEY,i=n(t.currentTarget).data(r);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(r,i));i._activeTrigger.click=!i._activeTrigger.click;i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(n(this.getTipElement()).hasClass(h))return void this._leave(null,this);this._enter(null,this)}},a.dispose=function(){clearTimeout(this._timeout);n.removeData(this.element,this.constructor.DATA_KEY);n(this.element).off(this.constructor.EVENT_KEY);n(this.element).closest(".modal").off("hide.bs.modal");this.tip&&n(this.tip).remove();this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;null!==this._popper&&this._popper.destroy();this._popper=null;this.element=null;this.config=null;this.tip=null},a.show=function(){var t=this,f,l,u,e,a,o,y,c;if("none"===n(this.element).css("display"))throw new Error("Please use show on visible elements");if(f=n.Event(this.constructor.Event.SHOW),this.isWithContent()&&this._isEnabled){if(n(this.element).trigger(f),l=n.contains(this.element.ownerDocument.documentElement,this.element),f.isDefaultPrevented()||!l)return;u=this.getTipElement();e=r.getUID(this.constructor.NAME);u.setAttribute("id",e);this.element.setAttribute("aria-describedby",e);this.setContent();this.config.animation&&n(u).addClass(s);a="function"==typeof this.config.placement?this.config.placement.call(this,u,this.element):this.config.placement;o=this._getAttachment(a);this.addAttachmentClass(o);y=!1===this.config.container?document.body:n(this.config.container);n(u).data(this.constructor.DATA_KEY,this);n.contains(this.element.ownerDocument.documentElement,this.tip)||n(u).appendTo(y);n(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new i(this.element,u,{placement:o,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:tt},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(n){n.originalPlacement!==n.placement&&t._handlePopperPlacementChange(n)},onUpdate:function(n){t._handlePopperPlacementChange(n)}});n(u).addClass(h);"ontouchstart"in document.documentElement&&n("body").children().on("mouseover",null,n.noop);c=function(){t.config.animation&&t._fixTransition();var i=t._hoverState;t._hoverState=null;n(t.element).trigger(t.constructor.Event.SHOWN);i===v&&t._leave(null,t)};r.supportsTransitionEnd()&&n(this.tip).hasClass(s)?n(this.tip).one(r.TRANSITION_END,c).emulateTransitionEnd(p._TRANSITION_DURATION):c()}},a.hide=function(t){var i=this,u=this.getTipElement(),f=n.Event(this.constructor.Event.HIDE),o=function(){i._hoverState!==e&&u.parentNode&&u.parentNode.removeChild(u);i._cleanTipClass();i.element.removeAttribute("aria-describedby");n(i.element).trigger(i.constructor.Event.HIDDEN);null!==i._popper&&i._popper.destroy();t&&t()};n(this.element).trigger(f);f.isDefaultPrevented()||(n(u).removeClass(h),"ontouchstart"in document.documentElement&&n("body").children().off("mouseover",null,n.noop),this._activeTrigger[it]=!1,this._activeTrigger[y]=!1,this._activeTrigger[c]=!1,r.supportsTransitionEnd()&&n(this.tip).hasClass(s)?n(u).one(r.TRANSITION_END,o).emulateTransitionEnd(150):o(),this._hoverState="")},a.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},a.isWithContent=function(){return Boolean(this.getTitle())},a.addAttachmentClass=function(t){n(this.getTipElement()).addClass("bs-tooltip-"+t)},a.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0],this.tip},a.setContent=function(){var t=n(this.getTipElement());this.setElementContent(t.find(nt),this.getTitle());t.removeClass(s+" "+h)},a.setElementContent=function(t,i){var r=this.config.html;"object"==typeof i&&(i.nodeType||i.jquery)?r?n(i).parent().is(t)||t.empty().append(i):t.text(n(i).text()):t[r?"html":"text"](i)},a.getTitle=function(){var n=this.element.getAttribute("data-original-title");return n||(n="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),n},a._getAttachment=function(n){return k[n.toUpperCase()]},a._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)n(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(n){return t.toggle(n)});else if(i!==rt){var r=i===c?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,u=i===c?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;n(t.element).on(r,t.config.selector,function(n){return t._enter(n)}).on(u,t.config.selector,function(n){return t._leave(n)})}n(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})});this.config.selector?this.config=f({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},a._fixTitle=function(){var n=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==n)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},a._enter=function(t,i){var r=this.constructor.DATA_KEY;(i=i||n(t.currentTarget).data(r))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(r,i));t&&(i._activeTrigger["focusin"===t.type?y:c]=!0);n(i.getTipElement()).hasClass(h)||i._hoverState===e?i._hoverState=e:(clearTimeout(i._timeout),i._hoverState=e,i.config.delay&&i.config.delay.show?i._timeout=setTimeout(function(){i._hoverState===e&&i.show()},i.config.delay.show):i.show())},a._leave=function(t,i){var r=this.constructor.DATA_KEY;(i=i||n(t.currentTarget).data(r))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(r,i));t&&(i._activeTrigger["focusout"===t.type?y:c]=!1);i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=v,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout(function(){i._hoverState===v&&i.hide()},i.config.delay.hide):i.hide())},a._isWithActiveTrigger=function(){for(var n in this._activeTrigger)if(this._activeTrigger[n])return!0;return!1},a._getConfig=function(t){return"number"==typeof(t=f({},this.constructor.Default,n(this.element).data(),t)).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),r.typeCheckConfig(u,t,this.constructor.DefaultType),t},a._getDelegateConfig=function(){var t={},n;if(this.config)for(n in this.config)this.constructor.Default[n]!==this.config[n]&&(t[n]=this.config[n]);return t},a._cleanTipClass=function(){var i=n(this.getTipElement()),t=i.attr("class").match(w);null!==t&&t.length>0&&i.removeClass(t.join(""))},a._handlePopperPlacementChange=function(n){this._cleanTipClass();this.addAttachmentClass(this._getAttachment(n.placement))},a._fixTransition=function(){var t=this.getTipElement(),i=this.config.animation;null===t.getAttribute("x-placement")&&(n(t).removeClass(s),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},p._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(l),r="object"==typeof t&&t;if((i||!/dispose|hide/.test(t))&&(i||(i=new p(this,r),n(this).data(l,i)),"string"==typeof t)){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},o(p,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return u}},{key:"DATA_KEY",get:function(){return l}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return t}},{key:"DefaultType",get:function(){return b}}]),p}();return n.fn[u]=a._jQueryInterface,n.fn[u].Constructor=a,n.fn[u].noConflict=function(){return n.fn[u]=p,a._jQueryInterface},a}(t),dt=function(n){var i="popover",r="bs.popover",t="."+r,e=n.fn[i],s=new RegExp("(^|\\s)bs-popover\\S+","g"),h=f({},d.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-header"><\/h3><div class="popover-body"><\/div><\/div>'}),c=f({},d.DefaultType,{content:"(string|element|function)"}),l="fade",a="show",v=".popover-header",y=".popover-body",p={HIDE:"hide"+t,HIDDEN:"hidden"+t,SHOW:"show"+t,SHOWN:"shown"+t,INSERTED:"inserted"+t,CLICK:"click"+t,FOCUSIN:"focusin"+t,FOCUSOUT:"focusout"+t,MOUSEENTER:"mouseenter"+t,MOUSELEAVE:"mouseleave"+t},u=function(u){function e(){return u.apply(this,arguments)||this}var w,b,f;return b=u,(w=e).prototype=Object.create(b.prototype),w.prototype.constructor=w,w.__proto__=b,f=e.prototype,f.isWithContent=function(){return this.getTitle()||this._getContent()},f.addAttachmentClass=function(t){n(this.getTipElement()).addClass("bs-popover-"+t)},f.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0],this.tip},f.setContent=function(){var i=n(this.getTipElement()),t;this.setElementContent(i.find(v),this.getTitle());t=this._getContent();"function"==typeof t&&(t=t.call(this.element));this.setElementContent(i.find(y),t);i.removeClass(l+" "+a)},f._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},f._cleanTipClass=function(){var i=n(this.getTipElement()),t=i.attr("class").match(s);null!==t&&t.length>0&&i.removeClass(t.join(""))},e._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(r),u="object"==typeof t?t:null;if((i||!/destroy|hide/.test(t))&&(i||(i=new e(this,u),n(this).data(r,i)),"string"==typeof t)){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},o(e,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return h}},{key:"NAME",get:function(){return i}},{key:"DATA_KEY",get:function(){return r}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return t}},{key:"DefaultType",get:function(){return c}}]),e}(d);return n.fn[i]=u._jQueryInterface,n.fn[i].Constructor=u,n.fn[i].noConflict=function(){return n.fn[i]=e,u._jQueryInterface},u}(t),gt=function(n){var i="scrollspy",s="bs.scrollspy",h="."+s,v=n.fn[i],l={offset:10,method:"auto",target:""},y={offset:"number",method:"string",target:"(string|element)"},c={ACTIVATE:"activate"+h,SCROLL:"scroll"+h,LOAD_DATA_API:"load"+h+".data-api"},p="dropdown-item",u="active",t={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},w="offset",a="position",e=function(){function v(i,r){var u=this;this._element=i;this._scrollElement="BODY"===i.tagName?window:i;this._config=this._getConfig(r);this._selector=this._config.target+" "+t.NAV_LINKS+","+this._config.target+" "+t.LIST_ITEMS+","+this._config.target+" "+t.DROPDOWN_ITEMS;this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;n(this._scrollElement).on(c.SCROLL,function(n){return u._process(n)});this.refresh();this._process()}var e=v.prototype;return e.refresh=function(){var t=this,u=this._scrollElement===this._scrollElement.window?w:a,i="auto"===this._config.method?u:this._config.method,f=i===a?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();n.makeArray(n(this._selector)).map(function(t){var u,e=r.getSelectorFromElement(t),o;return(e&&(u=n(e)[0]),u)&&(o=u.getBoundingClientRect(),o.width||o.height)?[n(u)[i]().top+f,e]:null}).filter(function(n){return n}).sort(function(n,t){return n[0]-t[0]}).forEach(function(n){t._offsets.push(n[0]);t._targets.push(n[1])})},e.dispose=function(){n.removeData(this._element,s);n(this._scrollElement).off(h);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=f({},l,t)).target){var u=n(t.target).attr("id");u||(u=r.getUID(i),n(t.target).attr("id",u));t.target="#"+u}return r.typeCheckConfig(i,t,y),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,r=this._getScrollHeight(),u=this._config.offset+r-this._getOffsetHeight(),i,n;if(this._scrollHeight!==r&&this.refresh(),t>=u)i=this._targets[this._targets.length-1],this._activeTarget!==i&&this._activate(i);else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&t>=this._offsets[n]&&("undefined"==typeof this._offsets[n+1]||t<this._offsets[n+1])&&this._activate(this._targets[n])}},e._activate=function(i){var f,r;this._activeTarget=i;this._clear();f=this._selector.split(",");f=f.map(function(n){return n+'[data-target="'+i+'"],'+n+'[href="'+i+'"]'});r=n(f.join(","));r.hasClass(p)?(r.closest(t.DROPDOWN).find(t.DROPDOWN_TOGGLE).addClass(u),r.addClass(u)):(r.addClass(u),r.parents(t.NAV_LIST_GROUP).prev(t.NAV_LINKS+", "+t.LIST_ITEMS).addClass(u),r.parents(t.NAV_LIST_GROUP).prev(t.NAV_ITEMS).children(t.NAV_LINKS).addClass(u));n(this._scrollElement).trigger(c.ACTIVATE,{relatedTarget:i})},e._clear=function(){n(this._selector).filter(t.ACTIVE).removeClass(u)},v._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(s);if(i||(i=new v(this,"object"==typeof t&&t),n(this).data(s,i)),"string"==typeof t){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},o(v,null,[{key:"VERSION",get:function(){return"4.0.0"}},{key:"Default",get:function(){return l}}]),v}();return n(window).on(c.LOAD_DATA_API,function(){for(var u,i=n.makeArray(n(t.DATA_SPY)),r=i.length;r--;)u=n(i[r]),e._jQueryInterface.call(u,u.data())}),n.fn[i]=e._jQueryInterface,n.fn[i].Constructor=e,n.fn[i].noConflict=function(){return n.fn[i]=v,e._jQueryInterface},e}(t),ni=function(n){var f="bs.tab",e="."+f,l=n.fn.tab,t={HIDE:"hide"+e,HIDDEN:"hidden"+e,SHOW:"show"+e,SHOWN:"shown"+e,CLICK_DATA_API:"click.bs.tab.data-api"},a="dropdown-menu",i="active",v="disabled",y="fade",s="show",p=".dropdown",w=".nav, .list-group",h=".active",c="> li > .active",b=".dropdown-toggle",k="> .dropdown-menu .active",u=function(){function u(n){this._element=n}var e=u.prototype;return e.show=function(){var y=this,e,u,f,o,p,s,l,a;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&n(this._element).hasClass(i)||n(this._element).hasClass(v)||(f=n(this._element).closest(w)[0],o=r.getSelectorFromElement(this._element),f&&(p="UL"===f.nodeName?c:h,u=(u=n.makeArray(n(f).find(p)))[u.length-1]),s=n.Event(t.HIDE,{relatedTarget:this._element}),l=n.Event(t.SHOW,{relatedTarget:u}),(u&&n(u).trigger(s),n(this._element).trigger(l),l.isDefaultPrevented()||s.isDefaultPrevented())||(o&&(e=n(o)[0]),this._activate(this._element,f),a=function(){var i=n.Event(t.HIDDEN,{relatedTarget:y._element}),r=n.Event(t.SHOWN,{relatedTarget:u});n(u).trigger(i);n(y._element).trigger(r)},e?this._activate(e,e.parentNode,a):a()))},e.dispose=function(){n.removeData(this._element,f);this._element=null},e._activate=function(t,i,u){var o=this,f=("UL"===i.nodeName?n(i).find(c):n(i).children(h))[0],s=u&&r.supportsTransitionEnd()&&f&&n(f).hasClass(y),e=function(){return o._transitionComplete(t,f,u)};f&&s?n(f).one(r.TRANSITION_END,e).emulateTransitionEnd(150):e()},e._transitionComplete=function(t,u,f){var e,o;u&&(n(u).removeClass(s+" "+i),e=n(u.parentNode).find(k)[0],e&&n(e).removeClass(i),"tab"===u.getAttribute("role")&&u.setAttribute("aria-selected",!1));(n(t).addClass(i),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),r.reflow(t),n(t).addClass(s),t.parentNode&&n(t.parentNode).hasClass(a))&&(o=n(t).closest(p)[0],o&&n(o).find(b).addClass(i),t.setAttribute("aria-expanded",!0));f&&f()},u._jQueryInterface=function(t){return this.each(function(){var r=n(this),i=r.data(f);if(i||(i=new u(this),r.data(f,i)),"string"==typeof t){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},o(u,null,[{key:"VERSION",get:function(){return"4.0.0"}}]),u}();return n(document).on(t.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault();u._jQueryInterface.call(n(this),"show")}),n.fn.tab=u._jQueryInterface,n.fn.tab.Constructor=u,n.fn.tab.noConflict=function(){return n.fn.tab=l,u._jQueryInterface},u}(t);!function(n){if("undefined"==typeof n)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");}(t);n.Util=r;n.Alert=vt;n.Button=yt;n.Carousel=pt;n.Collapse=wt;n.Dropdown=bt;n.Modal=kt;n.Popover=dt;n.Scrollspy=gt;n.Tab=ni;n.Tooltip=d;Object.defineProperty(n,"__esModule",{value:!0})});
/*!
Holder - client side image placeholders
Version 2.9.4+cabil
 2016 Ivan Malopinsky - http://imsky.co
Site:     http://holderjs.com
Issues:   https://github.com/imsky/holder/issues
License:  MIT
*/
!function(n){if(n.document){var t=n.document;t.querySelectorAll||(t.querySelectorAll=function(i){var u,r=t.createElement("style"),f=[];for(t.documentElement.firstChild.appendChild(r),t._qsa=[],r.styleSheet.cssText=i+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",n.scrollBy(0,0),r.parentNode.removeChild(r);t._qsa.length;)u=t._qsa.shift(),u.style.removeAttribute("x-qsa"),f.push(u);return t._qsa=null,f});t.querySelector||(t.querySelector=function(n){var i=t.querySelectorAll(n);return i.length?i[0]:null});t.getElementsByClassName||(t.getElementsByClassName=function(n){return n=String(n).replace(/^|\s+/g,"."),t.querySelectorAll(n)});Object.keys||(Object.keys=function(n){if(n!==Object(n))throw TypeError("Object.keys called on non-object");var t,i=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&i.push(t);return i});Array.prototype.forEach||(Array.prototype.forEach=function(n){var i,r,t,u;if(void 0===this||null===this)throw TypeError();if(i=Object(this),r=i.length>>>0,"function"!=typeof n)throw TypeError();for(u=arguments[1],t=0;t<r;t++)t in i&&n.call(u,i[t],t,i)}),function(n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.atob=n.atob||function(n){n=String(n);var e,f=0,r=[],i=0,u=0;if(n=n.replace(/\s/g,""),n.length%4==0&&(n=n.replace(/=+$/,"")),n.length%4==1)throw Error("InvalidCharacterError");if(/[^+\/0-9A-Za-z]/.test(n))throw Error("InvalidCharacterError");for(;f<n.length;)e=t.indexOf(n.charAt(f)),i=i<<6|e,u+=6,24===u&&(r.push(String.fromCharCode(i>>16&255)),r.push(String.fromCharCode(i>>8&255)),r.push(String.fromCharCode(255&i)),u=0,i=0),f+=1;return 12===u?(i>>=4,r.push(String.fromCharCode(255&i))):18===u&&(i>>=2,r.push(String.fromCharCode(i>>8&255)),r.push(String.fromCharCode(255&i))),r.join("")};n.btoa=n.btoa||function(n){n=String(n);var u,f,e,s,h,o,r,i=0,c=[];if(/[^\x00-\xFF]/.test(n))throw Error("InvalidCharacterError");for(;i<n.length;)u=n.charCodeAt(i++),f=n.charCodeAt(i++),e=n.charCodeAt(i++),s=u>>2,h=(3&u)<<4|f>>4,o=(15&f)<<2|e>>6,r=63&e,i===n.length+2?(o=64,r=64):i===n.length+1&&(r=64),c.push(t.charAt(s),t.charAt(h),t.charAt(o),t.charAt(r));return c.join("")}}(n);Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(n){var t=this.__proto__||this.constructor.prototype;return n in this&&(!(n in t)||t[n]!==this[n])}),function(){if("performance"in n==!1&&(n.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in n.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart);n.performance.now=function(){return Date.now()-t}}}();n.requestAnimationFrame||(n.webkitRequestAnimationFrame&&n.webkitCancelAnimationFrame?!function(n){n.requestAnimationFrame=function(t){return webkitRequestAnimationFrame(function(){t(n.performance.now())})};n.cancelAnimationFrame=n.webkitCancelAnimationFrame}(n):n.mozRequestAnimationFrame&&n.mozCancelAnimationFrame?!function(n){n.requestAnimationFrame=function(t){return mozRequestAnimationFrame(function(){t(n.performance.now())})};n.cancelAnimationFrame=n.mozCancelAnimationFrame}(n):!function(n){n.requestAnimationFrame=function(t){return n.setTimeout(t,1e3/60)};n.cancelAnimationFrame=n.clearTimeout}(n))}}(this),function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Holder=t():n.Holder=t()}(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){n.exports=i(1)},function(n,t,i){(function(t){function e(n,t,i,r){var u=y(i.substr(i.lastIndexOf(n.domain)),n);u&&p({mode:null,el:r,flags:u,engineSettings:t})}function y(n,t){var i={theme:o(r.settings.themes.gray,null),stylesheets:t.stylesheets,instanceOptions:t},l=n.indexOf("?"),e=[n],v,a,s,u,h,c,y;return(l!==-1&&(e=[n.slice(0,l),n.slice(l+1)]),v=e[0].split("/"),i.holderURL=n,a=v[1],s=a.match(/([\d]+p?)x([\d]+p?)/),!s)?!1:((i.fluid=a.indexOf("p")!==-1,i.dimensions={width:s[1].replace("p","%"),height:s[2].replace("p","%")},2===e.length)&&(u=et.parse(e[1]),f.truthy(u.ratio)&&(i.fluid=!0,h=parseFloat(i.dimensions.width.replace("%","")),c=parseFloat(i.dimensions.height.replace("%","")),c=Math.floor(100*(c/h)),h=100,i.dimensions.width=h+"%",i.dimensions.height=c+"%"),(i.auto=f.truthy(u.auto),u.bg&&(i.theme.bg=f.parseColor(u.bg)),u.fg&&(i.theme.fg=f.parseColor(u.fg)),u.bg&&!u.fg&&(i.autoFg=!0),u.theme&&i.instanceOptions.themes.hasOwnProperty(u.theme)&&(i.theme=o(i.instanceOptions.themes[u.theme],null)),u.text&&(i.text=u.text),u.textmode&&(i.textmode=u.textmode),u.size&&(i.size=u.size),u.font&&(i.font=u.font),u.align&&(i.align=u.align),u.lineWrap&&(i.lineWrap=u.lineWrap),i.nowrap=f.truthy(u.nowrap),i.outline=f.truthy(u.outline),f.truthy(u.random))&&(r.vars.cache.themeKeys=r.vars.cache.themeKeys||Object.keys(i.instanceOptions.themes),y=r.vars.cache.themeKeys[0|Math.random()*r.vars.cache.themeKeys.length],i.theme=o(i.instanceOptions.themes[y],null))),i)}function p(n){var a=n.mode,t=n.el,i=n.flags,tt=n.engineSettings,c=i.dimensions,e=i.theme,p=c.width+"x"+c.height,g,nt,v,y,w,b,h,k,d;if(a=null==a?i.fluid?"fluid":"image":a,g=/holder_([a-z]+)/g,nt=!1,null!=i.text&&(e.text=i.text,"object"===t.nodeName.toLowerCase())){for(v=e.text.split("\\n"),y=0;y<v.length;y++)v[y]=f.encodeHtmlEntity(v[y]);e.text=v.join("\\n")}e.text&&(w=e.text.match(g),null!==w&&w.forEach(function(n){"holder_dimensions"===n&&(e.text=e.text.replace(n,p))}));b=i.holderURL;h=o(tt,null);(i.font&&(e.font=i.font,!h.noFontFallback&&"img"===t.nodeName.toLowerCase()&&r.setup.supportsCanvas&&"svg"===h.renderer&&(h=o(h,{renderer:"canvas"}))),i.font&&"canvas"==h.renderer&&(h.reRender=!0),"background"==a)?null==t.getAttribute("data-background-src")&&u.setAttr(t,{"data-background-src":b}):(k={},k[r.vars.dataAttr]=b,u.setAttr(t,k));i.theme=e;t.holderData={flags:i,engineSettings:h};"image"!=a&&"fluid"!=a||u.setAttr(t,{alt:e.text?nt?e.text:e.text+" ["+p+"]":p});d={mode:a,el:t,holderSettings:{dimensions:c,theme:e,flags:i},engineSettings:h};"image"==a?(i.auto||(t.style.width=c.width+"px",t.style.height=c.height+"px"),"html"==h.renderer?t.style.backgroundColor=e.bg:(l(d),"exact"==i.textmode&&(t.holderData.resizeUpdate=!0,r.vars.resizableImages.push(t),s(t)))):"background"==a&&"html"!=h.renderer?l(d):"fluid"==a&&(t.holderData.resizeUpdate=!0,"%"==c.height.slice(-1)?t.style.height=c.height:null!=i.auto&&i.auto||(t.style.height=c.height+"px"),"%"==c.width.slice(-1)?t.style.width=c.width:null!=i.auto&&i.auto||(t.style.width=c.width+"px"),"inline"!=t.style.display&&""!==t.style.display&&"none"!=t.style.display||(t.style.display="block"),rt(t),"html"==h.renderer?t.style.backgroundColor=e.bg:(r.vars.resizableImages.push(t),s(t)))}function l(n){function c(){var t=null;switch(e.renderer){case"canvas":t=ct(h,n);break;case"svg":t=ht(h,n);break;default:throw"Holder: invalid renderer: "+e.renderer;}return t}var f=null,l=n.mode,i=n.el,o=n.holderSettings,e=n.engineSettings,s,h;switch(e.renderer){case"svg":if(!r.setup.supportsSVG)return;break;case"canvas":if(!r.setup.supportsCanvas)return;break;default:return}if(s={width:o.dimensions.width,height:o.dimensions.height,theme:o.theme,flags:o.flags},h=tt(s),f=c(),null==f)throw"Holder: couldn't render placeholder";"background"==l?(i.style.backgroundImage="url("+f+")",e.noBackgroundSize||(i.style.backgroundSize=s.width+"px "+s.height+"px")):("img"===i.nodeName.toLowerCase()?u.setAttr(i,{src:f}):"object"===i.nodeName.toLowerCase()&&u.setAttr(i,{data:f,type:"image/svg+xml"}),e.reRender&&t.setTimeout(function(){var n=c();if(null==n)throw"Holder: couldn't render placeholder";"img"===i.nodeName.toLowerCase()?u.setAttr(i,{src:n}):"object"===i.nodeName.toLowerCase()&&u.setAttr(i,{data:n,type:"image/svg+xml"})},150));u.setAttr(i,{"data-holder-rendered":!0})}function tt(n){function g(n,t,i,r){t.width=i;t.height=r;n.width=Math.max(n.width,t.width);n.height+=t.height}var w=r.defaults.size,a,b,t,u,e,i,p,v,d;switch(parseFloat(n.theme.size)?w=n.theme.size:parseFloat(n.flags.size)&&(w=n.flags.size),n.font={family:n.theme.font?n.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:it(n.width,n.height,w,r.defaults.scale),units:n.theme.units?n.theme.units:r.defaults.units,weight:n.theme.fontweight?n.theme.fontweight:"bold"},n.text=n.theme.text||Math.floor(n.width)+"x"+Math.floor(n.height),n.noWrap=n.theme.nowrap||n.flags.nowrap,n.align=n.theme.align||n.flags.align||"center",n.flags.textmode){case"literal":n.text=n.flags.dimensions.width+"x"+n.flags.dimensions.height;break;case"exact":if(!n.flags.exactDimensions)break;n.text=Math.floor(n.flags.exactDimensions.width)+"x"+Math.floor(n.flags.exactDimensions.height)}var nt=n.flags.lineWrap||r.setup.lineWrapRatio,s=n.width*nt,tt=s,c=new ot({width:n.width,height:n.height}),f=c.Shape,l=new f.Rect("holderBg",{fill:n.theme.bg});if((l.resize(n.width,n.height),c.root.add(l),n.flags.outline)&&(a=new h(l.properties.fill),a=a.lighten(a.lighterThan("7f7f7f")?-.1:.1),l.properties.outline={fill:a.toHex(!0),width:2}),b=n.theme.fg,n.flags.autoFg){var rt=new h(l.properties.fill),ft=new h("fff"),et=new h("000",{alpha:.285714});b=rt.blendAlpha(rt.lighterThan("7f7f7f")?et:ft).toHex(!0)}if(t=new f.Group("holderTextGroup",{text:n.text,align:n.align,font:n.font,fill:b}),t.moveTo(null,null,1),c.root.add(t),u=t.textPositionData=lt(c),!u)throw"Holder: staging fallback not supported yet.";if(t.properties.leading=u.boundingBox.height,e=null,i=null,u.lineCount>1){var y,o=0,ut=0,k=0;for(i=new f.Group("line"+k),"left"!==n.align&&"right"!==n.align||(tt=n.width*(1-2*(1-nt))),p=0;p<u.words.length;p++)v=u.words[p],e=new f.Text(v.text),d="\\n"==v.text,!n.noWrap&&(o+v.width>=tt||d===!0)&&(g(t,i,o,t.properties.leading),t.add(i),o=0,ut+=t.properties.leading,k+=1,i=new f.Group("line"+k),i.y=ut),d!==!0&&(e.moveTo(o,0),o+=u.spaceWidth+v.width,i.add(e));if(g(t,i,o,t.properties.leading),t.add(i),"left"===n.align)t.moveTo(n.width-s,null,null);else if("right"===n.align){for(y in t.children)i=t.children[y],i.moveTo(n.width-i.width,null,null);t.moveTo(0-(n.width-s),null,null)}else{for(y in t.children)i=t.children[y],i.moveTo((t.width-i.width)/2,null,null);t.moveTo((n.width-t.width)/2,null,null)}t.moveTo(null,(n.height-t.height)/2,null);(n.height-t.height)/2<0&&t.moveTo(null,0,null)}else e=new f.Text(n.text),i=new f.Group("line0"),i.add(e),t.add(i),"left"===n.align?t.moveTo(n.width-s,null,null):"right"===n.align?t.moveTo(0-(n.width-s),null,null):t.moveTo((n.width-u.boundingBox.width)/2,null,null),t.moveTo(null,(n.height-u.boundingBox.height)/2,null);return c}function it(n,t,i,r){var u=parseInt(n,10),f=parseInt(t,10),e=Math.max(u,f),o=Math.min(u,f),s=.8*Math.min(o,e*r);return Math.round(Math.max(i,s))}function s(n){var o,f,h,t,i,u,e,s;for(o=null==n||null==n.nodeType?r.vars.resizableImages:[n],f=0,h=o.length;f<h;f++)if(t=o[f],t.holderData)if(i=t.holderData.flags,u=v(t),u){if(!t.holderData.resizeUpdate)continue;if(i.fluid&&i.auto){e=t.holderData.fluidConfig;switch(e.mode){case"width":u.height=u.width/e.ratio;break;case"height":u.width=u.height*e.ratio}}s={mode:"image",holderSettings:{dimensions:u,theme:i.theme,flags:i},el:t,engineSettings:t.holderData.engineSettings};"exact"==i.textmode&&(i.exactDimensions=u,s.holderSettings.dimensions=i.dimensions);l(s)}else b(t)}function rt(n){var r,i,t;n.holderData&&(r=v(n),r?(i=n.holderData.flags,t={fluidHeight:"%"==i.dimensions.height.slice(-1),fluidWidth:"%"==i.dimensions.width.slice(-1),mode:null,initialDimensions:r},t.fluidWidth&&!t.fluidHeight?(t.mode="width",t.ratio=t.initialDimensions.width/parseFloat(i.dimensions.height)):!t.fluidWidth&&t.fluidHeight&&(t.mode="height",t.ratio=parseFloat(i.dimensions.width)/t.initialDimensions.height),n.holderData.fluidConfig=t):b(n))}function w(){var n,i=[],u=Object.keys(r.vars.invisibleImages);u.forEach(function(t){n=r.vars.invisibleImages[t];v(n)&&"img"==n.nodeName.toLowerCase()&&(i.push(n),delete r.vars.invisibleImages[t])});i.length&&c.run({images:i});setTimeout(function(){t.requestAnimationFrame(w)},10)}function ut(){r.vars.visibilityCheckStarted||(t.requestAnimationFrame(w),r.vars.visibilityCheckStarted=!0)}function b(n){n.holderData.invisibleId||(r.vars.invisibleId+=1,r.vars.invisibleImages["i"+r.vars.invisibleId]=n,n.holderData.invisibleId=r.vars.invisibleId)}function ft(n){r.vars.debounceTimer||n.call(this);r.vars.debounceTimer&&t.clearTimeout(r.vars.debounceTimer);r.vars.debounceTimer=t.setTimeout(function(){r.vars.debounceTimer=null;n.call(this)},r.setup.debounce)}function a(){ft(function(){s(null)})}var k=i(2),et=i(3),ot=i(6),f=i(7),st=i(8),u=i(9),h=i(10),d=i(11),ht=i(12),ct=i(15),o=f.extend,v=f.dimensionCheck,g=d.svg_ns,c={version:d.version,addTheme:function(n,t){return null!=n&&null!=t&&(r.settings.themes[n]=t),delete r.vars.cache.themeKeys,this},addImage:function(n,t){var i=u.getNodeArray(t);return i.forEach(function(t){var i=u.newEl("img"),f={};f[r.setup.dataAttr]=n;u.setAttr(i,f);t.appendChild(i)}),this},setResizeUpdate:function(n,t){n.holderData&&(n.holderData.resizeUpdate=!!t,n.holderData.resizeUpdate&&s(n))},run:function(n){var s,i;n=n||{};s={};i=o(r.settings,n);r.vars.preempted=!0;r.vars.dataAttr=i.dataAttr||r.setup.dataAttr;s.renderer=i.renderer?i.renderer:r.setup.renderer;r.setup.renderers.join(",").indexOf(s.renderer)===-1&&(s.renderer=r.setup.supportsSVG?"svg":r.setup.supportsCanvas?"canvas":"html");var h=u.getNodeArray(i.images),c=u.getNodeArray(i.bgnodes),l=u.getNodeArray(i.stylenodes),a=u.getNodeArray(i.objects);return s.stylesheets=[],s.svgXMLStylesheet=!0,s.noFontFallback=!!i.noFontFallback,s.noBackgroundSize=!!i.noBackgroundSize,l.forEach(function(n){var i,t,r;n.attributes.rel&&n.attributes.href&&"stylesheet"==n.attributes.rel.value&&(i=n.attributes.href.value,t=u.newEl("a"),t.href=i,r=t.protocol+"//"+t.host+t.pathname+t.search,s.stylesheets.push(r))}),c.forEach(function(n){var e,o;if(t.getComputedStyle){var h=t.getComputedStyle(n,null).getPropertyValue("background-image"),c=n.getAttribute("data-background-src"),r=c||h,u=null,l=i.domain+"/",f=r.indexOf(l);if(0===f)u=r;else if(1===f&&"?"===r[0])u=r.slice(1);else if(e=r.substr(f).match(/([^\"]*)"?\)/),null!==e)u=e[1];else if(0===r.indexOf("url("))throw"Holder: unable to parse background URL: "+r;u&&(o=y(u,i),o&&p({mode:"background",el:n,flags:o,engineSettings:s}))}}),a.forEach(function(n){var t={},u,f;try{t.data=n.getAttribute("data");t.dataSrc=n.getAttribute(r.vars.dataAttr)}catch(o){}u=null!=t.data&&0===t.data.indexOf(i.domain);f=null!=t.dataSrc&&0===t.dataSrc.indexOf(i.domain);u?e(i,s,t.data,n):f&&e(i,s,t.dataSrc,n)}),h.forEach(function(n){var t={};try{t.src=n.getAttribute("src");t.dataSrc=n.getAttribute(r.vars.dataAttr);t.rendered=n.getAttribute("data-holder-rendered")}catch(c){}var o=null!=t.src,u=null!=t.dataSrc&&0===t.dataSrc.indexOf(i.domain),h=null!=t.rendered&&"true"==t.rendered;o?0===t.src.indexOf(i.domain)?e(i,s,t.src,n):u&&(h?e(i,s,t.dataSrc,n):!function(n,t,i,r,u){f.imageExists(n,function(n){n||e(t,i,r,u)})}(t.src,i,s,t.dataSrc,n)):u&&e(i,s,t.dataSrc,n)}),this}},r={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{bg:"#EEEEEE",fg:"#AAAAAA"},social:{bg:"#3a5a97",fg:"#FFFFFF"},industrial:{bg:"#434A52",fg:"#C2F200"},sky:{bg:"#0D8FDB",fg:"#FFFFFF"},vine:{bg:"#39DBAC",fg:"#1E292C"},lava:{bg:"#F8591A",fg:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},lt=function(){var n=null,t=null,i=null;return function(e){var c=e.root,l,y,p,o,s,k;if(r.setup.supportsSVG){l=!1;y=function(n){return document.createTextNode(n)};null!=n&&n.parentNode===document.body||(l=!0);n=st.initSVG(n,c.properties.width,c.properties.height);n.style.display="block";l&&(t=u.newEl("text",g),i=y(null),u.setAttr(t,{x:0}),t.appendChild(i),n.appendChild(t),document.body.appendChild(n),n.style.visibility="hidden",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%");p=c.children.holderTextGroup;o=p.properties;u.setAttr(t,{y:o.font.size,style:f.cssProps({"font-weight":o.font.weight,"font-size":o.font.size+o.font.units,"font-family":o.font.family})});i.nodeValue=o.text;var a=t.getBBox(),v=Math.ceil(a.width/c.properties.width),h=o.text.split(" "),w=o.text.match(/\\n/g);v+=null==w?0:w.length;i.nodeValue=o.text.replace(/[ ]+/g,"");var d=t.getComputedTextLength(),nt=a.width-d,tt=Math.round(nt/Math.max(1,h.length-1)),b=[];if(v>1)for(i.nodeValue="",s=0;s<h.length;s++)0!==h[s].length&&(i.nodeValue=f.decodeHtmlEntity(h[s]),k=t.getBBox(),b.push({text:h[s],width:k.width}));return n.style.display="none",{spaceWidth:tt,lineCount:v,boundingBox:a,words:b}}return!1}}();for(var nt in r.flags)r.flags.hasOwnProperty(nt)&&(r.flags[nt].match=function(n){return n.match(this.regex)});r.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]};r.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var n=u.newEl("canvas");n.getContext&&n.toDataURL("image/png").indexOf("data:image/png")!=-1&&(r.setup.renderer="canvas",r.setup.supportsCanvas=!0);document.createElementNS&&document.createElementNS(g,"svg").createSVGRect&&(r.setup.renderer="svg",r.setup.supportsSVG=!0)}();ut();k&&k(function(){r.vars.preempted||c.run();t.addEventListener?(t.addEventListener("resize",a,!1),t.addEventListener("orientationchange",a,!1)):t.attachEvent("onresize",a);"object"==typeof t.Turbolinks&&t.document.addEventListener("page:change",function(){c.run()})});n.exports=c}).call(t,function(){return this}())},function(n){function t(n){function e(n){if(!f){if(!t.body)return u(e);for(f=!0;n=nt.shift();)u(n)}}function i(n){(l||n.type===o||t[p]===y)&&(a(),e())}function a(){l?(t[g](k,i,r),n[g](o,i,r)):(t[b](d,i),n[b](v,i))}function u(n,t){setTimeout(n,+t>=0?t:1)}function h(n){f?u(n):nt.push(n)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function tt(){document.removeEventListener("DOMContentLoaded",tt,!1);document.readyState="complete"},!1),document.readyState="loading");var t=n.document,it=t.documentElement,o="load",r=!1,v="on"+o,y="complete",p="readyState",w="attachEvent",b="detachEvent",c="addEventListener",k="DOMContentLoaded",d="onreadystatechange",g="removeEventListener",l=c in t,s=r,f=r,nt=[];if(t[p]===y)u(e);else if(l)t[c](k,i,r),n[c](o,i,r);else{t[w](d,i);n[w](v,i);try{s=null==n.frameElement&&it}catch(ut){}s&&s.doScroll&&!function rt(){if(!f){try{s.doScroll("left")}catch(n){return u(rt,50)}a();e()}}()}return h.version="1.4.0",h.isReady=function(){return f},h}n.exports="undefined"!=typeof window&&t(window)},function(n,t,i){var r=encodeURIComponent,u=decodeURIComponent,f=i(4),e=i(5),o=/(\w+)\[(\d+)\]/,s=/\w+\.\w+/;t.parse=function(n){var t,i,r,e,c;if("string"!=typeof n)return{};if(n=f(n),""===n)return{};"?"===n.charAt(0)&&(n=n.slice(1));for(var h={},a=n.split("&"),l=0;l<a.length;l++)if(e=a[l].split("="),c=u(e[0]),t=o.exec(c))h[t[1]]=h[t[1]]||[],h[t[1]][t[2]]=u(e[1]);else if(t=s.test(c)){for(t=c.split("."),i=h;t.length;)if(r=t.shift(),r.length){if(i[r]){if(i[r]&&"object"!=typeof i[r])break}else i[r]={};t.length||(i[r]=u(e[1]));i=i[r]}}else h[e[0]]=null==e[1]?"":u(e[1]);return h};t.stringify=function(n){var u,t,f,i;if(!n)return"";u=[];for(t in n)if(f=n[t],"array"!=e(f))u.push(r(t)+"="+r(n[t]));else for(i=0;i<f.length;++i)u.push(r(t+"["+i+"]")+"="+r(f[i]));return u.join("&")}},function(n,t){function i(n){return n.replace(/^\s*|\s*$/g,"")}t=n.exports=i;t.left=function(n){return n.replace(/^\s*/,"")};t.right=function(n){return n.replace(/\s*$/,"")}},function(n){function t(n){return!(null==n||!(n._isBuffer||n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)))}var i=Object.prototype.toString;n.exports=function(n){switch(i.call(n)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===n?"null":void 0===n?"undefined":n!==n?"nan":n&&1===n.nodeType?"element":t(n)?"buffer":(n=n.valueOf?n.valueOf():Object.prototype.valueOf.apply(n),typeof n)}},function(n){var t=function(n){function h(n,t){for(var i in t)n[i]=t[i];return n}var r=1,i=function(n){r++;this.parent=null;this.children={};this.id=r;this.name="n"+r;"undefined"!=typeof n&&(this.name=n);this.x=this.y=this.z=0;this.width=this.height=0},u,t,f,e,o,s;return i.prototype.resize=function(n,t){null!=n&&(this.width=n);null!=t&&(this.height=t)},i.prototype.moveTo=function(n,t,i){this.x=null!=n?n:this.x;this.y=null!=t?t:this.y;this.z=null!=i?i:this.z},i.prototype.add=function(n){var t=n.name;if("undefined"!=typeof this.children[t])throw"SceneGraph: child already exists: "+t;this.children[t]=n;n.parent=this},u=function(){i.call(this,"root");this.properties=n},u.prototype=new i,t=function(n,t){if(i.call(this,n),this.properties={fill:"#000000"},"undefined"!=typeof t)h(this.properties,t);else if("undefined"!=typeof n&&"string"!=typeof n)throw"SceneGraph: invalid node name";},t.prototype=new i,f=function(){t.apply(this,arguments);this.type="group"},f.prototype=new t,e=function(){t.apply(this,arguments);this.type="rect"},e.prototype=new t,o=function(n){t.call(this);this.type="text";this.properties.text=n},o.prototype=new t,s=new u,this.Shape={Rect:e,Text:o,Group:f},this.root=s,this};n.exports=t},function(n,t){(function(n){t.extend=function(n,t){var u={},i,r;for(i in n)n.hasOwnProperty(i)&&(u[i]=n[i]);if(null!=t)for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);return u};t.cssProps=function(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(t+":"+n[t]);return i.join(";")};t.encodeHtmlEntity=function(n){for(var i=[],r=0,t=n.length-1;t>=0;t--)r=n.charCodeAt(t),r>128?i.unshift(["&#",r,";"].join("")):i.unshift(n[t]);return i.join("")};t.imageExists=function(n,t){var i=new Image;i.onerror=function(){t.call(this,!1)};i.onload=function(){t.call(this,!0)};i.src=n};t.decodeHtmlEntity=function(n){return n.replace(/&#(\d+);/g,function(n,t){return String.fromCharCode(t)})};t.dimensionCheck=function(n){var t={height:n.clientHeight,width:n.clientWidth};return!(!t.height||!t.width)&&t};t.truthy=function(n){return"string"==typeof n?"true"===n||"yes"===n||"1"===n||"on"===n||""===n:!!n};t.parseColor=function(n){var i,t=n.match(/(^(?:#?)[0-9a-f]{6}$)|(^(?:#?)[0-9a-f]{3}$)/i);return null!==t?(i=t[1]||t[2],"#"!==i[0]?"#"+i:i):(t=n.match(/^rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/),null!==t?i="rgb("+t.slice(1).join(",")+")":(t=n.match(/^rgba\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0\.\d{1,}|1)\)$/),null!==t?i="rgba("+t.slice(1).join(",")+")":null))};t.canvasRatio=function(){var r=1,u=1,i,t;return n.document&&(i=n.document.createElement("canvas"),i.getContext&&(t=i.getContext("2d"),r=n.devicePixelRatio||1,u=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),r/u}}).call(t,function(){return this}())},function(n,t,i){(function(n){var r=i(9),u="http://www.w3.org/2000/svg",f=8;t.initSVG=function(n,t,i){var s,e,h=!1,o;for(n&&n.querySelector?(e=n.querySelector("style"),null===e&&(h=!0)):(n=r.newEl("svg",u),h=!0),h&&(s=r.newEl("defs",u),e=r.newEl("style",u),r.setAttr(e,{type:"text/css"}),s.appendChild(e),n.appendChild(s)),n.webkitMatchesSelector&&n.setAttribute("xmlns",u),o=0;o<n.childNodes.length;o++)n.childNodes[o].nodeType===f&&n.removeChild(n.childNodes[o]);for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);return r.setAttr(n,{width:t,height:i,viewBox:"0 0 "+t+" "+i,preserveAspectRatio:"none"}),n};t.svgStringToDataURI=function(){var t="data:image/svg+xml;charset=UTF-8,",i="data:image/svg+xml;charset=UTF-8;base64,";return function(r,u){return u?i+btoa(n.unescape(encodeURIComponent(r))):t+encodeURIComponent(r)}}();t.serializeSVG=function(t,i){var u,f,c,e;if(n.XMLSerializer){var o=new XMLSerializer,s="",h=i.stylesheets;if(i.svgXMLStylesheet){for(u=r.createXML(),f=h.length-1;f>=0;f--)c=u.createProcessingInstruction("xml-stylesheet",'href="'+h[f]+'" rel="stylesheet"'),u.insertBefore(c,u.firstChild);u.removeChild(u.documentElement);s=o.serializeToString(u)}return e=o.serializeToString(t),e=e.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),s+e}}}).call(t,function(){return this}())},function(n,t){(function(n){t.newEl=function(t,i){if(n.document)return null==i?n.document.createElement(t):n.document.createElementNS(i,t)};t.setAttr=function(n,t){for(var i in t)n.setAttribute(i,t[i])};t.createXML=function(){if(n.DOMParser)return(new DOMParser).parseFromString("<xml />","application/xml")};t.getNodeArray=function(t){var i=null;return"string"==typeof t?i=document.querySelectorAll(t):n.NodeList&&t instanceof n.NodeList?i=t:n.Node&&t instanceof n.Node?i=[t]:n.HTMLCollection&&t instanceof n.HTMLCollection?i=t:t instanceof Array?i=t:null===t&&(i=[]),i=Array.prototype.slice.call(i)}}).call(t,function(){return this}())},function(n){var t=function(n,t){"string"==typeof n&&(this.original=n,"#"===n.charAt(0)&&(n=n.slice(1)),/[^a-f0-9]+/i.test(n)||(3===n.length&&(n=n.replace(/./g,"$&$&")),6===n.length&&(this.alpha=1,t&&t.alpha&&(this.alpha=t.alpha),this.set(parseInt(n,16)))))};t.rgb2hex=function(n,t,i){function r(n){var t=(0|n).toString(16);return n<16&&(t="0"+t),t}return[n,t,i].map(r).join("")};t.hsl2rgb=function(n,t,i){var r=n/60,u=(1-Math.abs(2*i-1))*t,s=u*(1-Math.abs(parseInt(r)%2-1)),h=i-u/2,f=0,e=0,o=0;return r>=0&&r<1?(f=u,e=s):r>=1&&r<2?(f=s,e=u):r>=2&&r<3?(e=u,o=s):r>=3&&r<4?(e=s,o=u):r>=4&&r<5?(f=s,o=u):r>=5&&r<6&&(f=u,o=s),f+=h,e+=h,o+=h,f=parseInt(255*f),e=parseInt(255*e),o=parseInt(255*o),[f,e,o]};t.prototype.set=function(n){this.raw=n;var t=(16711680&this.raw)>>16,i=(65280&this.raw)>>8,r=255&this.raw,u=.2126*t+.7152*i+.0722*r,f=-.09991*t-.33609*i+.436*r,e=.615*t-.55861*i-.05639*r;return this.rgb={r:t,g:i,b:r},this.yuv={y:u,u:f,v:e},this};t.prototype.lighten=function(n){var r=Math.min(1,Math.max(0,Math.abs(n)))*(n<0?-1:1),i=255*r|0,u=Math.min(255,Math.max(0,this.rgb.r+i)),f=Math.min(255,Math.max(0,this.rgb.g+i)),e=Math.min(255,Math.max(0,this.rgb.b+i)),o=t.rgb2hex(u,f,e);return new t(o)};t.prototype.toHex=function(n){return(n?"#":"")+this.raw.toString(16)};t.prototype.lighterThan=function(n){return n instanceof t||(n=new t(n)),this.yuv.y>n.yuv.y};t.prototype.blendAlpha=function(n){n instanceof t||(n=new t(n));var i=n,r=this,u=i.alpha*i.rgb.r+(1-i.alpha)*r.rgb.r,f=i.alpha*i.rgb.g+(1-i.alpha)*r.rgb.g,e=i.alpha*i.rgb.b+(1-i.alpha)*r.rgb.b;return new t(t.rgb2hex(u,f,e))};n.exports=t},function(n){n.exports={version:"2.9.4",svg_ns:"http://www.w3.org/2000/svg"}},function(n,t,i){function u(n,t){return r.element({tag:t,width:n.width,height:n.height,fill:n.properties.fill})}function f(n){return c.cssProps({fill:n.fill,"font-weight":n.font.weight,"font-family":n.font.family+", monospace","font-size":n.font.size+n.font.units})}function e(n,t,i){var r=i/2;return["M",r,r,"H",n-r,"V",t-r,"H",r,"V",0,"M",0,r,"L",n,t-r,"M",0,t-r,"L",n,r].join(" ")}var o=i(13),s=i(8),h=i(11),c=i(7),l=h.svg_ns,r={element:function(n){var t=n.tag,i=n.content||"";return delete n.tag,delete n.content,[t,i,n]}};n.exports=function(n,t){var d=t.engineSettings,g=d.stylesheets,nt=g.map(function(n){return'<?xml-stylesheet rel="stylesheet" href="'+n+'"?>'}).join("\n"),w="holder_"+Number(new Date).toString(16),i=n.root,h=i.children.holderTextGroup,tt="#"+w+" text { "+f(h.properties)+" } ",v,b,y,c,k,a;h.y+=.8*h.textPositionData.boundingBox.height;v=[];Object.keys(h.children).forEach(function(n){var t=h.children[n];Object.keys(t.children).forEach(function(n){var i=t.children[n],u=h.x+t.x+i.x,f=h.y+t.y+i.y,e=r.element({tag:"text",content:i.properties.text,x:u,y:f});v.push(e)})});b=r.element({tag:"g",content:v});y=null;i.children.holderBg.properties.outline&&(c=i.children.holderBg.properties.outline,y=r.element({tag:"path",d:e(i.children.holderBg.width,i.children.holderBg.height,c.width),"stroke-width":c.width,stroke:c.fill,fill:"none"}));k=u(i.children.holderBg,"rect");a=[];a.push(k);c&&a.push(y);a.push(b);var it=r.element({tag:"g",id:w,content:a}),rt=r.element({tag:"style",content:tt,type:"text/css"}),ut=r.element({tag:"defs",content:rt}),ft=r.element({tag:"svg",content:[ut,it],width:i.properties.width,height:i.properties.height,xmlns:l,viewBox:[0,0,i.properties.width,i.properties.height].join(" "),preserveAspectRatio:"none"}),p=o(ft);return p=nt+p[0],s.svgStringToDataURI(p,"background"===t.mode)}},function(n,t,i){i(14);n.exports=function r(n,t,i){"use strict";function c(n){var u=n.match(/^[\w-]+/),t={tag:u?u[0]:"div",attr:{},children:[]},r=n.match(/#([\w-]+)/),f=n.match(/\$([\w-]+)/),e=n.match(/\.[\w-]+/g);return r&&(t.attr.id=r[1],i[r[1]]=t),f&&(i[f[1]]=t),e&&(t.attr["class"]=e.join(" ").replace(/\./g,"")),n.match(/&$/g)&&(h=!1),t}function l(n,t){if(null!==t&&t!==!1&&void 0!==t)return"string"!=typeof t&&"object"!=typeof t?String(t):t}function a(n){return n||0===n?String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;"):""}function v(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var e,f,s,o,u=1,h=!0;if(i=i||{},"string"==typeof n[0])n[0]=c(n[0]);else{if(!Array.isArray(n[0]))throw new Error("First element of array must be a string, or an array and not "+JSON.stringify(n[0]));u=0}for(;u<n.length;u++){if(n[u]===!1||null===n[u]){n[0]=!1;break}if(void 0!==n[u]&&n[u]!==!0)if("string"==typeof n[u])h&&(n[u]=v(n[u])),n[0].children.push(n[u]);else if("number"==typeof n[u])n[0].children.push(n[u]);else if(Array.isArray(n[u])){if(Array.isArray(n[u][0])){if(n[u].reverse().forEach(function(t){n.splice(u+1,0,t)}),0!==u)continue;u++}r(n[u],t,i);n[u][0]&&n[0].children.push(n[u][0])}else if("function"==typeof n[u])s=n[u];else{if("object"!=typeof n[u])throw new TypeError('"'+n[u]+'" is not allowed as a value.');for(f in n[u])n[u].hasOwnProperty(f)&&null!==n[u][f]&&n[u][f]!==!1&&(n[0].attr[f]="style"===f&&"object"==typeof n[u][f]?JSON.stringify(n[u][f],l).slice(2,-2).replace(/","/g,";").replace(/":"/g,":").replace(/\\"/g,"'"):n[u][f])}}if(n[0]!==!1){e="<"+n[0].tag;for(o in n[0].attr)n[0].attr.hasOwnProperty(o)&&(e+=" "+o+'="'+a(n[0].attr[o])+'"');e+=">";n[0].children.forEach(function(n){e+=n});e+="<\/"+n[0].tag+">";n[0]=e}return i[0]=n[0],s&&s(n[0]),i}},function(n){"use strict";function t(n){var r=""+n,o=i.exec(r);if(!o)return r;for(var u,e="",t=0,f=0,t=o.index;t<r.length;t++){switch(r.charCodeAt(t)){case 34:u="&quot;";break;case 38:u="&amp;";break;case 39:u="&#39;";break;case 60:u="&lt;";break;case 62:u="&gt;";break;default:continue}f!==t&&(e+=r.substring(f,t));f=t+1;e+=u}return f!==t?e+r.substring(f,t):e}var i=/["'&<>]/;n.exports=t},function(n,t,i){var r=i(9),u=i(7);n.exports=function(){var t=r.newEl("canvas"),n=null;return function(i){var e,s,f,v,l,y;null==n&&(n=t.getContext("2d"));e=u.canvasRatio();s=i.root;t.width=e*s.properties.width;t.height=e*s.properties.height;n.textBaseline="middle";var o=s.children.holderBg,h=e*o.width,c=e*o.height,r=1;n.fillStyle=o.properties.fill;n.fillRect(0,0,h,c);o.properties.outline&&(n.strokeStyle=o.properties.outline.fill,n.lineWidth=o.properties.outline.width,n.moveTo(r,r),n.lineTo(h-r,r),n.lineTo(h-r,c-r),n.lineTo(r,c-r),n.lineTo(r,r),n.moveTo(0,r),n.lineTo(h,c-r),n.moveTo(0,c-r),n.lineTo(h,r),n.stroke());f=s.children.holderTextGroup;n.font=f.properties.font.weight+" "+e*f.properties.font.size+f.properties.font.units+" "+f.properties.font.family+", monospace";n.fillStyle=f.properties.fill;for(v in f.children){l=f.children[v];for(y in l.children){var a=l.children[y],p=e*(f.x+l.x+a.x),w=e*(f.y+l.y+a.y+f.properties.leading/2);n.fillText(a.properties.text,p,w)}}return t.toDataURL("image/png")}}()}])}),function(n,t){t&&(Holder=n.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.moment=t()}(this,function(){"use strict";function t(){return af.apply(null,arguments)}function ut(n){return n instanceof Array||"[object Array]"===Object.prototype.toString.call(n)}function ai(n){return null!=n&&"[object Object]"===Object.prototype.toString.call(n)}function b(n){return void 0===n}function dt(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function nr(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function yf(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function l(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function pt(n,t){for(var i in t)l(t,i)&&(n[i]=t[i]);return l(t,"toString")&&(n.toString=t.toString),l(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ft(n,t,i,r){return ro(n,t,i,r,!0).utc()}function u(n){return null==n._pf&&(n._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),n._pf}function tu(n){if(null==n._isValid){var t=u(n),r=vf.call(t.parsedDateParts,function(n){return null!=n}),i=!isNaN(n._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(n._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(n))return i;n._isValid=i}return n._isValid}function tr(n){var t=ft(NaN);return null!=n?pt(u(t),n):u(t).userInvalidated=!0,t}function iu(n,t){var i,r,f;if(b(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),b(t._i)||(n._i=t._i),b(t._f)||(n._f=t._f),b(t._l)||(n._l=t._l),b(t._strict)||(n._strict=t._strict),b(t._tzm)||(n._tzm=t._tzm),b(t._isUTC)||(n._isUTC=t._isUTC),b(t._offset)||(n._offset=t._offset),b(t._pf)||(n._pf=u(t)),b(t._locale)||(n._locale=t._locale),0<ir.length)for(i=0;i<ir.length;i++)b(f=t[r=ir[i]])||(n[r]=f);return n}function vi(n){iu(this,n);this._d=new Date(null!=n._d?n._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===rr&&(rr=!0,t.updateOffset(this),rr=!1)}function et(n){return n instanceof vi||null!=n&&null!=n._isAMomentObject}function d(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function f(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=d(t)),i}function pf(n,t,i){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),u=0,r=0;r<e;r++)(i&&n[r]!==t[r]||!i&&f(n[r])!==f(t[r]))&&u++;return u+o}function wf(n){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function g(n,i){var r=!0;return pt(function(){var u,e,f,o;if(null!=t.deprecationHandler&&t.deprecationHandler(null,n),r){for(e=[],f=0;f<arguments.length;f++){if(u="","object"==typeof arguments[f]){for(o in u+="\n["+f+"] ",arguments[0])u+=o+": "+arguments[0][o]+", ";u=u.slice(0,-2)}else u=arguments[f];e.push(u)}wf(n+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack);r=!1}return i.apply(this,arguments)},i)}function kf(n,i){null!=t.deprecationHandler&&t.deprecationHandler(n,i);ru[n]||(wf(i),ru[n]=!0)}function ot(n){return n instanceof Function||"[object Function]"===Object.prototype.toString.call(n)}function df(n,t){var i,r=pt({},n);for(i in t)l(t,i)&&(ai(n[i])&&ai(t[i])?(r[i]={},pt(r[i],n[i]),pt(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in n)l(n,i)&&!l(t,i)&&ai(n[i])&&(r[i]=pt({},r[i]));return r}function uu(n){null!=n&&this.set(n)}function p(n,t){var i=n.toLowerCase();ui[i]=ui[i+"s"]=ui[t]=n}function nt(n){if("string"==typeof n)return ui[n]||ui[n.toLowerCase()]}function fu(n){var i,t,r={};for(t in n)l(n,t)&&(i=nt(t))&&(r[i]=n[t]);return r}function w(n,t){eu[n]=t}function lt(n,t,i){var r=""+Math.abs(n),u=t-r.length;return(0<=n?i?"+":"":"-")+Math.pow(10,Math.max(0,u)).toString().substr(1)+r}function r(n,t,i,r){var u=r;"string"==typeof r&&(u=function(){return this[r]()});n&&(fi[n]=u);t&&(fi[t[0]]=function(){return lt(u.apply(this,arguments),t[1],t[2])});i&&(fi[i]=function(){return this.localeData().ordinal(u.apply(this,arguments),n)})}function fr(n,t){return n.isValid()?(t=ne(t,n.localeData()),ou[t]=ou[t]||function(n){for(var u,t=n.match(gf),i=0,r=t.length;i<r;i++)t[i]=fi[t[i]]?fi[t[i]]:(u=t[i]).match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"");return function(i){for(var f="",u=0;u<r;u++)f+=ot(t[u])?t[u].call(i,n):t[u];return f}}(t),ou[t](n)):n.localeData().invalidDate()}function ne(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ur.lastIndex=0;0<=i&&ur.test(n);)n=n.replace(ur,r),ur.lastIndex=0,i-=1;return n}function i(n,t,i){cu[n]=ot(t)?t:function(n){return n&&i?i:t}}function ls(n,t){return l(cu,n)?cu[n](t._strict,t._locale):new RegExp(gt(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})))}function gt(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function h(n,t){var i,r=t;for("string"==typeof n&&(n=[n]),dt(t)&&(r=function(n,i){i[t]=f(n)}),i=0;i<n.length;i++)lr[n[i]]=r}function pi(n,t){h(n,function(n,i,r,u){r._w=r._w||{};t(n,r._w,r,u)})}function wi(n){return ar(n)?366:365}function ar(n){return n%4==0&&n%100!=0||n%400==0}function ei(n,i){return function(r){return null!=r?(fe(this,n,r),t.updateOffset(this,i),this):vr(this,n)}}function vr(n,t){return n.isValid()?n._d["get"+(n._isUTC?"UTC":"")+t]():NaN}function fe(n,t,i){n.isValid()&&!isNaN(i)&&("FullYear"===t&&ar(n.year())&&1===n.month()&&29===n.date()?n._d["set"+(n._isUTC?"UTC":"")+t](i,n.month(),yr(i,n.month())):n._d["set"+(n._isUTC?"UTC":"")+t](i))}function yr(n,t){if(isNaN(n)||isNaN(t))return NaN;var i,r=(t%(i=12)+i)%i;return n+=(t-r)/12,1===r?ar(n)?29:28:31-r%7%2}function se(n,t){var i;if(!n.isValid())return n;if("string"==typeof t)if(/^\d+$/.test(t))t=f(t);else if(!dt(t=n.localeData().monthsParse(t)))return n;return i=Math.min(n.date(),yr(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n}function he(n){return null!=n?(se(this,n),t.updateOffset(this,!0),this):vr(this,"Month")}function ae(){function f(n,t){return t.length-n.length}for(var i,r=[],u=[],t=[],n=0;n<12;n++)i=ft([2e3,n]),r.push(this.monthsShort(i,"")),u.push(this.months(i,"")),t.push(this.months(i,"")),t.push(this.monthsShort(i,""));for(r.sort(f),u.sort(f),t.sort(f),n=0;n<12;n++)r[n]=gt(r[n]),u[n]=gt(u[n]);for(n=0;n<24;n++)t[n]=gt(t[n]);this._monthsRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+u.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function bi(n){var t,i;return n<100&&0<=n?(i=Array.prototype.slice.call(arguments),i[0]=n+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n)):t=new Date(Date.UTC.apply(null,arguments)),t}function pr(n,t,i){var r=7+t-i;return-((7+bi(n,0,r).getUTCDay()-t)%7)+r-1}function ve(n,t,i,r,u){var e,o,f=1+7*(t-1)+(7+i-r)%7+pr(n,r,u);return o=f<=0?wi(e=n-1)+f:f>wi(n)?(e=n+1,f-wi(n)):(e=n,f),{year:e,dayOfYear:o}}function ki(n,t,i){var u,f,e=pr(n.year(),t,i),r=Math.floor((n.dayOfYear()-e-1)/7)+1;return r<1?u=r+ti(f=n.year()-1,t,i):r>ti(n.year(),t,i)?(u=r-ti(n.year(),t,i),f=n.year()+1):(f=n.year(),u=r),{week:u,year:f}}function ti(n,t,i){var r=pr(n,t,i),u=pr(n+1,t,i);return(wi(n)-r+u)/7}function au(n,t){return n.slice(t,7).concat(n.slice(0,t))}function vu(){function u(n,t){return t.length-n.length}for(var f,e,o,s,h=[],i=[],r=[],t=[],n=0;n<7;n++)f=ft([2e3,1]).day(n),e=this.weekdaysMin(f,""),o=this.weekdaysShort(f,""),s=this.weekdays(f,""),h.push(e),i.push(o),r.push(s),t.push(e),t.push(o),t.push(s);for(h.sort(u),i.sort(u),r.sort(u),t.sort(u),n=0;n<7;n++)i[n]=gt(i[n]),r[n]=gt(r[n]),t[n]=gt(t[n]);this._weekdaysRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function yu(){return this.hours()%12||12}function pe(n,t){r(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function we(n,t){return t._meridiemParse}function ke(n){return n?n.toLowerCase().replace("_","-"):n}function wr(n){var t=null;if(!y[n]&&"undefined"!=typeof module&&module&&module.exports)try{t=di._abbr;require("./locale/"+n);oi(t)}catch(n){}return y[n]}function oi(n,t){var i;return n&&((i=b(t)?wt(n):pu(n,t))?di=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),di._abbr}function pu(n,t){if(null===t)return delete y[n],null;var r,i=be;if(t.abbr=n,null!=y[n])kf("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=y[n]._config;else if(null!=t.parentLocale)if(null!=y[t.parentLocale])i=y[t.parentLocale]._config;else{if(null==(r=wr(t.parentLocale)))return gi[t.parentLocale]||(gi[t.parentLocale]=[]),gi[t.parentLocale].push({name:n,config:t}),null;i=r._config}return y[n]=new uu(df(i,t)),gi[n]&&gi[n].forEach(function(n){pu(n.name,n.config)}),oi(n),y[n]}function wt(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return di;if(!ut(n)){if(t=wr(n))return t;n=[n]}return function(n){for(var t,i,f,u,r=0;r<n.length;){for(t=(u=ke(n[r]).split("-")).length,i=(i=ke(n[r+1]))?i.split("-"):null;0<t;){if(f=wr(u.slice(0,t).join("-")))return f;if(i&&i.length>=t&&pf(u,i,!0)>=t-1)break;t--}r++}return di}(n)}function wu(n){var i,t=n._a;return t&&-2===u(n).overflow&&(i=t[at]<0||11<t[at]?at:t[st]<1||t[st]>yr(t[tt],t[at])?st:t[v]<0||24<t[v]||24===t[v]&&(0!==t[it]||0!==t[vt]||0!==t[ni])?v:t[it]<0||59<t[it]?it:t[vt]<0||59<t[vt]?vt:t[ni]<0||999<t[ni]?ni:-1,u(n)._overflowDayOfYear&&(i<tt||st<i)&&(i=st),u(n)._overflowWeeks&&-1===i&&(i=as),u(n)._overflowWeekday&&-1===i&&(i=vs),u(n).overflow=i),n}function si(n,t,i){return null!=n?n:null!=t?t:i}function bu(n){var i,f,e,h,o,s=[],l,r;if(!n._d){for(l=n,r=new Date(t.now()),e=l._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],n._w&&null==n._a[st]&&null==n._a[at]&&function(n){var t,o,f,i,r,e,h,s,l;null!=(t=n._w).GG||null!=t.W||null!=t.E?(r=1,e=4,o=si(t.GG,n._a[tt],ki(c(),1,4).year),f=si(t.W,1),((i=si(t.E,1))<1||7<i)&&(s=!0)):(r=n._locale._week.dow,e=n._locale._week.doy,l=ki(c(),r,e),o=si(t.gg,n._a[tt],l.year),f=si(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(s=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(s=!0)):i=r);f<1||f>ti(o,r,e)?u(n)._overflowWeeks=!0:null!=s?u(n)._overflowWeekday=!0:(h=ve(o,f,i,r,e),n._a[tt]=h.year,n._dayOfYear=h.dayOfYear)}(n),null!=n._dayOfYear&&(o=si(n._a[tt],e[tt]),(n._dayOfYear>wi(o)||0===n._dayOfYear)&&(u(n)._overflowDayOfYear=!0),f=bi(o,0,n._dayOfYear),n._a[at]=f.getUTCMonth(),n._a[st]=f.getUTCDate()),i=0;i<3&&null==n._a[i];++i)n._a[i]=s[i]=e[i];for(;i<7;i++)n._a[i]=s[i]=null==n._a[i]?2===i?1:0:n._a[i];24===n._a[v]&&0===n._a[it]&&0===n._a[vt]&&0===n._a[ni]&&(n._nextDay=!0,n._a[v]=0);n._d=(n._useUTC?bi:function(n,t,i,r,u,f,e){var o;return n<100&&0<=n?(o=new Date(n+400,t,i,r,u,f,e),isFinite(o.getFullYear())&&o.setFullYear(n)):o=new Date(n,t,i,r,u,f,e),o}).apply(null,s);h=n._useUTC?n._d.getUTCDay():n._d.getDay();null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);n._nextDay&&(n._a[v]=24);n._w&&void 0!==n._w.d&&n._w.d!==h&&(u(n).weekdayMismatch=!0)}}function de(n){var t,r,o,e,f,s,h=n._i,i=nh.exec(h)||th.exec(h);if(i){for(u(n).iso=!0,t=0,r=br.length;t<r;t++)if(br[t][1].exec(i[1])){e=br[t][0];o=!1!==br[t][2];break}if(null==e)return void(n._isValid=!1);if(i[3]){for(t=0,r=ku.length;t<r;t++)if(ku[t][1].exec(i[3])){f=(i[2]||" ")+ku[t][0];break}if(null==f)return void(n._isValid=!1)}if(!o&&null!=f)return void(n._isValid=!1);if(i[4]){if(!ih.exec(i[4]))return void(n._isValid=!1);s="Z"}n._f=e+(f||"")+(s||"");du(n)}else n._isValid=!1}function uh(n,t,i,r,u,f){var e=[function(n){var t=parseInt(n,10);return t<=49?2e3+t:t<=999?1900+t:t}(n),oe.indexOf(t),parseInt(i,10),parseInt(r,10),parseInt(u,10)];return f&&e.push(parseInt(f,10)),e}function to(n){var r,i,f,t=ge.exec(n._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")),e;if(t){if(e=uh(t[4],t[3],t[2],t[5],t[6],t[7]),r=t[1],i=e,f=n,r&&ye.indexOf(r)!==new Date(i[0],i[1],i[2]).getDay()&&(u(f).weekdayMismatch=!0,!(f._isValid=!1)))return;n._a=e;n._tzm=function(n,t,i){if(n)return no[n];if(t)return 0;var r=parseInt(i,10),u=r%100;return(r-u)/100*60+u}(t[8],t[9],t[10]);n._d=bi.apply(null,n._a);n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm);u(n).rfc2822=!0}else n._isValid=!1}function du(n){if(n._f!==t.ISO_8601)if(n._f!==t.RFC_2822){n._a=[];u(n).empty=!0;for(var r,f,c,o,a,h,i=""+n._i,p=i.length,y=0,s=ne(n._f,n._locale).match(gf)||[],e=0;e<s.length;e++)f=s[e],(r=(i.match(ls(f,n))||[])[0])&&(0<(c=i.substr(0,i.indexOf(r))).length&&u(n).unusedInput.push(c),i=i.slice(i.indexOf(r)+r.length),y+=r.length),fi[f]?(r?u(n).empty=!1:u(n).unusedTokens.push(f),o=f,h=n,null!=(a=r)&&l(lr,o)&&lr[o](a,h._a,h,o)):n._strict&&!r&&u(n).unusedTokens.push(f);u(n).charsLeftOver=p-y;0<i.length&&u(n).unusedInput.push(i);n._a[v]<=12&&!0===u(n).bigHour&&0<n._a[v]&&(u(n).bigHour=void 0);u(n).parsedDateParts=n._a.slice(0);u(n).meridiem=n._meridiem;n._a[v]=function(n,t,i){var r;return null==i?t:null!=n.meridiemHour?n.meridiemHour(t,i):(null!=n.isPM&&((r=n.isPM(i))&&t<12&&(t+=12),r||12!==t||(t=0)),t)}(n._locale,n._a[v],n._meridiem);bu(n);wu(n)}else to(n);else de(n)}function io(n){var r,f,i,s,e=n._i,o=n._f;return n._locale=n._locale||wt(n._l),null===e||void 0===o&&""===e?tr({nullInput:!0}):("string"==typeof e&&(n._i=e=n._locale.preparse(e)),et(e)?new vi(wu(e)):(nr(e)?n._d=e:ut(o)?function(n){var t,e,f,r,i;if(0===n._f.length)return u(n).invalidFormat=!0,n._d=new Date(NaN);for(r=0;r<n._f.length;r++)i=0,t=iu({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._f=n._f[r],du(t),tu(t)&&(i+=u(t).charsLeftOver,i+=10*u(t).unusedTokens.length,u(t).score=i,(null==f||i<f)&&(f=i,e=t));pt(n,e||t)}(n):o?du(n):b(f=(r=n)._i)?r._d=new Date(t.now()):nr(f)?r._d=new Date(f.valueOf()):"string"==typeof f?(i=r,null===(s=rh.exec(i._i))?(de(i),!1===i._isValid&&(delete i._isValid,to(i),!1===i._isValid&&(delete i._isValid,t.createFromInputFallback(i)))):i._d=new Date(+s[1])):ut(f)?(r._a=yf(f.slice(0),function(n){return parseInt(n,10)}),bu(r)):ai(f)?function(n){if(!n._d){var t=fu(n._i);n._a=yf([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)});bu(n)}}(r):dt(f)?r._d=new Date(f):t.createFromInputFallback(r),tu(n)||(n._d=null),n))}function ro(n,t,i,r,u){var e,f={};return!0!==i&&!1!==i||(r=i,i=void 0),(ai(n)&&function(n){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(n).length;for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}(n)||ut(n)&&0===n.length)&&(n=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=u,f._l=i,f._i=n,f._f=t,f._strict=r,(e=new vi(wu(io(f))))._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function c(n,t,i,r){return ro(n,t,i,r,!1)}function eo(n,t){var r,i;if(1===t.length&&ut(t[0])&&(t=t[0]),!t.length)return c();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][n](r)||(r=t[i]);return r}function kr(n){var t=fu(n),i=t.year||0,r=t.quarter||0,u=t.month||0,e=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,h=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=function(n){var i,r,t;for(i in n)if(-1===a.call(hi,i)||null!=n[i]&&isNaN(n[i]))return!1;for(r=!1,t=0;t<hi.length;++t)if(n[hi[t]]){if(r)return!1;parseFloat(n[hi[t]])!==f(n[hi[t]])&&(r=!0)}return!0}(t);this._milliseconds=+l+1e3*c+6e4*h+36e5*s;this._days=+o+7*e;this._months=+u+3*r+12*i;this._data={};this._locale=wt();this._bubble()}function gu(n){return n instanceof kr}function nf(n){return n<0?-1*Math.round(-1*n):Math.round(n)}function oo(n,t){r(n,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+lt(~~(n/60),2)+t+lt(~~n%60,2)})}function tf(n,t){var u=(t||"").match(n),i,r;return null===u?null:(i=((u[u.length-1]||[])+"").match(so)||["-",0,0],r=60*i[1]+f(i[2]),0===r?0:"+"===i[0]?r:-r)}function rf(n,i){var r,u;return i._isUTC?(r=i.clone(),u=(et(n)||nr(n)?n.valueOf():c(n).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+u),t.updateOffset(r,!1),r):c(n).local()}function uf(n){return 15*-Math.round(n._d.getTimezoneOffset()/15)}function ho(){return!!this.isValid()&&this._isUTC&&0===this._offset}function rt(n,t){var u,e,o,i=n,r=null;return gu(n)?i={ms:n._milliseconds,d:n._days,M:n._months}:dt(n)?(i={},t?i[t]=n:i.milliseconds=n):(r=co.exec(n))?(u="-"===r[1]?-1:1,i={y:0,d:f(r[st])*u,h:f(r[v])*u,m:f(r[it])*u,s:f(r[vt])*u,ms:f(nf(1e3*r[ni]))*u}):(r=lo.exec(n))?(u="-"===r[1]?-1:1,i={y:ii(r[2],u),M:ii(r[3],u),w:ii(r[4],u),d:ii(r[5],u),h:ii(r[6],u),m:ii(r[7],u),s:ii(r[8],u)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(n,t){var i;return!n.isValid()||!t.isValid()?{milliseconds:0,months:0}:(t=rf(t,n),n.isBefore(t)?i=ao(n,t):((i=ao(t,n)).milliseconds=-i.milliseconds,i.months=-i.months),i)}(c(i.from),c(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),e=new kr(i),gu(n)&&l(n,"_locale")&&(e._locale=n._locale),e}function ii(n,t){var i=n&&parseFloat(n.replace(",","."));return(isNaN(i)?0:i)*t}function ao(n,t){var i={};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function vo(n,t){return function(i,r){var u;return null===r||isNaN(+r)||(kf(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=i,i=r,r=u),yo(this,rt(i="string"==typeof i?+i:i,r),n),this}}function yo(n,i,r,u){var o=i._milliseconds,f=nf(i._days),e=nf(i._months);n.isValid()&&(u=null==u||u,e&&se(n,vr(n,"Month")+e*r),f&&fe(n,"Date",vr(n,"Date")+f*r),o&&n._d.setTime(n._d.valueOf()+o*r),u&&t.updateOffset(n,f||e))}function ff(n,t){var r=12*(t.year()-n.year())+(t.month()-n.month()),i=n.clone().add(r,"months");return-(r+(t-i<0?(t-i)/(i-n.clone().add(r-1,"months")):(t-i)/(n.clone().add(r+1,"months")-i)))||0}function bo(n){var t;return void 0===n?this._locale._abbr:(null!=(t=wt(n))&&(this._locale=t),this)}function ko(){return this._locale}function ci(n,t){return(n%t+t)%t}function go(n,t,i){return n<100&&0<=n?new Date(n+400,t,i)-of:new Date(n,t,i).valueOf()}function ns(n,t,i){return n<100&&0<=n?Date.UTC(n+400,t,i)-of:Date.UTC(n,t,i)}function dr(n,t){r(0,[n,n.length],0,t)}function ts(n,t,i,r,u){var f;return null==n?ki(this,r,u).year:((f=ti(n,r,u))<t&&(t=f),function(n,t,i,r,u){var e=ve(n,t,i,r,u),f=bi(e.year,0,e.dayOfYear);return this.year(f.getUTCFullYear()),this.month(f.getUTCMonth()),this.date(f.getUTCDate()),this}.call(this,n,t,i,r,u))}function fh(n,t){t[ni]=f(1e3*("0."+n))}function fs(n){return n}function gr(n,t,i,r){var u=wt(),f=ft().set(r,t);return u[i](f,n)}function es(n,t,i){if(dt(n)&&(t=n,n=void 0),n=n||"",null!=t)return gr(n,t,i,"month");for(var u=[],r=0;r<12;r++)u[r]=gr(n,r,i,"month");return u}function hf(n,t,i,r){var u,o,f,e;if(t=("boolean"==typeof n?dt(t)&&(i=t,t=void 0):(t=n,n=!1,dt(i=t)&&(i=t,t=void 0)),t||""),o=wt(),f=n?o._week.dow:0,null!=i)return gr(t,(i+f)%7,r,"day");for(e=[],u=0;u<7;u++)e[u]=gr(t,(u+f)%7,r,"day");return e}function os(n,t,i,r){var u=rt(t,i);return n._milliseconds+=r*u._milliseconds,n._days+=r*u._days,n._months+=r*u._months,n._bubble()}function ss(n){return n<0?Math.floor(n):Math.ceil(n)}function hs(n){return 4800*n/146097}function cf(n){return 146097*n/4800}function yt(n){return function(){return this.as(n)}}function ri(n){return function(){return this.isValid()?this._data[n]:NaN}}function li(n){return(0<n)-(n<0)||+n}function nu(){if(!this.isValid())return this.localeData().invalidDate();var i,o,t=lf(this._milliseconds)/1e3,v=lf(this._days),s=lf(this._months);o=d((i=d(t/60))/60);t%=60;i%=60;var h=d(s/12),c=s%=12,l=v,r=o,u=i,f=t?t.toFixed(3).replace(/\.?0+$/,""):"",n=this.asSeconds();if(!n)return"P0D";var y=n<0?"-":"",a=li(this._months)!==li(n)?"-":"",p=li(this._days)!==li(n)?"-":"",e=li(this._milliseconds)!==li(n)?"-":"";return y+"P"+(h?a+h+"Y":"")+(c?a+c+"M":"")+(l?p+l+"D":"")+(r||u||f?"T":"")+(r?e+r+"H":"")+(u?e+u+"M":"")+(f?e+f+"S":"")}var af,vf,ir,rr,bf,ru,ui,eu,lr,a,lu,ce,le,ge,no,uo,fo,hi,so,co,lo,po,wo,ef,of,sf,is,bt,rs,us,n,o,ht,e;vf=Array.prototype.some?Array.prototype.some:function(n){for(var i=Object(this),r=i.length>>>0,t=0;t<r;t++)if(t in i&&n.call(this,i[t],t,i))return!0;return!1};ir=t.momentProperties=[];rr=!1;ru={};t.suppressDeprecationWarnings=!1;t.deprecationHandler=null;bf=Object.keys?Object.keys:function(n){var t,i=[];for(t in n)l(n,t)&&i.push(t);return i};ui={};eu={};var gf=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ur=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ou={},fi={};var te=/\d/,k=/\d\d/,ie=/\d{3}/,su=/\d{4}/,er=/[+-]?\d{6}/,s=/\d\d?/,re=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,or=/\d{1,3}/,hu=/\d{1,4}/,sr=/[+-]?\d{1,6}/,hr=/[+-]?\d+/,cs=/Z|[+-]\d\d:?\d\d/gi,cr=/Z|[+-]\d\d(?::?\d\d)?/gi,yi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,cu={};lr={};var tt=0,at=1,st=2,v=3,it=4,vt=5,ni=6,as=7,vs=8;r("Y",0,0,function(){var n=this.year();return n<=9999?""+n:"+"+n});r(0,["YY",2],0,function(){return this.year()%100});r(0,["YYYY",4],0,"year");r(0,["YYYYY",5],0,"year");r(0,["YYYYYY",6,!0],0,"year");p("year","y");w("year",1);i("Y",hr);i("YY",s,k);i("YYYY",hu,su);i("YYYYY",sr,er);i("YYYYYY",sr,er);h(["YYYYY","YYYYYY"],tt);h("YYYY",function(n,i){i[tt]=2===n.length?t.parseTwoDigitYear(n):f(n)});h("YY",function(n,i){i[tt]=t.parseTwoDigitYear(n)});h("Y",function(n,t){t[tt]=parseInt(n,10)});t.parseTwoDigitYear=function(n){return f(n)+(68<f(n)?1900:2e3)};lu=ei("FullYear",!0);a=Array.prototype.indexOf?Array.prototype.indexOf:function(n){for(var t=0;t<this.length;++t)if(this[t]===n)return t;return-1};r("M",["MM",2],"Mo",function(){return this.month()+1});r("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});r("MMMM",0,0,function(n){return this.localeData().months(this,n)});p("month","M");w("month",8);i("M",s);i("MM",s,k);i("MMM",function(n,t){return t.monthsShortRegex(n)});i("MMMM",function(n,t){return t.monthsRegex(n)});h(["M","MM"],function(n,t){t[at]=f(n)-1});h(["MMM","MMMM"],function(n,t,i,r){var f=i._locale.monthsParse(n,r,i._strict);null!=f?t[at]=f:u(i).invalidMonth=n});var ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ys="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");ce=yi;le=yi;r("w",["ww",2],"wo","week");r("W",["WW",2],"Wo","isoWeek");p("week","w");p("isoWeek","W");w("week",5);w("isoWeek",5);i("w",s);i("ww",s,k);i("W",s);i("WW",s,k);pi(["w","ww","W","WW"],function(n,t,i,r){t[r.substr(0,1)]=f(n)});r("d",0,"do","day");r("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});r("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});r("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});r("e",0,0,"weekday");r("E",0,0,"isoWeekday");p("day","d");p("weekday","e");p("isoWeekday","E");w("day",11);w("weekday",11);w("isoWeekday",11);i("d",s);i("e",s);i("E",s);i("dd",function(n,t){return t.weekdaysMinRegex(n)});i("ddd",function(n,t){return t.weekdaysShortRegex(n)});i("dddd",function(n,t){return t.weekdaysRegex(n)});pi(["dd","ddd","dddd"],function(n,t,i,r){var f=i._locale.weekdaysParse(n,r,i._strict);null!=f?t.d=f:u(i).invalidWeekday=n});pi(["d","e","E"],function(n,t,i,r){t[r]=f(n)});var ps="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ye="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ws="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bs=yi,ks=yi,ds=yi;r("H",["HH",2],0,"hour");r("h",["hh",2],0,yu);r("k",["kk",2],0,function(){return this.hours()||24});r("hmm",0,0,function(){return""+yu.apply(this)+lt(this.minutes(),2)});r("hmmss",0,0,function(){return""+yu.apply(this)+lt(this.minutes(),2)+lt(this.seconds(),2)});r("Hmm",0,0,function(){return""+this.hours()+lt(this.minutes(),2)});r("Hmmss",0,0,function(){return""+this.hours()+lt(this.minutes(),2)+lt(this.seconds(),2)});pe("a",!0);pe("A",!1);p("hour","h");w("hour",13);i("a",we);i("A",we);i("H",s);i("h",s);i("k",s);i("HH",s,k);i("hh",s,k);i("kk",s,k);i("hmm",re);i("hmmss",ue);i("Hmm",re);i("Hmmss",ue);h(["H","HH"],v);h(["k","kk"],function(n,t){var i=f(n);t[v]=24===i?0:i});h(["a","A"],function(n,t,i){i._isPm=i._locale.isPM(n);i._meridiem=n});h(["h","hh"],function(n,t,i){t[v]=f(n);u(i).bigHour=!0});h("hmm",function(n,t,i){var r=n.length-2;t[v]=f(n.substr(0,r));t[it]=f(n.substr(r));u(i).bigHour=!0});h("hmmss",function(n,t,i){var r=n.length-4,e=n.length-2;t[v]=f(n.substr(0,r));t[it]=f(n.substr(r,2));t[vt]=f(n.substr(e));u(i).bigHour=!0});h("Hmm",function(n,t){var i=n.length-2;t[v]=f(n.substr(0,i));t[it]=f(n.substr(i))});h("Hmmss",function(n,t){var i=n.length-4,r=n.length-2;t[v]=f(n.substr(0,i));t[it]=f(n.substr(i,2));t[vt]=f(n.substr(r))});var di,gs=ei("Hours",!0),be={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:ys,monthsShort:oe,week:{dow:0,doy:6},weekdays:ps,weekdaysMin:ws,weekdaysShort:ye,meridiemParse:/[ap]\.?m?\.?/i},y={},gi={};var nh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,th=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ih=/Z|[+-]\d\d(?::?\d\d)?/,br=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ku=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rh=/^\/?Date\((\-?\d+)/i;for(ge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,no={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},t.createFromInputFallback=g("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){},uo=g("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:tr()}),fo=g("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=c.apply(null,arguments);return this.isValid()&&n.isValid()?this<n?this:n:tr()}),hi=["year","quarter","month","week","day","hour","minute","second","millisecond"],oo("Z",":"),oo("ZZ",""),i("Z",cr),i("ZZ",cr),h(["Z","ZZ"],function(n,t,i){i._useUTC=!0;i._tzm=tf(cr,n)}),so=/([\+\-]|\d\d)/gi,t.updateOffset=function(){},co=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,lo=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,rt.fn=kr.prototype,rt.invalid=function(){return rt(NaN)},po=vo(1,"add"),wo=vo(-1,"subtract"),t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",ef=g("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return void 0===n?this.localeData():this.locale(n)}),of=126227808e5,r(0,["gg",2],0,function(){return this.weekYear()%100}),r(0,["GG",2],0,function(){return this.isoWeekYear()%100}),dr("gggg","weekYear"),dr("ggggg","weekYear"),dr("GGGG","isoWeekYear"),dr("GGGGG","isoWeekYear"),p("weekYear","gg"),p("isoWeekYear","GG"),w("weekYear",1),w("isoWeekYear",1),i("G",hr),i("g",hr),i("GG",s,k),i("gg",s,k),i("GGGG",hu,su),i("gggg",hu,su),i("GGGGG",sr,er),i("ggggg",sr,er),pi(["gggg","ggggg","GGGG","GGGGG"],function(n,t,i,r){t[r.substr(0,2)]=f(n)}),pi(["gg","GG"],function(n,i,r,u){i[u]=t.parseTwoDigitYear(n)}),r("Q",0,"Qo","quarter"),p("quarter","Q"),w("quarter",7),i("Q",te),h("Q",function(n,t){t[at]=3*(f(n)-1)}),r("D",["DD",2],"Do","date"),p("date","D"),w("date",9),i("D",s),i("DD",s,k),i("Do",function(n,t){return n?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),h(["D","DD"],st),h("Do",function(n,t){t[st]=f(n.match(s)[0])}),sf=ei("Date",!0),r("DDD",["DDDD",3],"DDDo","dayOfYear"),p("dayOfYear","DDD"),w("dayOfYear",4),i("DDD",or),i("DDDD",ie),h(["DDD","DDDD"],function(n,t,i){i._dayOfYear=f(n)}),r("m",["mm",2],0,"minute"),p("minute","m"),w("minute",14),i("m",s),i("mm",s,k),h(["m","mm"],it),is=ei("Minutes",!1),r("s",["ss",2],0,"second"),p("second","s"),w("second",15),i("s",s),i("ss",s,k),h(["s","ss"],vt),rs=ei("Seconds",!1),r("S",0,0,function(){return~~(this.millisecond()/100)}),r(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),r(0,["SSS",3],0,"millisecond"),r(0,["SSSS",4],0,function(){return 10*this.millisecond()}),r(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),r(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),r(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),r(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),r(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),p("millisecond","ms"),w("millisecond",16),i("S",or,te),i("SS",or,k),i("SSS",or,ie),bt="SSSS";bt.length<=9;bt+="S")i(bt,/\d+/);for(bt="S";bt.length<=9;bt+="S")h(bt,fh);us=ei("Milliseconds",!1);r("z",0,0,"zoneAbbr");r("zz",0,0,"zoneName");n=vi.prototype;n.add=po;n.calendar=function(n,i){var u=n||c(),f=rf(u,this).startOf("day"),r=t.calendarFormat(this,f)||"sameElse",e=i&&(ot(i[r])?i[r].call(this,u):i[r]);return this.format(e||this.localeData().calendar(r,this,c(u)))};n.clone=function(){return new vi(this)};n.diff=function(n,t,i){var r,f,u;if(!this.isValid())return NaN;if(!(r=rf(n,this)).isValid())return NaN;switch(f=6e4*(r.utcOffset()-this.utcOffset()),t=nt(t)){case"year":u=ff(this,r)/12;break;case"month":u=ff(this,r);break;case"quarter":u=ff(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-f)/864e5;break;case"week":u=(this-r-f)/6048e5;break;default:u=this-r}return i?u:d(u)};n.endOf=function(n){var i,r;if(void 0===(n=nt(n))||"millisecond"===n||!this.isValid())return this;r=this._isUTC?ns:go;switch(n){case"year":i=r(this.year()+1,0,1)-1;break;case"quarter":i=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=r(this.year(),this.month()+1,1)-1;break;case"week":i=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf();i+=3599999-ci(i+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":i=this._d.valueOf();i+=59999-ci(i,6e4);break;case"second":i=this._d.valueOf();i+=999-ci(i,1e3)}return this._d.setTime(i),t.updateOffset(this,!0),this};n.format=function(n){n||(n=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=fr(this,n);return this.localeData().postformat(i)};n.from=function(n,t){return this.isValid()&&(et(n)&&n.isValid()||c(n).isValid())?rt({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()};n.fromNow=function(n){return this.from(c(),n)};n.to=function(n,t){return this.isValid()&&(et(n)&&n.isValid()||c(n).isValid())?rt({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()};n.toNow=function(n){return this.to(c(),n)};n.get=function(n){return ot(this[n=nt(n)])?this[n]():this};n.invalidAt=function(){return u(this).overflow};n.isAfter=function(n,t){var i=et(n)?n:c(n);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=nt(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())};n.isBefore=function(n,t){var i=et(n)?n:c(n);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=nt(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())};n.isBetween=function(n,t,i,r){var u=et(n)?n:c(n),f=et(t)?t:c(t);return!!(this.isValid()&&u.isValid()&&f.isValid())&&("("===(r=r||"()")[0]?this.isAfter(u,i):!this.isBefore(u,i))&&(")"===r[1]?this.isBefore(f,i):!this.isAfter(f,i))};n.isSame=function(n,t){var i,r=et(n)?n:c(n);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=nt(t)||"millisecond")?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))};n.isSameOrAfter=function(n,t){return this.isSame(n,t)||this.isAfter(n,t)};n.isSameOrBefore=function(n,t){return this.isSame(n,t)||this.isBefore(n,t)};n.isValid=function(){return tu(this)};n.lang=ef;n.locale=bo;n.localeData=ko;n.max=fo;n.min=uo;n.parsingFlags=function(){return pt({},u(this))};n.set=function(n,t){if("object"==typeof n)for(var r=function(n){var t=[];for(var i in n)t.push({unit:i,priority:eu[i]});return t.sort(function(n,t){return n.priority-t.priority}),t}(n=fu(n)),i=0;i<r.length;i++)this[r[i].unit](n[r[i].unit]);else if(ot(this[n=nt(n)]))return this[n](t);return this};n.startOf=function(n){var i,r;if(void 0===(n=nt(n))||"millisecond"===n||!this.isValid())return this;r=this._isUTC?ns:go;switch(n){case"year":i=r(this.year(),0,1);break;case"quarter":i=r(this.year(),this.month()-this.month()%3,1);break;case"month":i=r(this.year(),this.month(),1);break;case"week":i=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=r(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf();i-=ci(i+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":i=this._d.valueOf();i-=ci(i,6e4);break;case"second":i=this._d.valueOf();i-=ci(i,1e3)}return this._d.setTime(i),t.updateOffset(this,!0),this};n.subtract=wo;n.toArray=function(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]};n.toObject=function(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}};n.toDate=function(){return new Date(this.valueOf())};n.toISOString=function(n){if(!this.isValid())return null;var i=!0!==n,t=i?this.clone().utc():this;return t.year()<0||9999<t.year()?fr(t,i?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ot(Date.prototype.toISOString)?i?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",fr(t,"Z")):fr(t,i?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};n.inspect=function(){var n,t;if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";n="moment";t="";this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",u=t+'[")]';return this.format(i+r+"-MM-DD[T]HH:mm:ss.SSS"+u)};n.toJSON=function(){return this.isValid()?this.toISOString():null};n.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};n.unix=function(){return Math.floor(this.valueOf()/1e3)};n.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)};n.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};n.year=lu;n.isLeapYear=function(){return ar(this.year())};n.weekYear=function(n){return ts.call(this,n,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};n.isoWeekYear=function(n){return ts.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)};n.quarter=n.quarters=function(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)};n.month=he;n.daysInMonth=function(){return yr(this.year(),this.month())};n.week=n.weeks=function(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")};n.isoWeek=n.isoWeeks=function(n){var t=ki(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")};n.weeksInYear=function(){var n=this.localeData()._week;return ti(this.year(),n.dow,n.doy)};n.isoWeeksInYear=function(){return ti(this.year(),1,4)};n.date=sf;n.day=n.days=function(n){if(!this.isValid())return null!=n?this:NaN;var t,i,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(t=n,i=this.localeData(),n="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=i.weekdaysParse(t))?t:null:parseInt(t,10),this.add(n-r,"d")):r};n.weekday=function(n){if(!this.isValid())return null!=n?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")};n.isoWeekday=function(n){if(!this.isValid())return null!=n?this:NaN;if(null==n)return this.day()||7;var t,i,r=(t=n,i=this.localeData(),"string"==typeof t?i.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?r:r-7)};n.dayOfYear=function(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==n?t:this.add(n-t,"d")};n.hour=n.hours=gs;n.minute=n.minutes=is;n.second=n.seconds=rs;n.millisecond=n.milliseconds=us;n.utcOffset=function(n,i,r){var u,f=this._offset||0;if(!this.isValid())return null!=n?this:NaN;if(null==n)return this._isUTC?f:uf(this);if("string"==typeof n){if(null===(n=tf(cr,n)))return this}else Math.abs(n)<16&&!r&&(n*=60);return!this._isUTC&&i&&(u=uf(this)),this._offset=n,this._isUTC=!0,null!=u&&this.add(u,"m"),f!==n&&(!i||this._changeInProgress?yo(this,rt(n-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this};n.utc=function(n){return this.utcOffset(0,n)};n.local=function(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(uf(this),"m")),this};n.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var n=tf(cs,this._i);null!=n?this.utcOffset(n):this.utcOffset(0,!0)}return this};n.hasAlignedHourOffset=function(n){return!!this.isValid()&&(n=n?c(n).utcOffset():0,(this.utcOffset()-n)%60==0)};n.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};n.isLocal=function(){return!!this.isValid()&&!this._isUTC};n.isUtcOffset=function(){return!!this.isValid()&&this._isUTC};n.isUtc=ho;n.isUTC=ho;n.zoneAbbr=function(){return this._isUTC?"UTC":""};n.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};n.dates=g("dates accessor is deprecated. Use date instead.",sf);n.months=g("months accessor is deprecated. Use month instead",he);n.years=g("years accessor is deprecated. Use year instead",lu);n.zone=g("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(n,t){return null!=n?("string"!=typeof n&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()});n.isDSTShifted=g("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var n,t;return b(this._isDSTShifted)?(n={},(iu(n,this),(n=io(n))._a)?(t=n._isUTC?ft(n._a):c(n._a),this._isDSTShifted=this.isValid()&&0<pf(n._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted});o=uu.prototype;o.calendar=function(n,t,i){var r=this._calendar[n]||this._calendar.sameElse;return ot(r)?r.call(t,i):r};o.longDateFormat=function(n){var t=this._longDateFormat[n],i=this._longDateFormat[n.toUpperCase()];return t||!i?t:(this._longDateFormat[n]=i.replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n])};o.invalidDate=function(){return this._invalidDate};o.ordinal=function(n){return this._ordinal.replace("%d",n)};o.preparse=fs;o.postformat=fs;o.relativeTime=function(n,t,i,r){var u=this._relativeTime[i];return ot(u)?u(n,t,i,r):u.replace(/%d/i,n)};o.pastFuture=function(n,t){var i=this._relativeTime[0<n?"future":"past"];return ot(i)?i(t):i.replace(/%s/i,t)};o.set=function(n){var t;for(var i in n)ot(t=n[i])?this[i]=t:this["_"+i]=t;this._config=n;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};o.months=function(n,t){return n?ut(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||ee).test(t)?"format":"standalone"][n.month()]:ut(this._months)?this._months:this._months.standalone};o.monthsShort=function(n,t){return n?ut(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[ee.test(t)?"format":"standalone"][n.month()]:ut(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};o.monthsParse=function(n,t,i){var r,u,f;if(this._monthsParseExact)return function(n,t,i){var u,r,e,f=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)e=ft([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(e,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(e,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=a.call(this._shortMonthsParse,f))?r:null:-1!==(r=a.call(this._longMonthsParse,f))?r:null:"MMM"===t?-1!==(r=a.call(this._shortMonthsParse,f))?r:-1!==(r=a.call(this._longMonthsParse,f))?r:null:-1!==(r=a.call(this._longMonthsParse,f))?r:-1!==(r=a.call(this._shortMonthsParse,f))?r:null}.call(this,n,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if((u=ft([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(u,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(u,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(f="^"+this.months(u,"")+"|^"+this.monthsShort(u,""),this._monthsParse[r]=new RegExp(f.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(n))||i&&"MMM"===t&&this._shortMonthsParse[r].test(n)||!i&&this._monthsParse[r].test(n))return r};o.monthsRegex=function(n){return this._monthsParseExact?(l(this,"_monthsRegex")||ae.call(this),n?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=le),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)};o.monthsShortRegex=function(n){return this._monthsParseExact?(l(this,"_monthsRegex")||ae.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ce),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)};o.week=function(n){return ki(n,this._week.dow,this._week.doy).week};o.firstDayOfYear=function(){return this._week.doy};o.firstDayOfWeek=function(){return this._week.dow};o.weekdays=function(n,t){var i=ut(this._weekdays)?this._weekdays:this._weekdays[n&&!0!==n&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===n?au(i,this._week.dow):n?i[n.day()]:i};o.weekdaysMin=function(n){return!0===n?au(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin};o.weekdaysShort=function(n){return!0===n?au(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort};o.weekdaysParse=function(n,t,i){var r,u,f;if(this._weekdaysParseExact)return function(n,t,i){var f,r,e,u=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)e=ft([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(e,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(e,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(e,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=a.call(this._weekdaysParse,u))?r:null:"ddd"===t?-1!==(r=a.call(this._shortWeekdaysParse,u))?r:null:-1!==(r=a.call(this._minWeekdaysParse,u))?r:null:"dddd"===t?-1!==(r=a.call(this._weekdaysParse,u))?r:-1!==(r=a.call(this._shortWeekdaysParse,u))?r:-1!==(r=a.call(this._minWeekdaysParse,u))?r:null:"ddd"===t?-1!==(r=a.call(this._shortWeekdaysParse,u))?r:-1!==(r=a.call(this._weekdaysParse,u))?r:-1!==(r=a.call(this._minWeekdaysParse,u))?r:null:-1!==(r=a.call(this._minWeekdaysParse,u))?r:-1!==(r=a.call(this._weekdaysParse,u))?r:-1!==(r=a.call(this._shortWeekdaysParse,u))?r:null}.call(this,n,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++)if((u=ft([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(u,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(u,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(u,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(f="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[r]=new RegExp(f.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[r].test(n))||i&&"ddd"===t&&this._shortWeekdaysParse[r].test(n)||i&&"dd"===t&&this._minWeekdaysParse[r].test(n)||!i&&this._weekdaysParse[r].test(n))return r};o.weekdaysRegex=function(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||vu.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=bs),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)};o.weekdaysShortRegex=function(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||vu.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ks),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};o.weekdaysMinRegex=function(n){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||vu.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ds),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};o.isPM=function(n){return"p"===(n+"").toLowerCase().charAt(0)};o.meridiem=function(n,t,i){return 11<n?i?"pm":"PM":i?"am":"AM"};oi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10;return n+(1===f(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}});t.lang=g("moment.lang is deprecated. Use moment.locale instead.",oi);t.langData=g("moment.langData is deprecated. Use moment.localeData instead.",wt);ht=Math.abs;var eh=yt("ms"),oh=yt("s"),sh=yt("m"),hh=yt("h"),ch=yt("d"),lh=yt("w"),ah=yt("M"),vh=yt("Q"),yh=yt("y");var ph=ri("milliseconds"),wh=ri("seconds"),bh=ri("minutes"),kh=ri("hours"),dh=ri("days"),gh=ri("months"),nc=ri("years"),kt=Math.round,ct={ss:44,s:45,m:45,h:22,d:26,M:11},lf=Math.abs;return e=kr.prototype,e.isValid=function(){return this._isValid},e.abs=function(){var n=this._data;return this._milliseconds=ht(this._milliseconds),this._days=ht(this._days),this._months=ht(this._months),n.milliseconds=ht(n.milliseconds),n.seconds=ht(n.seconds),n.minutes=ht(n.minutes),n.hours=ht(n.hours),n.months=ht(n.months),n.years=ht(n.years),this},e.add=function(n,t){return os(this,n,t,1)},e.subtract=function(n,t){return os(this,n,t,-1)},e.as=function(n){if(!this.isValid())return NaN;var t,r,i=this._milliseconds;if("month"===(n=nt(n))||"quarter"===n||"year"===n)switch(t=this._days+i/864e5,r=this._months+hs(t),n){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(cf(this._months)),n){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+n);}},e.asMilliseconds=eh,e.asSeconds=oh,e.asMinutes=sh,e.asHours=hh,e.asDays=ch,e.asWeeks=lh,e.asMonths=ah,e.asQuarters=vh,e.asYears=yh,e.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*f(this._months/12):NaN},e._bubble=function(){var u,f,e,o,s,r=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=r&&0<=t&&0<=n||r<=0&&t<=0&&n<=0||(r+=864e5*ss(cf(n)+t),n=t=0),i.milliseconds=r%1e3,u=d(r/1e3),i.seconds=u%60,f=d(u/60),i.minutes=f%60,e=d(f/60),i.hours=e%24,n+=s=d(hs(t+=d(e/24))),t-=ss(cf(s)),o=d(n/12),n%=12,i.days=t,i.months=n,i.years=o,this},e.clone=function(){return rt(this)},e.get=function(n){return n=nt(n),this.isValid()?this[n+"s"]():NaN},e.milliseconds=ph,e.seconds=wh,e.minutes=bh,e.hours=kh,e.days=dh,e.weeks=function(){return d(this.days()/7)},e.months=gh,e.years=nc,e.humanize=function(n){if(!this.isValid())return this.localeData().invalidDate();var l,a,v,t,i,r,u,f,e,s,o,h=this.localeData(),c=(a=!n,v=h,t=rt(l=this).abs(),i=kt(t.as("s")),r=kt(t.as("m")),u=kt(t.as("h")),f=kt(t.as("d")),e=kt(t.as("M")),s=kt(t.as("y")),(o=i<=ct.ss&&["s",i]||i<ct.s&&["ss",i]||r<=1&&["m"]||r<ct.m&&["mm",r]||u<=1&&["h"]||u<ct.h&&["hh",u]||f<=1&&["d"]||f<ct.d&&["dd",f]||e<=1&&["M"]||e<ct.M&&["MM",e]||s<=1&&["y"]||["yy",s])[2]=a,o[3]=0<+l,o[4]=v,function(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}.apply(null,o));return n&&(c=h.pastFuture(+this,c)),h.postformat(c)},e.toISOString=nu,e.toString=nu,e.toJSON=nu,e.locale=bo,e.localeData=ko,e.toIsoString=g("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nu),e.lang=ef,r("X",0,0,"unix"),r("x",0,0,"valueOf"),i("x",hr),i("X",/[+-]?\d+(\.\d{1,3})?/),h("X",function(n,t,i){i._d=new Date(1e3*parseFloat(n,10))}),h("x",function(n,t,i){i._d=new Date(f(n))}),t.version="2.24.0",af=c,t.fn=n,t.min=function(){return eo("isBefore",[].slice.call(arguments,0))},t.max=function(){return eo("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=ft,t.unix=function(n){return c(1e3*n)},t.months=function(n,t){return es(n,t,"months")},t.isDate=nr,t.locale=oi,t.invalid=tr,t.duration=rt,t.isMoment=et,t.weekdays=function(n,t,i){return hf(n,t,i,"weekdays")},t.parseZone=function(){return c.apply(null,arguments).parseZone()},t.localeData=wt,t.isDuration=gu,t.monthsShort=function(n,t){return es(n,t,"monthsShort")},t.weekdaysMin=function(n,t,i){return hf(n,t,i,"weekdaysMin")},t.defineLocale=pu,t.updateLocale=function(n,t){if(null!=t){var i,r,u=be;null!=(r=wr(n))&&(u=r._config);(i=new uu(t=df(u,t))).parentLocale=y[n];y[n]=i;oi(n)}else null!=y[n]&&(null!=y[n].parentLocale?y[n]=y[n].parentLocale:null!=y[n]&&delete y[n]);return y[n]},t.locales=function(){return bf(y)},t.weekdaysShort=function(n,t,i){return hf(n,t,i,"weekdaysShort")},t.normalizeUnits=nt,t.relativeTimeRounding=function(n){return void 0===n?kt:"function"==typeof n&&(kt=n,!0)},t.relativeTimeThreshold=function(n,t){return void 0!==ct[n]&&(void 0===t?ct[n]:(ct[n]=t,"s"===n&&(ct.ss=t-1),!0))},t.calendarFormat=function(n,t){var i=n.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},t.prototype=n,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t});
/*!
 * Chart.js v2.9.3
 * https://www.chartjs.org
 * (c) 2019 Chart.js Contributors
 * Released under the MIT License
 */
for(!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(function(){try{return require("moment")}catch(n){}}()):"function"==typeof define&&define.amd?define(["require"],function(n){return t(function(){try{return n("moment")}catch(n){}}())}):(n=n||self).Chart=t(n.moment)}(this,function(n){"use strict";function rh(n){var t=function(){for(var t={},i=Object.keys(e),r=i.length,n=0;n<r;n++)t[i[n]]={distance:-1,parent:null};return t}(),r=[n],o,i;for(t[n].distance=0;r.length;)for(var u=r.pop(),s=Object.keys(e[u]),h=s.length,f=0;f<h;f++)o=s[f],i=t[o],-1===i.distance&&(i.distance=t[u].distance+1,i.parent=u,r.unshift(o));return t}function uh(n,t){return function(i){return t(n(i))}}function fh(n,t){for(var u=[t[n].parent,n],r=e[t[n].parent][n],i=t[n].parent;t[i].parent;)u.unshift(t[i].parent),r=uh(e[t[i].parent][i],r),i=t[i].parent;return r.conversion=u,r}function gr(n){var t;if(n){var r=[0,0,0],u=1,i=n.match(/^#([a-fA-F0-9]{3,4})$/i),f="";if(i){for(f=(i=i[1])[3],t=0;t<r.length;t++)r[t]=parseInt(i[t]+i[t],16);f&&(u=Math.round(parseInt(f+f,16)/255*100)/100)}else if(i=n.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(f=i[2],i=i[1],t=0;t<r.length;t++)r[t]=parseInt(i.slice(2*t,2*t+2),16);f&&(u=Math.round(parseInt(f,16)/255*100)/100)}else if(i=n.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(t=0;t<r.length;t++)r[t]=parseInt(i[t+1]);u=parseFloat(i[4])}else if(i=n.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(t=0;t<r.length;t++)r[t]=Math.round(2.55*parseFloat(i[t+1]));u=parseFloat(i[4])}else if(i=n.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(r=dr[i[1]]))return}for(t=0;t<r.length;t++)r[t]=g(r[t],0,255);return u=u||0==u?g(u,0,1):1,r[3]=u,r}}function nu(n){var t,i;if(n&&(t=n.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t))return i=parseFloat(t[4]),[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(i)?1:i,0,1)]}function fe(n){var t,i;if(n&&(t=n.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t))return i=parseFloat(t[4]),[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(i)?1:i,0,1)]}function ee(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t+")"}function oe(n,t){return"rgba("+Math.round(n[0]/255*100)+"%, "+Math.round(n[1]/255*100)+"%, "+Math.round(n[2]/255*100)+"%, "+(t||n[3]||1)+")"}function se(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+t+")"}function g(n,t,i){return Math.min(Math.max(t,n),i)}function di(n){var t=n.toString(16).toUpperCase();return t.length<2?"0"+t:t}function ye(n,t){var u=n._chartjs,i,r;u&&(i=u.listeners,r=i.indexOf(t),-1!==r&&i.splice(r,1),i.length>0||(ve.forEach(function(t){delete n[t]}),delete n._chartjs))}function pe(n,t){var u=t.startAngle,f=t.endAngle,i=t.pixelMargin,r=i/t.outerRadius,e=t.x,o=t.y;n.beginPath();n.arc(e,o,t.outerRadius,u-r,f+r);t.innerRadius>i?(r=i/t.innerRadius,n.arc(e,o,t.innerRadius-i,f+r,u-r,!0)):n.arc(e,o,i,f+Math.PI/2,u-Math.PI/2);n.closePath();n.clip()}function bh(n,t,i){var r="inner"===t.borderAlign;r?(n.lineWidth=2*t.borderWidth,n.lineJoin="round"):(n.lineWidth=t.borderWidth,n.lineJoin="bevel");i.fullCircles&&function(n,t,i,r){var u,f=i.endAngle;for(r&&(i.endAngle=i.startAngle+d,pe(n,i),i.endAngle=f,i.endAngle===i.startAngle&&i.fullCircles&&(i.endAngle+=d,i.fullCircles--)),n.beginPath(),n.arc(i.x,i.y,i.innerRadius,i.startAngle+d,i.startAngle,!0),u=0;u<i.fullCircles;++u)n.stroke();for(n.beginPath(),n.arc(i.x,i.y,t.outerRadius,i.startAngle,i.startAngle+d),u=0;u<i.fullCircles;++u)n.stroke()}(n,t,i,r);r&&pe(n,i);n.beginPath();n.arc(i.x,i.y,t.outerRadius,i.startAngle,i.endAngle);n.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0);n.closePath();n.stroke()}function de(n){var t=this._view;return!!t&&Math.abs(n-t.x)<t.radius+t.hitRadius}function ur(n){return n&&void 0!==n.width}function no(n){var i,r,u,f,t;return ur(n)?(t=n.width/2,i=n.x-t,r=n.x+t,u=Math.min(n.y,n.base),f=Math.max(n.y,n.base)):(t=n.height/2,i=Math.min(n.x,n.base),r=Math.max(n.x,n.base),u=n.y-t,f=n.y+t),{left:i,top:u,right:r,bottom:f}}function to(n,t,i){return n===t?i:n===i?t:n}function nc(n,i,r){var f,e,o,s,u=n.borderWidth,h=function(n){var t=n.borderSkipped,i={};return t?(n.horizontal?n.base>n.x&&(t=to(t,"left","right")):n.base<n.y&&(t=to(t,"bottom","top")),i[t]=!0,i):i}(n);return t.isObject(u)?(f=+u.top||0,e=+u.right||0,o=+u.bottom||0,s=+u.left||0):f=e=o=s=+u||0,{t:h.top||f<0?0:f>r?r:f,r:h.right||e<0?0:e>i?i:e,b:h.bottom||o<0?0:o>r?r:o,l:h.left||s<0?0:s>i?i:s}}function ci(n,t,i){var u=null===t,f=null===i,r=!(!n||u&&f)&&no(n);return r&&(u||t>=r.left&&t<=r.right)&&(f||i>=r.top&&i<=r.bottom)}function ec(n,i,r){var u,f,e=r.barThickness,o=i.stackCount,s=i.pixels[n],h=t.isNullOrUndef(e)?function(n,t){for(var e,f,r=n._length,i=1,u=t.length;i<u;++i)r=Math.min(r,Math.abs(t[i]-t[i-1]));for(i=0,u=n.getTicks().length;i<u;++i)f=n.getPixelForTick(i),r=i>0?Math.min(r,Math.abs(f-e)):r,e=f;return r}(i.scale,i.pixels):-1;return t.isNullOrUndef(e)?(u=h*r.categoryPercentage,f=r.barPercentage):(u=e*o,f=1),{chunk:u/o,ratio:f,start:s-u/2}}function ro(n,t){var i=n&&n.options.ticks||{},r=i.reverse,u=void 0===i.min?t:0,f=void 0===i.max?t:0;return{start:r?f:u,end:r?u:f}}function lc(n,t,i){var r=i/2,u=ro(n,r),f=ro(t,r);return{top:f.end,right:u.end,bottom:f.start,left:u.start}}function ac(n){var i,r,u,f;return t.isObject(n)?(i=n.top,r=n.right,u=n.bottom,f=n.left):i=r=u=f=n,{top:i,right:r,bottom:u,left:f}}function bt(n,i){return n.native?{x:n.x,y:n.y}:t.getRelativePosition(n,i)}function li(n,t){for(var u,r,e,o,s=n._getSortedVisibleDatasetMetas(),i=0,f=s.length;i<f;++i)for(r=0,e=(u=s[i].data).length;r<e;++r)(o=u[r])._view.skip||t(o)}function vu(n,t){var i=[];return li(n,function(n){n.inRange(t.x,t.y)&&i.push(n)}),i}function yu(n,t,i,r){var u=Number.POSITIVE_INFINITY,f=[];return li(n,function(n){if(!i||n.inRange(t.x,t.y)){var o=n.getCenterPoint(),e=r(t,o);e<u?(f=[n],u=e):e===u&&f.push(n)}}),f}function pu(n){var t=-1!==n.indexOf("x"),i=-1!==n.indexOf("y");return function(n,r){var u=t?Math.abs(n.x-r.x):0,f=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(u,2)+Math.pow(f,2))}}function wu(n,t,i){var r=bt(t,n);i.axis=i.axis||"x";var e=pu(i.axis),u=i.intersect?vu(n,r):yu(n,r,!1,e),f=[];return u.length?(n._getSortedVisibleDatasetMetas().forEach(function(n){var t=n.data[u[0]._index];t&&!t._view.skip&&f.push(t)}),f):[]}function ai(n,i){return t.where(n,function(n){return n.pos===i})}function or(n,t){return n.sort(function(n,i){var r=t?i:n,u=t?n:i;return r.weight===u.weight?r.index-u.index:r.weight-u.weight})}function so(n,t,i,r){return Math.max(n[i],t[i])+Math.max(n[r],t[r])}function vc(n,t,i){var f,e,o=i.box,r=n.maxPadding,u;return(i.size&&(n[i.pos]-=i.size),i.size=i.horizontal?o.height:o.width,n[i.pos]+=i.size,o.getPadding)&&(u=o.getPadding(),r.top=Math.max(r.top,u.top),r.left=Math.max(r.left,u.left),r.bottom=Math.max(r.bottom,u.bottom),r.right=Math.max(r.right,u.right)),(f=t.outerWidth-so(r,n,"left","right"),e=t.outerHeight-so(r,n,"top","bottom"),f!==n.w||e!==n.h)?(n.w=f,n.h=e,i.horizontal?f!==n.w:e!==n.h):void 0}function yc(n,t){function r(n){var r={left:0,top:0,right:0,bottom:0};return n.forEach(function(n){r[n]=Math.max(t[n],i[n])}),r}var i=t.maxPadding;return r(n?["left","right"]:["top","bottom"])}function sr(n,t,i){for(var r,o,s,h,f=[],u=0,e=n.length;u<e;++u)(o=(r=n[u]).box).update(r.width||t.w,r.height||t.h,yc(r.horizontal,t)),vc(t,i,r)&&(h=!0,f.length&&(s=!0)),o.fullWidth||f.push(r);return s&&sr(f,t,i)||h}function ho(n,t,i){for(var s,r,h=i.padding,f=t.x,e=t.y,u=0,o=n.length;u<o;++u)r=(s=n[u]).box,s.horizontal?(r.left=r.fullWidth?h.left:t.left,r.right=r.fullWidth?i.outerWidth-h.right:t.left+t.w,r.top=e,r.bottom=e+r.height,r.width=r.right-r.left,e=r.bottom):(r.left=f,r.right=f+r.width,r.top=t.top,r.bottom=t.top+t.h,r.height=r.bottom-r.top,f=r.right);t.x=f;t.y=e}function ao(n,i){var r=t.getStyle(n,i),u=r&&r.match(/^(\d+)(\.\d+)?px$/);if(u)return Number(u[1])}function vi(n,t,i){n.addEventListener(t,i,du)}function gu(n,t,i){n.removeEventListener(t,i,du)}function nf(n,t,i,r,u){return{type:n,chart:t,"native":u||null,x:void 0!==i?i:null,y:void 0!==r?r:null}}function yi(n){var t=document.createElement("div");return t.className=n||"",t}function kc(n,i,r){var c,f,u,e,s=n[o]||(n[o]={}),h=s.resizer=function(n){var r=yi(ku),t=yi(ku+"-expand"),i=yi(ku+"-shrink"),u;return t.appendChild(yi()),i.appendChild(yi()),r.appendChild(t),r.appendChild(i),r._reset=function(){t.scrollLeft=1e6;t.scrollTop=1e6;i.scrollLeft=1e6;i.scrollTop=1e6},u=function(){r._reset();n()},vi(t,"scroll",u.bind(t,"expand")),vi(i,"scroll",u.bind(i,"shrink")),r}((c=function(){if(s.resizer){var t=r.options.maintainAspectRatio&&n.parentNode,u=t?t.clientWidth:0;i(nf("resize",r));t&&t.clientWidth<u&&r.canvas&&i(nf("resize",r))}},u=!1,e=[],function(){e=Array.prototype.slice.call(arguments);f=f||this;u||(u=!0,t.requestAnimFrame.call(window,function(){u=!1;c.apply(f,e)}))}));!function(n,i){var r=n[o]||(n[o]={}),u=r.renderProxy=function(n){n.animationName===wc&&i()};t.each(lo,function(t){vi(n,t,u)});r.reflow=!!n.offsetParent;n.classList.add(co)}(n,function(){if(s.resizer){var t=n.parentNode;t&&t!==h.parentNode&&t.insertBefore(h,t.firstChild);h._reset()}})}function dc(n){var r=n[o]||{},i=r.resizer;delete r.resizer,function(n){var i=n[o]||{},r=i.renderProxy;r&&(t.each(lo,function(t){gu(n,t,r)}),delete i.renderProxy);n.classList.remove(co)}(n);i&&i.parentNode&&i.parentNode.removeChild(i)}function tt(n,i){return i&&(t.isArray(i)?Array.prototype.push.apply(n,i):n.push(i)),n}function et(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function yo(n){var t=i.global;return{xPadding:n.xPadding,yPadding:n.yPadding,xAlign:n.xAlign,yAlign:n.yAlign,rtl:n.rtl,textDirection:n.textDirection,bodyFontColor:n.bodyFontColor,_bodyFontFamily:ft(n.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:ft(n.bodyFontStyle,t.defaultFontStyle),_bodyAlign:n.bodyAlign,bodyFontSize:ft(n.bodyFontSize,t.defaultFontSize),bodySpacing:n.bodySpacing,titleFontColor:n.titleFontColor,_titleFontFamily:ft(n.titleFontFamily,t.defaultFontFamily),_titleFontStyle:ft(n.titleFontStyle,t.defaultFontStyle),titleFontSize:ft(n.titleFontSize,t.defaultFontSize),_titleAlign:n.titleAlign,titleSpacing:n.titleSpacing,titleMarginBottom:n.titleMarginBottom,footerFontColor:n.footerFontColor,_footerFontFamily:ft(n.footerFontFamily,t.defaultFontFamily),_footerFontStyle:ft(n.footerFontStyle,t.defaultFontStyle),footerFontSize:ft(n.footerFontSize,t.defaultFontSize),_footerAlign:n.footerAlign,footerSpacing:n.footerSpacing,footerMarginTop:n.footerMarginTop,caretSize:n.caretSize,cornerRadius:n.cornerRadius,backgroundColor:n.backgroundColor,opacity:0,legendColorBackground:n.multiKeyBackground,displayColors:n.displayColors,borderColor:n.borderColor,borderWidth:n.borderWidth}}function hr(n,t){return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-n.xPadding:n.x+n.xPadding}function po(n){return tt([],et(n))}function wo(){return t.merge({},[].slice.call(arguments),{merger:function(n,i,r,u){if("xAxes"===n||"yAxes"===n){var f,o,e,s=r[n].length;for(i[n]||(i[n]=[]),f=0;f<s;++f)e=r[n][f],o=cr(e.type,"xAxes"===n?"category":"linear"),f>=i[n].length&&i[n].push({}),!i[n][f].type||e.type&&e.type!==i[n][f].type?t.merge(i[n][f],[pi.getScaleDefaults(o),e]):t.merge(i[n][f],e)}else t._merger(n,i,r,u)}})}function ef(){return t.merge({},[].slice.call(arguments),{merger:function(n,i,r,u){var e=i[n]||{},f=r[n];"scales"===n?i[n]=wo(e,f):"scale"===n?i[n]=t.merge(e,[pi.getScaleDefaults(f.type),f]):t._merger(n,i,r,u)}})}function tl(n){var r=n.options;t.each(n.scales,function(t){b.removeBox(n,t)});r=ef(i.global,i[n.config.type],r);n.options=n.config.options=r;n.ensureScalesHaveIDs();n.buildOrUpdateScales();n.tooltip._options=r.tooltips;n.tooltip.initialize()}function bo(n,i,r){var u,f=function(n){return n.id===u};do u=i+r++;while(t.findIndex(n,f)>=0);return u}function ko(n){return"top"===n||"bottom"===n}function go(n,t){return function(i,r){return i[n]===r[n]?i[t]-r[t]:i[n]-r[n]}}function gt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.");}function lr(n){this.options=n||{}}function il(n,t,i){var u,e=n.getTicks().length,f=Math.min(t,e-1),r=n.getPixelForTick(f),o=n._startPixel,s=n._endPixel;if(!(i&&(u=1===e?Math.max(r-o,s-r):0===t?(n.getPixelForTick(1)-r)/2:(r-n.getPixelForTick(f-1))/2,(r+=f<t?u:-u)<o-1e-6||r>s+1e-6)))return r}function rl(n,i,r,u){function p(n){return{width:v[n]||0,height:y[n]||0,offset:tt[n]||0}}for(var h,d,f,w,b,s,c,e,l,a,g,nt,k=r.length,v=[],y=[],tt=[],o=0;o<k;++o){if(f=r[o].label,w=r[o].major?i.major:i.minor,n.font=b=w.string,s=u[b]=u[b]||{data:{},gc:[]},c=w.lineHeight,e=l=0,bi(f)||ni(f)){if(ni(f))for(h=0,d=f.length;h<d;++h)a=f[h],bi(a)||ni(a)||(e=t.measureText(n,s.data,s.gc,e,a),l+=c)}else e=t.measureText(n,s.data,s.gc,e,f),l=c;v.push(e);y.push(l);tt.push(c/2)}return function(n,i){t.each(n,function(n){var t,r=n.gc,u=r.length/2;if(u>i){for(t=0;t<u;++t)delete n.data[r[t]];r.splice(0,u)}})}(u,k),g=v.indexOf(Math.max.apply(null,v)),nt=y.indexOf(Math.max.apply(null,y)),{first:p(0),last:p(k-1),widest:p(g),highest:p(nt)}}function ki(n){return n.drawTicks?n.tickMarkLength:0}function sf(n){var i,r;return n.display?(i=t.options._parseFont(n),r=t.options.toPadding(n.padding),i.lineHeight+r.height):0}function ns(n,r){return t.extend(t.options._parseFont({fontFamily:ti(r.fontFamily,n.fontFamily),fontSize:ti(r.fontSize,n.fontSize),fontStyle:ti(r.fontStyle,n.fontStyle),lineHeight:ti(r.lineHeight,n.lineHeight)}),{color:t.options.resolve([r.fontColor,n.fontColor,i.global.defaultFontColor])})}function hf(n){var t=ns(n,n.minor);return{minor:t,major:n.major.enabled?ns(n,n.major):t}}function cf(n){for(var i,u=[],t=0,r=n.length;t<r;++t)void 0!==(i=n[t])._index&&u.push(i);return u}function ar(n,t,i,r){var h,u,s,f,e=ti(i,0),c=Math.min(ti(r,n.length),n.length),o=0;for(t=Math.ceil(t),r&&(t=(h=r-i)/Math.floor(h/t)),f=e;f<0;)o++,f=Math.round(e+o*t);for(u=Math.max(e,0);u<c;u++)s=n[u],u===f?(s._index=u,o++,f=Math.round(e+o*t)):delete s.label}function el(n,t,i,r){for(var f,s=n.options,h=function(n,t,i){var r=[i.type,void 0===t&&void 0===i.stack?i.index:"",i.stack].join(".");return void 0===n[r]&&(n[r]={pos:[],neg:[]}),n[r]}(t,s.stacked,i),e=h.pos,o=h.neg,c=r.length,u=0;u<c;++u)f=n._parseValue(r[u]),isNaN(f.min)||isNaN(f.max)||i.data[u].hidden||(e[u]=e[u]||0,o[u]=o[u]||0,s.relativePoints?e[u]=100:f.min<0||f.max<0?o[u]+=f.min:e[u]+=f.max)}function ol(n,t,i){for(var u,f=i.length,r=0;r<f;++r)u=n._parseValue(i[r]),isNaN(u.min)||isNaN(u.max)||t.data[r].hidden||(n.min=Math.min(n.min,u.min),n.max=Math.max(n.max,u.max))}function pr(n,i){return t.isFinite(n)&&n>=0?n:i}function wf(n){var t=n.ticks;return t.display&&n.display?wr(t.fontSize,i.global.defaultFontSize)+2*t.backdropPaddingY:0}function fs(n,t,i,r,u){return n===r||n===u?{start:t-i/2,end:t+i/2}:n<r||n>u?{start:t-i,end:t}:{start:t,end:t+i}}function cl(n){return 0===n||180===n?"center":n<180?"left":"right"}function ll(n,i,r,u){var f,o,e=r.y+u/2;if(t.isArray(i))for(f=0,o=i.length;f<o;++f)n.fillText(i[f],r.x,e),e+=u;else n.fillText(i,r.x,e)}function al(n,t,i){90===n||270===n?i.y-=t.h/2:(n>270||n<90)&&(i.y-=t.h)}function br(n){return t.isNumber(n)?n:0}function hs(n,t){return n-t}function cs(n){return t.valueOrDefault(n.time.min,n.ticks.min)}function ls(n){return t.valueOrDefault(n.time.max,n.ticks.max)}function si(n,t,i,r){var u=function(n,t,i){for(var u,f,r,e=0,o=n.length-1;e>=0&&e<=o;){if(f=n[(u=e+o>>1)-1]||null,r=n[u],!f)return{lo:null,hi:r};if(r[t]<i)e=u+1;else{if(!(f[t]>i))return{lo:f,hi:r};o=u-1}}return{lo:r,hi:null}}(n,t,i),f=u.lo?u.hi?u.lo:n[n.length-2]:n[0],e=u.lo?u.hi?u.hi:n[n.length-1]:n[1],o=e[t]-f[t],s=o?(i-f[t])/o:0,h=(e[r]-f[r])*s;return f[r]+h}function gf(n,i){var e=n._adapter,o=n.options.time,u=o.parser,f=u||o.format,r=i;return"function"==typeof u&&(r=u(r)),t.isFinite(r)||(r="string"==typeof f?e.parse(r,f):e.parse(r)),null!==r?+r:(u||"function"!=typeof f||(r=f(i),t.isFinite(r)||(r=e.parse(r))),r)}function ri(n,i){if(t.isNullOrUndef(i))return null;var u=n.options.time,r=gf(n,n.getRightValue(i));return null===r?r:(u.round&&(r=+n._adapter.startOf(r,u.round)),r)}function as(n,t,i,r){for(var f,e,o=v.length,u=v.indexOf(n);u<o-1;++u)if(e=(f=kr[v[u]]).steps?f.steps:df,f.common&&Math.ceil((i-t)/(e*f.size))<=r)return v[u];return v[o-1]}function vs(n,t,i){for(var f,u=[],e={},o=t.length,r=0;r<o;++r)e[f=t[r]]=r,u.push({value:f,major:!1});return 0!==o&&i?function(n,t,i,r){for(var f,e=n._adapter,o=+e.startOf(t[0].value,r),s=t[t.length-1].value,u=o;u<=s;u=+e.add(u,1,r))(f=i[u])>=0&&(t[f].major=!0);return t}(n,u,e,i):u}function yl(n,t,i){var r,f=n._model||{},u=f.fill;if(void 0===u&&(u=!!f.backgroundColor),!1===u||null===u)return!1;if(!0===u)return"origin";if(r=parseFloat(u,10),isFinite(r)&&Math.floor(r)===r)return"-"!==u[0]&&"+"!==u[0]||(r=t+r),!(r===t||r<0||r>=i)&&r;switch(u){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return u;default:return!1}}function pl(n){return(n.el._scale||{}).getPointPositionForValue?function(n){var u,s,f,i,r,t=n.el._scale,e=t.options,h=t.chart.data.labels.length,o=n.fill,c=[];if(!h)return null;for(u=e.ticks.reverse?t.max:t.min,s=e.ticks.reverse?t.min:t.max,f=t.getPointPositionForValue(0,u),i=0;i<h;++i)r="start"===o||"end"===o?t.getPointPositionForValue(i,"start"===o?u:s):t.getBasePosition(i),e.gridLines.circular&&(r.cx=f.x,r.cy=f.y,r.angle=t.getIndexAngle(i)-Math.PI/2),c.push(r);return c}(n):function(n){var e,r=n.el._model||{},u=n.el._scale||{},f=n.fill,i=null;if(isFinite(f))return null;if("start"===f?i=void 0===r.scaleBottom?u.bottom:r.scaleBottom:"end"===f?i=void 0===r.scaleTop?u.top:r.scaleTop:void 0!==r.scaleZero?i=r.scaleZero:u.getBasePixel&&(i=u.getBasePixel()),null!=i){if(void 0!==i.x&&void 0!==i.y)return i;if(t.isFinite(i))return{x:(e=u.isHorizontal())?i:null,y:e?null:i}}return null}(n)}function wl(n,t,i){var u,r=n[t].fill,f=[t];if(!i)return r;for(;!1!==r&&-1===f.indexOf(r);){if(!isFinite(r))return r;if(!(u=n[r]))return!1;if(u.visible)return r;f.push(r);r=u.fill}return!1}function bl(n){var t=n.fill,i="dataset";return!1===t?null:(isFinite(t)||(i="boundary"),bs[i](n))}function ks(n){return n&&!n.skip}function ds(n,i,r,u,f){var e,o,s,h;if(u&&f){for(n.moveTo(i[0].x,i[0].y),e=1;e<u;++e)t.canvas.lineTo(n,i[e-1],i[e]);if(void 0===r[0].angle)for(n.lineTo(r[f-1].x,r[f-1].y),e=f-1;e>0;--e)t.canvas.lineTo(n,r[e],r[e-1],!0);else for(o=r[0].cx,s=r[0].cy,h=Math.sqrt(Math.pow(r[0].x-o,2)+Math.pow(r[0].y-s,2)),e=f-1;e>0;--e)n.arc(o,s,h,r[e].angle,r[e-1].angle,!0)}}function kl(n,t,i,r,u,f){var e,y,b,l,a,v,p,k,w=t.length,d=r.spanGaps,o=[],s=[],h=0,c=0;for(n.beginPath(),e=0,y=w;e<y;++e)a=i(l=t[b=e%w]._view,b,r),v=ks(l),p=ks(a),f&&void 0===k&&v&&(y=w+(k=e+1)),v&&p?(h=o.push(l),c=s.push(a)):h&&c&&(d?(v&&o.push(l),p&&s.push(a)):(ds(n,o,s,h,c),h=c=0,o=[],s=[]));ds(n,o,s,h,c);n.closePath();n.fillStyle=u;n.fill()}function te(n,t){return n.usePointStyle&&n.boxWidth>t?t:n.boxWidth}function gs(n,t){var i=new ie({ctx:n.ctx,options:t,chart:n});b.configure(n,i,t);b.addBox(n,i);n.legend=i}function th(n,t){var i=new re({ctx:n.ctx,options:t,chart:n});b.configure(n,i,t);b.addBox(n,i);n.titleBlock=i}var st,e,vt,tu,iu,s,ui,ce,ru,ir,rr,y,d,ge,ou,ei,yt,hu,lu,uo,fo,eo,ht,oo,au,kt,er,du,tf,vo,dt,uf,cr,ot,r,vr,af,is,yf,rs,bf,es,ne,ys,ps,ws,bs,ie,nh,it,re,ue,ih;n=n&&n.hasOwnProperty("default")?n.default:n;st={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e=function(n,t){return n(t={exports:{}},t.exports),t.exports}(function(n){var u={},r,t,i,f,e;for(r in st)st.hasOwnProperty(r)&&(u[st[r]]=r);t=n.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(i in t)if(t.hasOwnProperty(i)){if(!("channels"in t[i]))throw new Error("missing channels property: "+i);if(!("labels"in t[i]))throw new Error("missing channel labels property: "+i);if(t[i].labels.length!==t[i].channels)throw new Error("channel and label counts mismatch: "+i);f=t[i].channels;e=t[i].labels;delete t[i].channels;delete t[i].labels;Object.defineProperty(t[i],"channels",{value:f});Object.defineProperty(t[i],"labels",{value:e})}t.rgb.hsl=function(n){var i,s,u=n[0]/255,f=n[1]/255,e=n[2]/255,r=Math.min(u,f,e),t=Math.max(u,f,e),o=t-r;return t===r?i=0:u===t?i=(f-e)/o:f===t?i=2+(e-u)/o:e===t&&(i=4+(u-f)/o),(i=Math.min(60*i,360))<0&&(i+=360),s=(r+t)/2,[i,100*(t===r?0:s<=.5?o/(t+r):o/(2-t-r)),100*s]};t.rgb.hsv=function(n){var e,o,s,t,h,r=n[0]/255,u=n[1]/255,f=n[2]/255,i=Math.max(r,u,f),c=i-Math.min(r,u,f),l=function(n){return(i-n)/6/c+.5};return 0===c?t=h=0:(h=c/i,e=l(r),o=l(u),s=l(f),r===i?t=s-o:u===i?t=1/3+e-s:f===i&&(t=2/3+o-e),t<0?t+=1:t>1&&(t-=1)),[360*t,100*h,100*i]};t.rgb.hwb=function(n){var r=n[0],u=n[1],i=n[2];return[t.rgb.hsl(n)[0],100*1/255*Math.min(r,Math.min(u,i)),100*(i=1-1/255*Math.max(r,Math.max(u,i)))]};t.rgb.cmyk=function(n){var t,i=n[0]/255,r=n[1]/255,u=n[2]/255;return[100*((1-i-(t=Math.min(1-i,1-r,1-u)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-u-t)/(1-t)||0),100*t]};t.rgb.keyword=function(n){var o=u[n],s,t,i,f,r,h,e;if(o)return o;f=1/0;for(r in st)st.hasOwnProperty(r)&&(h=st[r],e=(t=n,i=h,Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2)+Math.pow(t[2]-i[2],2)),e<f&&(f=e,s=r));return s};t.keyword.rgb=function(n){return st[n]};t.rgb.xyz=function(n){var t=n[0]/255,i=n[1]/255,r=n[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*i+.0722*r),100*(.0193*t+.1192*i+.9505*r)]};t.rgb.lab=function(n){var f=t.rgb.xyz(n),r=f[0],i=f[1],u=f[2];return i/=100,u/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(r-i),200*(i-(u=u>.008856?Math.pow(u,1/3):7.787*u+16/116))]};t.hsl.rgb=function(n){var i,e,t,s,u,h=n[0]/360,o=n[1]/100,r=n[2]/100,f;if(0===o)return[u=255*r,u,u];for(i=2*r-(e=r<.5?r*(1+o):r+o-r*o),s=[0,0,0],f=0;f<3;f++)(t=h+1/3*-(f-1))<0&&t++,t>1&&t--,u=6*t<1?i+6*(e-i)*t:2*t<1?e:3*t<2?i+(e-i)*(2/3-t)*6:i,s[f]=255*u;return s};t.hsl.hsv=function(n){var f=n[0],i=n[1]/100,t=n[2]/100,u=i,r=Math.max(t,.01);return i*=(t*=2)<=1?t:2-t,u*=r<=1?r:2-r,[f,100*(0===t?2*u/(r+u):2*i/(t+i)),50*(t+i)]};t.hsv.rgb=function(n){var r=n[0]/60,u=n[1]/100,t=n[2]/100,s=Math.floor(r)%6,o=r-Math.floor(r),i=255*t*(1-u),f=255*t*(1-u*o),e=255*t*(1-u*(1-o));switch(t*=255,s){case 0:return[t,e,i];case 1:return[f,t,i];case 2:return[i,t,e];case 3:return[i,f,t];case 4:return[e,i,t];case 5:return[t,i,f]}};t.hsv.hsl=function(n){var t,i,u,o=n[0],r=n[1]/100,f=n[2]/100,e=Math.max(f,.01);return u=(2-r)*f,i=r*e,[o,100*(i=(i/=(t=(2-r)*e)<=1?t:2-t)||0),100*(u/=2)]};t.hwb.rgb=function(n){var s,i,o,r,u,f,e,l=n[0]/360,t=n[1]/100,h=n[2]/100,c=t+h;switch(c>1&&(t/=c,h/=c),o=6*l-(s=Math.floor(6*l)),0!=(1&s)&&(o=1-o),r=t+o*((i=1-h)-t),s){default:case 6:case 0:u=i;f=r;e=t;break;case 1:u=r;f=i;e=t;break;case 2:u=t;f=i;e=r;break;case 3:u=t;f=r;e=i;break;case 4:u=r;f=t;e=i;break;case 5:u=i;f=t;e=r}return[255*u,255*f,255*e]};t.cmyk.rgb=function(n){var i=n[0]/100,r=n[1]/100,u=n[2]/100,t=n[3]/100;return[255*(1-Math.min(1,i*(1-t)+t)),255*(1-Math.min(1,r*(1-t)+t)),255*(1-Math.min(1,u*(1-t)+t))]};t.xyz.rgb=function(n){var r,t,i,u=n[0]/100,f=n[1]/100,e=n[2]/100;return t=-.9689*u+1.8758*f+.0415*e,i=.0557*u+-.204*f+1.057*e,r=(r=3.2406*u+-1.5372*f+-.4986*e)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(r=Math.min(Math.max(0,r),1)),255*(t=Math.min(Math.max(0,t),1)),255*(i=Math.min(Math.max(0,i),1))]};t.xyz.lab=function(n){var i=n[0],t=n[1],r=n[2];return t/=100,r/=108.883,i=(i/=95.047)>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(i-t),200*(t-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]};t.lab.xyz=function(n){var i,t,r,o=n[0];i=n[1]/500+(t=(o+16)/116);r=t-n[2]/200;var u=Math.pow(t,3),f=Math.pow(i,3),e=Math.pow(r,3);return t=u>.008856?u:(t-16/116)/7.787,i=f>.008856?f:(i-16/116)/7.787,r=e>.008856?e:(r-16/116)/7.787,[i*=95.047,t*=100,r*=108.883]};t.lab.lch=function(n){var t,u=n[0],i=n[1],r=n[2];return(t=180*Math.atan2(r,i)/Math.PI)<0&&(t+=360),[u,Math.sqrt(i*i+r*r),t]};t.lch.lab=function(n){var t,r=n[0],i=n[1];return t=n[2]/180*Math.PI,[r,i*Math.cos(t),i*Math.sin(t)]};t.rgb.ansi16=function(n){var u=n[0],f=n[1],e=n[2],i=1 in arguments?arguments[1]:t.rgb.hsv(n)[2],r;return 0===(i=Math.round(i/50))?30:(r=30+(Math.round(e/255)<<2|Math.round(f/255)<<1|Math.round(u/255)),2===i&&(r+=60),r)};t.hsv.ansi16=function(n){return t.rgb.ansi16(t.hsv.rgb(n),n[2])};t.rgb.ansi256=function(n){var t=n[0],i=n[1],r=n[2];return t===i&&i===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/51)+6*Math.round(i/51)+Math.round(r/51)};t.ansi16.rgb=function(n){var t=n%10,i;return 0===t||7===t?(n>50&&(t+=3.5),[t=t/10.5*255,t,t]):(i=.5*(1+~~(n>50)),[(1&t)*i*255,(t>>1&1)*i*255,(t>>2&1)*i*255])};t.ansi256.rgb=function(n){var t,i;return n>=232?(t=10*(n-232)+8,[t,t,t]):(n-=16,[Math.floor(n/36)*51,Math.floor((i=n%36)/6)*51,i%6*51])};t.rgb.hex=function(n){var t=(((255&Math.round(n[0]))<<16)+((255&Math.round(n[1]))<<8)+(255&Math.round(n[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t};t.hex.rgb=function(n){var r=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),t,i;return r?(t=r[0],3===r[0].length&&(t=t.split("").map(function(n){return n+n}).join("")),i=parseInt(t,16),[i>>16&255,i>>8&255,255&i]):[0,0,0]};t.rgb.hcg=function(n){var f,i=n[0]/255,r=n[1]/255,u=n[2]/255,e=Math.max(Math.max(i,r),u),o=Math.min(Math.min(i,r),u),t=e-o;return f=t<=0?0:e===i?(r-u)/t%6:e===r?2+(u-i)/t:4+(i-r)/t+4,f/=6,[360*(f%=1),100*t,100*(t<1?o/(1-t):0)]};t.hsl.hcg=function(n){var r=n[1]/100,t=n[2]/100,i=1,u=0;return(i=t<.5?2*r*t:2*r*(1-t))<1&&(u=(t-.5*i)/(1-i)),[n[0],100*i,100*u]};t.hsv.hcg=function(n){var u=n[1]/100,i=n[2]/100,t=u*i,r=0;return t<1&&(r=(i-t)/(1-t)),[n[0],100*t,100*r]};t.hcg.rgb=function(n){var s=n[0]/360,i=n[1]/100,r=n[2]/100;if(0===i)return[255*r,255*r,255*r];var u,t=[0,0,0],o=s%1*6,f=o%1,e=1-f;switch(Math.floor(o)){case 0:t[0]=1;t[1]=f;t[2]=0;break;case 1:t[0]=e;t[1]=1;t[2]=0;break;case 2:t[0]=0;t[1]=1;t[2]=f;break;case 3:t[0]=0;t[1]=e;t[2]=1;break;case 4:t[0]=f;t[1]=0;t[2]=1;break;default:t[0]=1;t[1]=0;t[2]=e}return u=(1-i)*r,[255*(i*t[0]+u),255*(i*t[1]+u),255*(i*t[2]+u)]};t.hcg.hsv=function(n){var t=n[1]/100,i=t+n[2]/100*(1-t),r=0;return i>0&&(r=t/i),[n[0],100*r,100*i]};t.hcg.hsl=function(n){var i=n[1]/100,t=n[2]/100*(1-i)+.5*i,r=0;return t>0&&t<.5?r=i/(2*t):t>=.5&&t<1&&(r=i/(2*(1-t))),[n[0],100*r,100*t]};t.hcg.hwb=function(n){var t=n[1]/100,i=t+n[2]/100*(1-t);return[n[0],100*(i-t),100*(1-i)]};t.hwb.hcg=function(n){var u=n[1]/100,i=1-n[2]/100,t=i-u,r=0;return t<1&&(r=(i-t)/(1-t)),[n[0],100*t,100*r]};t.apple.rgb=function(n){return[n[0]/257,n[1]/257,n[2]/257]};t.rgb.apple=function(n){return[n[0]*257,n[1]*257,n[2]*257]};t.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};t.gray.hsl=t.gray.hsv=function(n){return[0,0,n[0]]};t.gray.hwb=function(n){return[0,100,n[0]]};t.gray.cmyk=function(n){return[0,0,0,n[0]]};t.gray.lab=function(n){return[n[0],0,0]};t.gray.hex=function(n){var t=255&Math.round(n[0]/100*255),i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(i.length)+i};t.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/765*100]}});e.rgb;e.hsl;e.hsv;e.hwb;e.cmyk;e.xyz;e.lab;e.lch;e.hex;e.keyword;e.ansi16;e.ansi256;e.hcg;e.apple;e.gray;vt={};Object.keys(e).forEach(function(n){vt[n]={};Object.defineProperty(vt[n],"channels",{value:e[n].channels});Object.defineProperty(vt[n],"labels",{value:e[n].labels});var t=function(n){for(var t,i=rh(n),u={},f=Object.keys(i),e=f.length,r=0;r<e;r++)t=f[r],null!==i[t].parent&&(u[t]=fh(t,i));return u}(n);Object.keys(t).forEach(function(i){var r=t[i];vt[n][i]=function(n){var t=function(t){var i,u,r;if(null==t)return t;if(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),i=n(t),"object"==typeof i)for(u=i.length,r=0;r<u;r++)i[r]=Math.round(i[r]);return i};return"conversion"in n&&(t.conversion=n.conversion),t}(r);vt[n][i].raw=function(n){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n(t))};return"conversion"in n&&(t.conversion=n.conversion),t}(r)})});var eh=vt,dr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},k={getRgba:gr,getHsla:nu,getRgb:function(n){var t=gr(n);return t&&t.slice(0,3)},getHsl:function(n){var t=nu(n);return t&&t.slice(0,3)},getHwb:fe,getAlpha:function(n){var t=gr(n);return t?t[3]:(t=nu(n))?t[3]:(t=fe(n))?t[3]:void 0},hexString:function(n,t){return t=void 0!==t&&3===n.length?t:n[3],"#"+di(n[0])+di(n[1])+di(n[2])+(t>=0&&t<1?di(Math.round(255*t)):"")},rgbString:function(n,t){return t<1||n[3]&&n[3]<1?ee(n,t):"rgb("+n[0]+", "+n[1]+", "+n[2]+")"},rgbaString:ee,percentString:function(n,t){if(t<1||n[3]&&n[3]<1)return oe(n,t);var i=Math.round(n[0]/255*100),r=Math.round(n[1]/255*100),u=Math.round(n[2]/255*100);return"rgb("+i+"%, "+r+"%, "+u+"%)"},percentaString:oe,hslString:function(n,t){return t<1||n[3]&&n[3]<1?se(n,t):"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)"},hslaString:se,hwbString:function(n,t){return void 0===t&&(t=void 0!==n[3]?n[3]:1),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(n){return tu[n.slice(0,3)]}};tu={};for(iu in dr)tu[dr[iu]]=iu;s=function(n){return n instanceof s?n:this instanceof s?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof n?(t=k.getRgba(n))?this.setValues("rgb",t):(t=k.getHsla(n))?this.setValues("hsl",t):(t=k.getHwb(n))&&this.setValues("hwb",t):"object"==typeof n&&(void 0!==(t=n).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new s(n);var t};s.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var n=this.values;return 1!==n.alpha?n.hwb.concat([n.alpha]):n.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var n=this.values;return n.rgb.concat([n.alpha])},hslaArray:function(){var n=this.values;return n.hsl.concat([n.alpha])},alpha:function(n){return void 0===n?this.values.alpha:(this.setValues("alpha",n),this)},red:function(n){return this.setChannel("rgb",0,n)},green:function(n){return this.setChannel("rgb",1,n)},blue:function(n){return this.setChannel("rgb",2,n)},hue:function(n){return n&&(n=(n%=360)<0?360+n:n),this.setChannel("hsl",0,n)},saturation:function(n){return this.setChannel("hsl",1,n)},lightness:function(n){return this.setChannel("hsl",2,n)},saturationv:function(n){return this.setChannel("hsv",1,n)},whiteness:function(n){return this.setChannel("hwb",1,n)},blackness:function(n){return this.setChannel("hwb",2,n)},value:function(n){return this.setChannel("hsv",2,n)},cyan:function(n){return this.setChannel("cmyk",0,n)},magenta:function(n){return this.setChannel("cmyk",1,n)},yellow:function(n){return this.setChannel("cmyk",2,n)},black:function(n){return this.setChannel("cmyk",3,n)},hexString:function(){return k.hexString(this.values.rgb)},rgbString:function(){return k.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return k.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return k.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return k.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return k.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return k.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return k.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var n=this.values.rgb;return n[0]<<16|n[1]<<8|n[2]},luminosity:function(){for(var i,r=this.values.rgb,n=[],t=0;t<r.length;t++)i=r[t]/255,n[t]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return.2126*n[0]+.7152*n[1]+.0722*n[2]},contrast:function(n){var t=this.luminosity(),i=n.luminosity();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)},level:function(n){var t=this.contrast(n);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var n=this.values.rgb;return(299*n[0]+587*n[1]+114*n[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],n=0;n<3;n++)t[n]=255-this.values.rgb[n];return this.setValues("rgb",t),this},lighten:function(n){var t=this.values.hsl;return t[2]+=t[2]*n,this.setValues("hsl",t),this},darken:function(n){var t=this.values.hsl;return t[2]-=t[2]*n,this.setValues("hsl",t),this},saturate:function(n){var t=this.values.hsl;return t[1]+=t[1]*n,this.setValues("hsl",t),this},desaturate:function(n){var t=this.values.hsl;return t[1]-=t[1]*n,this.setValues("hsl",t),this},whiten:function(n){var t=this.values.hwb;return t[1]+=t[1]*n,this.setValues("hwb",t),this},blacken:function(n){var t=this.values.hwb;return t[2]+=t[2]*n,this.setValues("hwb",t),this},greyscale:function(){var n=this.values.rgb,t=.3*n[0]+.59*n[1]+.11*n[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(n){var t=this.values.alpha;return this.setValues("alpha",t-t*n),this},opaquer:function(n){var t=this.values.alpha;return this.setValues("alpha",t+t*n),this},rotate:function(n){var t=this.values.hsl,i=(t[0]+n)%360;return t[0]=i<0?360+i:i,this.setValues("hsl",t),this},mix:function(n,t){var i=n,f=void 0===t?.5:t,r=2*f-1,e=this.alpha()-i.alpha(),u=((r*e==-1?r:(r+e)/(1+r*e))+1)/2,o=1-u;return this.rgb(u*this.red()+o*i.red(),u*this.green()+o*i.green(),u*this.blue()+o*i.blue()).alpha(this.alpha()*f+i.alpha()*(1-f))},toJSON:function(){return this.rgb()},clone:function(){var n,r,u=new s,i=this.values,f=u.values;for(var t in i)i.hasOwnProperty(t)&&(n=i[t],"[object Array]"===(r={}.toString.call(n))?f[t]=n.slice(0):"[object Number]"===r?f[t]=n:console.error("unexpected color value:",n));return u}};s.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]};s.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};s.prototype.getValues=function(n){for(var i=this.values,r={},t=0;t<n.length;t++)r[n.charAt(t)]=i[n][t];return 1!==i.alpha&&(r.a=i.alpha),r};s.prototype.setValues=function(n,t){var i,o,r=this.values,e=this.spaces,h=this.maxes,u=1,s,f;if(this.valid=!0,"alpha"===n)u=t;else if(t.length)r[n]=t.slice(0,n.length),u=t[n.length];else if(void 0!==t[n.charAt(0)]){for(i=0;i<n.length;i++)r[n][i]=t[n.charAt(i)];u=t.a}else if(void 0!==t[e[n][0]]){for(s=e[n],i=0;i<n.length;i++)r[n][i]=t[s[i]];u=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===u?r.alpha:u)),"alpha"===n)return!1;for(i=0;i<n.length;i++)o=Math.max(0,Math.min(h[n][i],r[n][i])),r[n][i]=Math.round(o);for(f in e)f!==n&&(r[f]=eh[n][f](r[n]));return!0};s.prototype.setSpace=function(n,t){var i=t[0];return void 0===i?this.getValues(n):("number"==typeof i&&(i=Array.prototype.slice.call(t)),this.setValues(n,i),this)};s.prototype.setChannel=function(n,t,i){var r=this.values[n];return void 0===i?r[t]:i===r[t]?this:(r[t]=i,this.setValues(n,r),this)};"undefined"!=typeof window&&(window.Color=s);var he,gi=s,u={noop:function(){},uid:(he=0,function(){return he++}),isNullOrUndef:function(n){return null==n},isArray:function(n){if(Array.isArray&&Array.isArray(n))return!0;var t=Object.prototype.toString.call(n);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)},isFinite:function(n){return("number"==typeof n||n instanceof Number)&&isFinite(n)},valueOrDefault:function(n,t){return void 0===n?t:n},valueAtIndexOrDefault:function(n,t,i){return u.valueOrDefault(u.isArray(n)?n[t]:n,i)},callback:function(n,t,i){if(n&&"function"==typeof n.call)return n.apply(i,t)},each:function(n,t,i,r){var f,e,o;if(u.isArray(n))if(e=n.length,r)for(f=e-1;f>=0;f--)t.call(i,n[f],f);else for(f=0;f<e;f++)t.call(i,n[f],f);else if(u.isObject(n))for(e=(o=Object.keys(n)).length,f=0;f<e;f++)t.call(i,n[o[f]],o[f])},arrayEquals:function(n,t){var i,e,r,f;if(!n||!t||n.length!==t.length)return!1;for(i=0,e=n.length;i<e;++i)if(r=n[i],f=t[i],r instanceof Array&&f instanceof Array){if(!u.arrayEquals(r,f))return!1}else if(r!==f)return!1;return!0},clone:function(n){if(u.isArray(n))return n.map(u.clone);if(u.isObject(n)){for(var r={},i=Object.keys(n),f=i.length,t=0;t<f;++t)r[i[t]]=u.clone(n[i[t]]);return r}return n},_merger:function(n,t,i,r){var e=t[n],f=i[n];u.isObject(e)&&u.isObject(f)?u.merge(e,f,r):t[n]=u.clone(f)},_mergerIf:function(n,t,i){var f=t[n],r=i[n];u.isObject(f)&&u.isObject(r)?u.mergeIf(f,r):t.hasOwnProperty(n)||(t[n]=u.clone(r))},merge:function(n,t,i){var e,r,o,s,f,h=u.isArray(t)?t:[t],c=h.length;if(!u.isObject(n))return n;for(e=(i=i||{}).merger||u._merger,r=0;r<c;++r)if(t=h[r],u.isObject(t))for(f=0,s=(o=Object.keys(t)).length;f<s;++f)e(o[f],n,t,i);return n},mergeIf:function(n,t){return u.merge(n,t,{merger:u._mergerIf})},extend:Object.assign||function(n){return u.merge(n,[].slice.call(arguments,1),{merger:function(n,t,i){t[n]=i[n]}})},inherits:function(n){var i=this,t=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return i.apply(this,arguments)},r=function(){this.constructor=t};return r.prototype=i.prototype,t.prototype=new r,t.extend=u.inherits,n&&u.extend(t.prototype,n),t.__super__=i.prototype,t},_deprecated:function(n,t,i,r){void 0!==t&&console.warn(n+': "'+i+'" is deprecated. Please use "'+r+'" instead')}},p=u;u.callCallback=u.callback;u.indexOf=function(n,t,i){return Array.prototype.indexOf.call(n,t,i)};u.getValueOrDefault=u.valueOrDefault;u.getValueAtIndexOrDefault=u.valueAtIndexOrDefault;ui={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return-n*(n-2)},easeInOutQuad:function(n){return(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1)},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return(n-=1)*n*n+1},easeInOutCubic:function(n){return(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return-((n-=1)*n*n*n-1)},easeInOutQuart:function(n){return(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return(n-=1)*n*n*n*n+1},easeInOutQuint:function(n){return(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},easeInSine:function(n){return 1-Math.cos(n*(Math.PI/2))},easeOutSine:function(n){return Math.sin(n*(Math.PI/2))},easeInOutSine:function(n){return-.5*(Math.cos(Math.PI*n)-1)},easeInExpo:function(n){return 0===n?0:Math.pow(2,10*(n-1))},easeOutExpo:function(n){return 1===n?1:1-Math.pow(2,-10*n)},easeInOutExpo:function(n){return 0===n?0:1===n?1:(n/=.5)<1?.5*Math.pow(2,10*(n-1)):.5*(2-Math.pow(2,-10*--n))},easeInCirc:function(n){return n>=1?n:-(Math.sqrt(1-n*n)-1)},easeOutCirc:function(n){return Math.sqrt(1-(n-=1)*n)},easeInOutCirc:function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},easeInElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:1===n?1:(t||(t=.3),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/t))},easeOutElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:1===n?1:(t||(t=.3),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*n)*Math.sin((n-r)*2*Math.PI/t)+1)},easeInOutElastic:function(n){var r=1.70158,t=0,i=1;return 0===n?0:2==(n/=.5)?1:(t||(t=.45),i<1?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),n<1?i*Math.pow(2,10*(n-=1))*Math.sin((n-r)*2*Math.PI/t)*-.5:i*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*2*Math.PI/t)*.5+1)},easeInBack:function(n){var t=1.70158;return n*n*((t+1)*n-t)},easeOutBack:function(n){var t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack:function(n){var t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:function(n){return 1-ui.easeOutBounce(1-n)},easeOutBounce:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:function(n){return n<.5?.5*ui.easeInBounce(2*n):.5*ui.easeOutBounce(2*n-1)+.5}};ce={effects:ui};p.easingEffects=ui;var h=Math.PI,oh=h/180,sh=2*h,w=h/2,hi=h/4,le=2*h/3,nr={clear:function(n){n.ctx.clearRect(0,0,n.width,n.height)},roundedRect:function(n,t,i,r,u,f){if(f){var e=Math.min(f,u/2,r/2),o=t+e,s=i+e,c=t+r-e,l=i+u-e;n.moveTo(t,s);o<c&&s<l?(n.arc(o,s,e,-h,-w),n.arc(c,s,e,-w,0),n.arc(c,l,e,0,w),n.arc(o,l,e,w,h)):o<c?(n.moveTo(o,i),n.arc(c,s,e,-w,w),n.arc(o,s,e,w,h+w)):s<l?(n.arc(o,s,e,-h,0),n.arc(o,l,e,0,h)):n.arc(o,s,e,-h,h);n.closePath();n.moveTo(t,i)}else n.rect(t,i,r,u)},drawPoint:function(n,t,i,r,u,f){var a,o,s,c,l,e=(f||0)*oh;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(a=t.toString())||"[object HTMLCanvasElement]"===a))return n.save(),n.translate(r,u),n.rotate(e),n.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void n.restore();if(!(isNaN(i)||i<=0)){switch(n.beginPath(),t){default:n.arc(r,u,i,0,sh);n.closePath();break;case"triangle":n.moveTo(r+Math.sin(e)*i,u-Math.cos(e)*i);e+=le;n.lineTo(r+Math.sin(e)*i,u-Math.cos(e)*i);e+=le;n.lineTo(r+Math.sin(e)*i,u-Math.cos(e)*i);n.closePath();break;case"rectRounded":c=i-(l=.516*i);o=Math.cos(e+hi)*c;s=Math.sin(e+hi)*c;n.arc(r-o,u-s,l,e-h,e-w);n.arc(r+s,u-o,l,e-w,e);n.arc(r+o,u+s,l,e,e+w);n.arc(r-s,u+o,l,e+w,e+h);n.closePath();break;case"rect":if(!f){c=Math.SQRT1_2*i;n.rect(r-c,u-c,2*c,2*c);break}e+=hi;case"rectRot":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+s,u-o);n.lineTo(r+o,u+s);n.lineTo(r-s,u+o);n.closePath();break;case"crossRot":e+=hi;case"cross":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);break;case"star":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);e+=hi;o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);n.moveTo(r+s,u-o);n.lineTo(r-s,u+o);break;case"line":o=Math.cos(e)*i;s=Math.sin(e)*i;n.moveTo(r-o,u-s);n.lineTo(r+o,u+s);break;case"dash":n.moveTo(r,u);n.lineTo(r+Math.cos(e)*i,u+Math.sin(e)*i)}n.fill();n.stroke()}},_isPointInArea:function(n,t){return n.x>t.left-1e-6&&n.x<t.right+1e-6&&n.y>t.top-1e-6&&n.y<t.bottom+1e-6},clipArea:function(n,t){n.save();n.beginPath();n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top);n.clip()},unclipArea:function(n){n.restore()},lineTo:function(n,t,i,r){var u=i.steppedLine,f;u?("middle"===u?(f=(t.x+i.x)/2,n.lineTo(f,r?i.y:t.y),n.lineTo(f,r?t.y:i.y)):"after"===u&&!r||"after"!==u&&r?n.lineTo(t.x,i.y):n.lineTo(i.x,t.y),n.lineTo(i.x,i.y)):i.tension?n.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?i.controlPointNextX:i.controlPointPreviousX,r?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):n.lineTo(i.x,i.y)}},hh=nr;p.clear=nr.clear;p.drawRoundedRectangle=function(n){n.beginPath();nr.roundedRect.apply(nr,arguments)};ru={_set:function(n,t){return p.merge(this[n]||(this[n]={}),t)}};ru._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var i=ru,tr=p.valueOrDefault,ch={toLineHeight:function(n,t){var i=(""+n).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*t;switch(n=+i[2],i[3]){case"px":return n;case"%":n/=100}return t*n},toPadding:function(n){var t,i,r,u;return p.isObject(n)?(t=+n.top||0,i=+n.right||0,r=+n.bottom||0,u=+n.left||0):t=i=r=u=+n||0,{top:t,right:i,bottom:r,left:u,height:t+r,width:u+i}},_parseFont:function(n){var t=i.global,u=tr(n.fontSize,t.defaultFontSize),r={family:tr(n.fontFamily,t.defaultFontFamily),lineHeight:p.options.toLineHeight(tr(n.lineHeight,t.defaultLineHeight),u),size:u,style:tr(n.fontStyle,t.defaultFontStyle),weight:null,string:""};return r.string=function(n){return!n||p.isNullOrUndef(n.size)||p.isNullOrUndef(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r},resolve:function(n,t,i,r){for(var u,e=!0,f=0,o=n.length;f<o;++f)if(void 0!==(u=n[f])&&(void 0!==t&&"function"==typeof u&&(u=u(t),e=!1),void 0!==i&&p.isArray(u)&&(u=u[i],e=!1),void 0!==u))return r&&!e&&(r.cacheable=!1),u}},ae={_factorize:function(n){for(var i=[],r=Math.sqrt(n),t=1;t<r;t++)n%t==0&&(i.push(t),i.push(n/t));return r===(0|r)&&i.push(r),i.sort(function(n,t){return n-t}).pop(),i},log10:Math.log10||function(n){var t=Math.log(n)*Math.LOG10E,i=Math.round(t);return n===Math.pow(10,i)?i:t}},lh=ae;p.log10=ae.log10;var t=p,ah=ce,vh=hh,yh=ch,ph=lh,wh={getRtlAdapter:function(n,t,i){return n?function(n,t){return{x:function(i){return n+n+t-i},setWidth:function(n){t=n},textAlign:function(n){return"center"===n?n:"right"===n?"left":"right"},xPlus:function(n,t){return n-t},leftForLtr:function(n,t){return n-t}}}(t,i):{x:function(n){return n},setWidth:function(){},textAlign:function(n){return n},xPlus:function(n,t){return n+t},leftForLtr:function(n){return n}}},overrideTextDirection:function(n,t){var i,r;"ltr"!==t&&"rtl"!==t||(r=[(i=n.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),n.prevTextDirection=r)},restoreTextDirection:function(n){var t=n.prevTextDirection;void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}};t.easing=ah;t.canvas=vh;t.options=yh;t.math=ph;t.rtl=wh;ir=function(n){t.extend(this,n);this.initialize.apply(this,arguments)};t.extend(ir.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var n=this;return n._view||(n._view=t.extend({},n._model)),n._start={},n},transition:function(n){var i=this,r=i._model,u=i._start,f=i._view;return r&&1!==n?(f||(f=i._view={}),u||(u=i._start={}),function(n,i,r,u){for(var f,c,o,e,l,a,v,y=Object.keys(r),s=0,h=y.length;s<h;++s)if(e=r[f=y[s]],i.hasOwnProperty(f)||(i[f]=e),(c=i[f])!==e&&"_"!==f[0]){if(n.hasOwnProperty(f)||(n[f]=c),(l=typeof e)==typeof(o=n[f]))if("string"===l){if((a=gi(o)).valid&&(v=gi(e)).valid){i[f]=v.mix(a,u).rgbString();continue}}else if(t.isFinite(o)&&t.isFinite(e)){i[f]=o+(e-o)*u;continue}i[f]=e}}(u,f,r,n),i):(i._view=t.extend({},r),i._start=null,i)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}});ir.extend=t.inherits;var nt=ir,uu=nt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),fu=uu;Object.defineProperty(uu.prototype,"animationObject",{get:function(){return this}});Object.defineProperty(uu.prototype,"chartInstance",{get:function(){return this.chart},set:function(n){this.chart=n}});i._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop}});var eu={animations:[],request:null,addAnimation:function(n,t,i,r){var u,e,f=this.animations;for(t.chart=n,t.startTime=Date.now(),t.duration=i,r||(n.animating=!0),u=0,e=f.length;u<e;++u)if(f[u].chart===n)return void(f[u]=t);f.push(t);1===f.length&&this.requestAnimationFrame()},cancelAnimation:function(n){var i=t.findIndex(this.animations,function(t){return t.chart===n});-1!==i&&(this.animations.splice(i,1),n.animating=!1)},requestAnimationFrame:function(){var n=this;null===n.request&&(n.request=t.requestAnimFrame.call(window,function(){n.request=null;n.startDigest()}))},startDigest:function(){this.advance();this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var n,i,r,e,f=this.animations,u=0;u<f.length;)i=(n=f[u]).chart,r=n.numSteps,e=Math.floor((Date.now()-n.startTime)/n.duration*r)+1,n.currentStep=Math.min(e,r),t.callback(n.render,[i,n],i),t.callback(n.onAnimationProgress,[n],i),n.currentStep>=r?(t.callback(n.onAnimationComplete,[n],i),i.animating=!1,f.splice(u,1)):++u}},fi=t.options.resolve,ve=["push","pop","shift","splice","unshift"];rr=function(n,t){this.initialize(n,t)};t.extend(rr.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(n,t){var i=this;i.chart=n;i.index=t;i.linkScales();i.addElements();i._type=i.getMeta().type},updateIndex:function(n){this.index=n},linkScales:function(){var n=this.getMeta(),i=this.chart,r=i.scales,t=this.getDataset(),u=i.options.scales;null!==n.xAxisID&&n.xAxisID in r&&!t.xAxisID||(n.xAxisID=t.xAxisID||u.xAxes[0].id);null!==n.yAxisID&&n.yAxisID in r&&!t.yAxisID||(n.yAxisID=t.yAxisID||u.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(n){return this.chart.scales[n]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&ye(this._data,this)},createMetaDataset:function(){var n=this.datasetElementType;return n&&new n({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(n){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:n})},addElements:function(){for(var t=this.getMeta(),u=this.getDataset().data||[],r=t.data,n=0,i=u.length;n<i;++n)r[n]=r[n]||this.createMetaData(n);t.dataset=t.dataset||this.createMetaDataset()},addElementAndReset:function(n){var t=this.createMetaData(n);this.getMeta().data.splice(n,0,t);this.updateElement(t,n,!0)},buildOrUpdateElements:function(){var i,u,n=this,f=n.getDataset(),r=f.data||(f.data=[]);n._data!==r&&(n._data&&ye(n._data,n),r&&Object.isExtensible(r)&&(u=n,(i=r)._chartjs?i._chartjs.listeners.push(u):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[u]}}),ve.forEach(function(n){var r="onData"+n.charAt(0).toUpperCase()+n.slice(1),u=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value:function(){var n=Array.prototype.slice.call(arguments),f=u.apply(this,n);return t.each(i._chartjs.listeners,function(t){"function"==typeof t[r]&&t[r].apply(t,n)}),f}})}))),n._data=r);n.resyncElements()},_configure:function(){this._config=t.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(n,i,r){"_meta"!==n&&"data"!==n&&t._merger(n,i,r)}})},_update:function(n){this._configure();this._cachedDataOpts=null;this.update(n)},update:t.noop,transition:function(n){for(var t=this.getMeta(),r=t.data||[],u=r.length,i=0;i<u;++i)r[i].transition(n);t.dataset&&t.dataset.transition(n)},draw:function(){var n=this.getMeta(),i=n.data||[],r=i.length,t=0;for(n.dataset&&n.dataset.draw();t<r;++t)i[t].draw()},getStyle:function(n){var t,i=this.getMeta(),r=i.dataset;return this._configure(),r&&void 0===n?t=this._resolveDatasetElementOptions(r||{}):(n=n||0,t=this._resolveDataElementOptions(i.data[n]||{},n)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(n,t){for(var r,f,i=this,o=i.chart,c=i._config,l=n.custom||{},a=o.options.elements[i.datasetElementType.prototype._type]||{},s=i._datasetElementOptions,h={},v={chart:o,dataset:i.getDataset(),datasetIndex:i.index,hover:t},u=0,e=s.length;u<e;++u)r=s[u],f=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=fi([l[f],c[f],a[f]],v);return h},_resolveDataElementOptions:function(n,i){var u=this,e=n&&n.custom,a=u._cachedDataOpts;if(a&&!e)return a;var v,f,s,r,y=u.chart,c=u._config,p=y.options.elements[u.dataElementType.prototype._type]||{},o=u._dataElementOptions,h={},w={chart:y,dataIndex:i,dataset:u.getDataset(),datasetIndex:u.index},l={cacheable:!e};if(e=e||{},t.isArray(o))for(f=0,s=o.length;f<s;++f)h[r=o[f]]=fi([e[r],c[r],p[r]],w,i,l);else for(f=0,s=(v=Object.keys(o)).length;f<s;++f)h[r=v[f]]=fi([e[r],c[o[r]],c[r],p[r]],w,i,l);return l.cacheable&&(u._cachedDataOpts=Object.freeze(h)),h},removeHoverStyle:function(n){t.merge(n._model,n.$previousStyle||{});delete n.$previousStyle},setHoverStyle:function(n){var r=this.chart.data.datasets[n._datasetIndex],u=n._index,f=n.custom||{},i=n._model,e=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=fi([f.hoverBackgroundColor,r.hoverBackgroundColor,e(i.backgroundColor)],void 0,u);i.borderColor=fi([f.hoverBorderColor,r.hoverBorderColor,e(i.borderColor)],void 0,u);i.borderWidth=fi([f.hoverBorderWidth,r.hoverBorderWidth,i.borderWidth],void 0,u)},_removeDatasetHoverStyle:function(){var n=this.getMeta().dataset;n&&this.removeHoverStyle(n)},_setDatasetHoverStyle:function(){var n,f,t,e,r,u,i=this.getMeta().dataset,o={};if(i){for(u=i._model,r=this._resolveDatasetElementOptions(i,!0),n=0,f=(e=Object.keys(r)).length;n<f;++n)o[t=e[n]]=u[t],u[t]=r[t];i.$previousStyle=o}},resyncElements:function(){var i=this.getMeta(),r=this.getDataset().data,n=i.data.length,t=r.length;t<n?i.data.splice(t,n-t):t>n&&this.insertElements(n,t-n)},insertElements:function(n,t){for(var i=0;i<t;++i)this.addElementAndReset(n+i)},onDataPush:function(){var n=arguments.length;this.insertElements(this.getDataset().data.length-n,n)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(n,t){this.getMeta().data.splice(n,t);this.insertElements(n,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}});rr.extend=t.inherits;y=rr;d=2*Math.PI;i._set("global",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var kh=nt.extend({_type:"arc",inLabelRange:function(n){var t=this._view;return!!t&&Math.pow(n-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(n,i){var r=this._view,h,c;if(r){for(var o=t.getAngleFromPoint(r,{x:n,y:i}),u=o.angle,s=o.distance,e=r.startAngle,f=r.endAngle;f<e;)f+=d;for(;u>f;)u-=d;for(;u<e;)u+=d;return h=u>=e&&u<=f,c=s>=r.innerRadius&&s<=r.outerRadius,h&&c}return!1},getCenterPoint:function(){var n=this._view,t=(n.startAngle+n.endAngle)/2,i=(n.innerRadius+n.outerRadius)/2;return{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},getArea:function(){var n=this._view;return Math.PI*((n.endAngle-n.startAngle)/(2*Math.PI))*(Math.pow(n.outerRadius,2)-Math.pow(n.innerRadius,2))},tooltipPosition:function(){var n=this._view,t=n.startAngle+(n.endAngle-n.startAngle)/2,i=(n.outerRadius-n.innerRadius)/2+n.innerRadius;return{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},draw:function(){var r,t=this._chart.ctx,i=this._view,u="inner"===i.borderAlign?.33:0,n={x:i.x,y:i.y,innerRadius:i.innerRadius,outerRadius:Math.max(i.outerRadius-u,0),pixelMargin:u,startAngle:i.startAngle,endAngle:i.endAngle,fullCircles:Math.floor(i.circumference/d)};if(t.save(),t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,n.fullCircles){for(n.endAngle=n.startAngle+d,t.beginPath(),t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),r=0;r<n.fullCircles;++r)t.fill();n.endAngle=n.startAngle+i.circumference%d}t.beginPath();t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle);t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0);t.closePath();t.fill();i.borderWidth&&bh(t,i,n);t.restore()}}),we=t.valueOrDefault,be=i.global.defaultColor;i._set("global",{elements:{line:{tension:.4,backgroundColor:be,borderWidth:3,borderColor:be,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var dh=nt.extend({_type:"line",draw:function(){var r,c,f,s=this,e=s._view,n=s._chart.ctx,a=e.spanGaps,u=s._children.slice(),v=i.global,h=v.elements.line,o=-1,l=s._loop;if(u.length){if(s._loop){for(r=0;r<u.length;++r)if(c=t.previousItem(u,r),!u[r]._view.skip&&c._view.skip){u=u.slice(r).concat(u.slice(0,r));l=a;break}l&&u.push(u[0])}for(n.save(),n.lineCap=e.borderCapStyle||h.borderCapStyle,n.setLineDash&&n.setLineDash(e.borderDash||h.borderDash),n.lineDashOffset=we(e.borderDashOffset,h.borderDashOffset),n.lineJoin=e.borderJoinStyle||h.borderJoinStyle,n.lineWidth=we(e.borderWidth,h.borderWidth),n.strokeStyle=e.borderColor||v.defaultColor,n.beginPath(),(f=u[0]._view).skip||(n.moveTo(f.x,f.y),o=0),r=1;r<u.length;++r)f=u[r]._view,c=-1===o?t.previousItem(u,r):u[o],f.skip||(o!==r-1&&!a||-1===o?n.moveTo(f.x,f.y):t.canvas.lineTo(n,c._view,f),o=r);l&&n.closePath();n.stroke();n.restore()}}}),gh=t.valueOrDefault,ke=i.global.defaultColor;i._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:ke,borderColor:ke,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});ge=nt.extend({_type:"point",inRange:function(n,t){var i=this._view;return!!i&&Math.pow(n-i.x,2)+Math.pow(t-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:de,inXRange:de,inYRange:function(n){var t=this._view;return!!t&&Math.abs(n-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var n=this._view;return{x:n.x,y:n.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var n=this._view;return{x:n.x,y:n.y,padding:n.radius+n.borderWidth}},draw:function(n){var r=this._view,u=this._chart.ctx,o=r.pointStyle,s=r.rotation,h=r.radius,c=r.x,l=r.y,f=i.global,e=f.defaultColor;r.skip||(void 0===n||t.canvas._isPointInArea(r,n))&&(u.strokeStyle=r.borderColor||e,u.lineWidth=gh(r.borderWidth,f.elements.point.borderWidth),u.fillStyle=r.backgroundColor||e,t.canvas.drawPoint(u,o,h,c,l,s))}});ou=i.global.defaultColor;i._set("global",{elements:{rectangle:{backgroundColor:ou,borderColor:ou,borderSkipped:"bottom",borderWidth:0}}});var tc=nt.extend({_type:"rectangle",draw:function(){var n=this._chart.ctx,r=this._view,u=function(n){var t=no(n),r=t.right-t.left,u=t.bottom-t.top,i=nc(n,r/2,u/2);return{outer:{x:t.left,y:t.top,w:r,h:u},inner:{x:t.left+i.l,y:t.top+i.t,w:r-i.l-i.r,h:u-i.t-i.b}}}(r),t=u.outer,i=u.inner;n.fillStyle=r.backgroundColor;n.fillRect(t.x,t.y,t.w,t.h);t.w===i.w&&t.h===i.h||(n.save(),n.beginPath(),n.rect(t.x,t.y,t.w,t.h),n.clip(),n.fillStyle=r.borderColor,n.rect(i.x,i.y,i.w,i.h),n.fill("evenodd"),n.restore())},height:function(){var n=this._view;return n.base-n.y},inRange:function(n,t){return ci(this._view,n,t)},inLabelRange:function(n,t){var i=this._view;return ur(i)?ci(i,n,null):ci(i,null,t)},inXRange:function(n){return ci(this._view,n,null)},inYRange:function(n){return ci(this._view,null,n)},getCenterPoint:function(){var t,i,n=this._view;return ur(n)?(t=n.x,i=(n.y+n.base)/2):(t=(n.x+n.base)/2,i=n.y),{x:t,y:i}},getArea:function(){var n=this._view;return ur(n)?n.width*Math.abs(n.y-n.base):n.height*Math.abs(n.x-n.base)},tooltipPosition:function(){var n=this._view;return{x:n.x,y:n.y}}}),c={},ic=kh,rc=dh,uc=ge,fc=tc;c.Arc=ic;c.Line=rc;c.Point=uc;c.Rectangle=fc;ei=t._deprecated;yt=t.valueOrDefault;i._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});i._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var io=y.extend({dataElementType:c.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var i,n,t=this;y.prototype.initialize.apply(t,arguments);(i=t.getMeta()).stack=t.getDataset().stack;i.bar=!0;n=t._getIndexScale().options;ei("bar chart",n.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage");ei("bar chart",n.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness");ei("bar chart",n.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage");ei("bar chart",t._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength");ei("bar chart",n.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(n){var t,i,r=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,i=r.length;t<i;++t)this.updateElement(r[t],t,n)},updateElement:function(n,i,r){var u=this,e=u.getMeta(),o=u.getDataset(),f=u._resolveDataElementOptions(n,i);n._xScale=u.getScaleForId(e.xAxisID);n._yScale=u.getScaleForId(e.yAxisID);n._datasetIndex=u.index;n._index=i;n._model={backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderSkipped:f.borderSkipped,borderWidth:f.borderWidth,datasetLabel:o.label,label:u.chart.data.labels[i]};t.isArray(o.data[i])&&(n._model.borderSkipped=null);u._updateElementGeometry(n,i,r,f);n.pivot()},_updateElementGeometry:function(n,t,i,r){var u=this,f=n._model,c=u._getValueScale(),s=c.getBasePixel(),e=c.isHorizontal(),l=u._ruler||u.getRuler(),h=u.calculateBarValuePixels(u.index,t,r),o=u.calculateBarIndexPixels(u.index,t,l,r);f.horizontal=e;f.base=i?s:h.base;f.x=e?i?s:h.head:o.center;f.y=e?o.center:i?s:h.head;f.height=e?o.size:void 0;f.width=e?void 0:o.size},_getStacks:function(n){for(var t,u=this._getIndexScale(),f=u._getMatchingVisibleMetas(this._type),e=u.options.stacked,o=f.length,r=[],i=0;i<o&&(t=f[i],(!1===e||-1===r.indexOf(t.stack)||void 0===e&&void 0===t.stack)&&r.push(t.stack),t.index!==n);++i);return r},getStackCount:function(){return this._getStacks().length},getStackIndex:function(n,t){var i=this._getStacks(n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r},getRuler:function(){for(var t=this._getIndexScale(),r=[],n=0,i=this.getMeta().data.length;n<i;++n)r.push(t.getPixelForValue(null,n,this.index));return{pixels:r,start:t._startPixel,end:t._endPixel,stackCount:this.getStackCount(),scale:t}},calculateBarValuePixels:function(n,t,i){var h,a,c,e,l,o,f,g=this.chart,u=this._getValueScale(),p=u.isHorizontal(),w=g.data.datasets,b=u._getMatchingVisibleMetas(this._type),r=u._parseValue(w[n].data[t]),s=i.minBarLength,k=u.options.stacked,d=this.getMeta().stack,v=void 0===r.start?0:r.max>=0&&r.min>=0?r.min:r.max,y=void 0===r.start?r.end:r.max>=0&&r.min>=0?r.max-r.min:r.min-r.max,nt=b.length;if(k||void 0===k&&void 0!==d)for(h=0;h<nt&&(a=b[h]).index!==n;++h)a.stack===d&&(c=void 0===(f=u._parseValue(w[a.index].data[t])).start?f.end:f.min>=0&&f.max>=0?f.max:f.min,(r.min<0&&c<0||r.max>=0&&c>0)&&(v+=c));return e=u.getPixelForValue(v),o=(l=u.getPixelForValue(v+y))-e,void 0!==s&&Math.abs(o)<s&&(o=s,l=y>=0&&!p||y<0&&p?e-s:e+s),{size:o,base:e,head:l,center:l+o/2}},calculateBarIndexPixels:function(n,t,i,r){var u="flex"===r.barThickness?function(n,t,i){var o,e=t.pixels,r=e[n],f=n>0?e[n-1]:null,u=n<e.length-1?e[n+1]:null,s=i.categoryPercentage;return null===f&&(f=r-(null===u?t.end-t.start:u-r)),null===u&&(u=r+r-f),o=r-(r-Math.min(f,u))/2*s,{chunk:Math.abs(u-f)/2*s/t.stackCount,ratio:i.barPercentage,start:o}}(t,i,r):ec(t,i,r),o=this.getStackIndex(n,this.getMeta().stack),f=u.start+u.chunk*o+u.chunk/2,e=Math.min(yt(r.maxBarThickness,1/0),u.chunk*u.ratio);return{base:f-e/2,head:f+e/2,center:f,size:e}},draw:function(){var i=this.chart,f=this._getValueScale(),u=this.getMeta().data,e=this.getDataset(),o=u.length,n=0,r;for(t.canvas.clipArea(i.ctx,i.chartArea);n<o;++n)r=f._parseValue(e.data[n]),isNaN(r.min)||isNaN(r.max)||u[n].draw();t.canvas.unclipArea(i.ctx)},_resolveDataElementOptions:function(){var r=this,n=t.extend({},y.prototype._resolveDataElementOptions.apply(r,arguments)),i=r._getIndexScale().options,u=r._getValueScale().options;return n.barPercentage=yt(i.barPercentage,n.barPercentage),n.barThickness=yt(i.barThickness,n.barThickness),n.categoryPercentage=yt(i.categoryPercentage,n.categoryPercentage),n.maxBarThickness=yt(i.maxBarThickness,n.maxBarThickness),n.minBarLength=yt(u.minBarLength,n.minBarLength),n}}),su=t.valueOrDefault,oc=t.options.resolve;i._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(n,t){var i=t.datasets[n.datasetIndex].label||"",r=t.datasets[n.datasetIndex].data[n.index];return i+": ("+n.xLabel+", "+n.yLabel+", "+r.r+")"}}}});var sc=y.extend({dataElementType:c.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(n){var i=this,r=i.getMeta().data;t.each(r,function(t,r){i.updateElement(t,r,n)})},updateElement:function(n,t,i){var u=this,h=u.getMeta(),a=n.custom||{},f=u.getScaleForId(h.xAxisID),e=u.getScaleForId(h.yAxisID),r=u._resolveDataElementOptions(n,t),o=u.getDataset().data[t],s=u.index,c=i?f.getPixelForDecimal(.5):f.getPixelForValue("object"==typeof o?o:NaN,t,s),l=i?e.getBasePixel():e.getPixelForValue(o,t,s);n._xScale=f;n._yScale=e;n._options=r;n._datasetIndex=s;n._index=t;n._model={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,hitRadius:r.hitRadius,pointStyle:r.pointStyle,rotation:r.rotation,radius:i?0:r.radius,skip:a.skip||isNaN(c)||isNaN(l),x:c,y:l};n.pivot()},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=su(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=su(r.hoverBorderColor,u(r.borderColor));i.borderWidth=su(r.hoverBorderWidth,r.borderWidth);i.radius=r.radius+r.hoverRadius},_resolveDataElementOptions:function(n,i){var r=this,f=r.chart,e=r.getDataset(),o=n.custom||{},s=e.data[i]||{},u=y.prototype._resolveDataElementOptions.apply(r,arguments),h={chart:f,dataIndex:i,dataset:e,datasetIndex:r.index};return r._cachedDataOpts===u&&(u=t.extend({},u)),u.radius=oc([o.radius,s.r,r._config.radius,f.options.elements.point.radius],h,i),u}}),fr=t.valueOrDefault,pt=Math.PI,rt=2*pt,wt=pt/2;i._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(n){var t,u,f,i=document.createElement("ul"),e=n.data,r=e.datasets,o=e.labels;if(i.setAttribute("class",n.id+"-legend"),r.length)for(t=0,u=r[0].data.length;t<u;++t)(f=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],o[t]&&f.appendChild(document.createTextNode(o[t]));return i.outerHTML},legend:{labels:{generateLabels:function(n){var t=n.data;return t.labels.length&&t.datasets.length?t.labels.map(function(i,r){var f=n.getDatasetMeta(0),u=f.controller.getStyle(r);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,hidden:isNaN(t.datasets[0].data[r])||f.data[r].hidden,index:r}}):[]}},onClick:function(n,t){for(var r,u=t.index,f=this.chart,i=0,e=(f.data.datasets||[]).length;i<e;++i)(r=f.getDatasetMeta(i)).data[u]&&(r.data[u].hidden=!r.data[u].hidden);f.update()}},cutoutPercentage:50,rotation:-wt,circumference:rt,tooltips:{callbacks:{title:function(){return""},label:function(n,i){var r=i.labels[n.index],u=": "+i.datasets[n.datasetIndex].data[n.index];return t.isArray(r)?(r=r.slice())[0]+=u:r+=u,r}}}});hu=y.extend({dataElementType:c.Arc,linkScales:t.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(n){for(var i=0,t=0;t<n;++t)this.chart.isDatasetVisible(t)&&++i;return i},update:function(n){var p,w,r,s,i=this,t=i.chart,h=t.chartArea,y=t.options,b=1,k=1,d=0,g=0,nt=i.getMeta(),o=nt.data,u=y.cutoutPercentage/100||0,tt=y.circumference,ot=i._getRingWeight(i.index);if(tt<rt){var f=y.rotation%rt,e=(f+=f>=pt?-rt:f<-pt?rt:0)+tt,c=Math.cos(f),l=Math.sin(f),a=Math.cos(e),v=Math.sin(e),st=f<=0&&e>=0||e>=rt,ht=f<=wt&&e>=wt||e>=rt+wt,ct=f<=-wt&&e>=-wt||e>=pt+wt,it=f===-pt||e>=pt?-1:Math.min(c,c*u,a,a*u),ut=ct?-1:Math.min(l,l*u,v,v*u),ft=st?1:Math.max(c,c*u,a,a*u),et=ht?1:Math.max(l,l*u,v,v*u);b=(ft-it)/2;k=(et-ut)/2;d=-(ft+it)/2;g=-(et+ut)/2}for(r=0,s=o.length;r<s;++r)o[r]._options=i._resolveDataElementOptions(o[r],r);for(t.borderWidth=i.getMaxBorderWidth(),p=(h.right-h.left-t.borderWidth)/b,w=(h.bottom-h.top-t.borderWidth)/k,t.outerRadius=Math.max(Math.min(p,w)/2,0),t.innerRadius=Math.max(t.outerRadius*u,0),t.radiusLength=(t.outerRadius-t.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),t.offsetX=d*t.outerRadius,t.offsetY=g*t.outerRadius,nt.total=i.calculateTotal(),i.outerRadius=t.outerRadius-t.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-t.radiusLength*ot,0),r=0,s=o.length;r<s;++r)i.updateElement(o[r],r,n)},updateElement:function(n,i,r){var u=this,f=u.chart,s=f.chartArea,e=f.options,h=e.animation,a=(s.left+s.right)/2,v=(s.top+s.bottom)/2,y=e.rotation,p=e.rotation,l=u.getDataset(),w=r&&h.animateRotate?0:n.hidden?0:u.calculateCircumference(l.data[i])*(e.circumference/rt),b=r&&h.animateScale?0:u.innerRadius,k=r&&h.animateScale?0:u.outerRadius,c=n._options||{},o;t.extend(n,{_datasetIndex:u.index,_index:i,_model:{backgroundColor:c.backgroundColor,borderColor:c.borderColor,borderWidth:c.borderWidth,borderAlign:c.borderAlign,x:a+f.offsetX,y:v+f.offsetY,startAngle:y,endAngle:p,circumference:w,outerRadius:k,innerRadius:b,label:t.valueAtIndexOrDefault(l.label,i,f.data.labels[i])}});o=n._model;r&&h.animateRotate||(o.startAngle=0===i?e.rotation:u.getMeta().data[i-1]._model.endAngle,o.endAngle=o.startAngle+o.circumference);n.pivot()},calculateTotal:function(){var n,r=this.getDataset(),u=this.getMeta(),i=0;return t.each(u.data,function(t,u){n=r.data[u];isNaN(n)||t.hidden||(i+=Math.abs(n))}),i},calculateCircumference:function(n){var t=this.getMeta().total;return t>0&&!isNaN(n)?rt*(Math.abs(n)/t):0},getMaxBorderWidth:function(n){var t,u,h,e,f,r,o,c,i=0,s=this.chart;if(!n)for(t=0,u=s.data.datasets.length;t<u;++t)if(s.isDatasetVisible(t)){n=(h=s.getDatasetMeta(t)).data;t!==this.index&&(f=h.controller);break}if(!n)return 0;for(t=0,u=n.length;t<u;++t)e=n[t],f?(f._configure(),r=f._resolveDataElementOptions(e,t)):r=e._options,"inner"!==r.borderAlign&&(o=r.borderWidth,i=(c=r.hoverBorderWidth)>(i=o>i?o:i)?c:i);return i},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=fr(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=fr(r.hoverBorderColor,u(r.borderColor));i.borderWidth=fr(r.hoverBorderWidth,r.borderWidth)},_getRingWeightOffset:function(n){for(var i=0,t=0;t<n;++t)this.chart.isDatasetVisible(t)&&(i+=this._getRingWeight(t));return i},_getRingWeight:function(n){return Math.max(fr(this.chart.data.datasets[n].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});i._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});i._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var hc=io.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),ut=t.valueOrDefault,cc=t.options.resolve,cu=t.canvas._isPointInArea;i._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});lu=y.extend({datasetElementType:c.Line,dataElementType:c.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(n){var i,e,t=this,o=t.getMeta(),r=o.dataset,u=o.data||[],h=t.chart.options,f=t._config,s=t._showLine=ut(f.showLine,h.showLines);for(t._xScale=t.getScaleForId(o.xAxisID),t._yScale=t.getScaleForId(o.yAxisID),s&&(void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),r._scale=t._yScale,r._datasetIndex=t.index,r._children=u,r._model=t._resolveDatasetElementOptions(r),r.pivot()),i=0,e=u.length;i<e;++i)t.updateElement(u[i],i,n);for(s&&0!==r._model.tension&&t.updateBezierControlPoints(),i=0,e=u.length;i<e;++i)u[i].pivot()},updateElement:function(n,t,i){var e,o,u=this,v=u.getMeta(),c=n.custom||{},y=u.getDataset(),s=u.index,h=y.data[t],l=u._xScale,a=u._yScale,f=v.dataset._model,r=u._resolveDataElementOptions(n,t);e=l.getPixelForValue("object"==typeof h?h:NaN,t,s);o=i?a.getBasePixel():u.calculatePointY(h,t,s);n._xScale=l;n._yScale=a;n._options=r;n._datasetIndex=s;n._index=t;n._model={x:e,y:o,skip:c.skip||isNaN(e)||isNaN(o),radius:r.radius,pointStyle:r.pointStyle,rotation:r.rotation,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,tension:ut(c.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:r.hitRadius}},_resolveDatasetElementOptions:function(n){var i=this,r=i._config,e=n.custom||{},u=i.chart.options,f=u.elements.line,t=y.prototype._resolveDatasetElementOptions.apply(i,arguments);return t.spanGaps=ut(r.spanGaps,u.spanGaps),t.tension=ut(r.lineTension,f.tension),t.steppedLine=cc([e.steppedLine,r.steppedLine,f.stepped]),t.clip=ac(ut(r.clip,lc(i._xScale,i._yScale,t.borderWidth))),t},calculatePointY:function(n,t,i){var u,s,f,o,e,h,c,l=this.chart,r=this._yScale,a=0,v=0;if(r.options.stacked){for(e=+r.getRightValue(n),c=(h=l._getSortedVisibleDatasetMetas()).length,u=0;u<c&&(f=h[u]).index!==i;++u)s=l.data.datasets[f.index],"line"===f.type&&f.yAxisID===r.id&&((o=+r.getRightValue(s.data[t]))<0?v+=o||0:a+=o||0);return e<0?r.getPixelForValue(v+e):r.getPixelForValue(a+e)}return r.getPixelForValue(n)},updateBezierControlPoints:function(){function o(n,t,i){return Math.max(Math.min(n,i),t)}var i,e,n,f,h=this.chart,c=this.getMeta(),s=c.dataset._model,u=h.chartArea,r=c.data||[];if(s.spanGaps&&(r=r.filter(function(n){return!n._model.skip})),"monotone"===s.cubicInterpolationMode)t.splineCurveMonotone(r);else for(i=0,e=r.length;i<e;++i)n=r[i]._model,f=t.splineCurve(t.previousItem(r,i)._model,n,t.nextItem(r,i)._model,s.tension),n.controlPointPreviousX=f.previous.x,n.controlPointPreviousY=f.previous.y,n.controlPointNextX=f.next.x,n.controlPointNextY=f.next.y;if(h.options.elements.line.capBezierPoints)for(i=0,e=r.length;i<e;++i)n=r[i]._model,cu(n,u)&&(i>0&&cu(r[i-1]._model,u)&&(n.controlPointPreviousX=o(n.controlPointPreviousX,u.left,u.right),n.controlPointPreviousY=o(n.controlPointPreviousY,u.top,u.bottom)),i<r.length-1&&cu(r[i+1]._model,u)&&(n.controlPointNextX=o(n.controlPointNextX,u.left,u.right),n.controlPointNextY=o(n.controlPointNextY,u.top,u.bottom)))},draw:function(){var n,r=this.chart,u=this.getMeta(),e=u.data||[],i=r.chartArea,o=r.canvas,f=0,s=e.length;for(this._showLine&&(n=u.dataset._model.clip,t.canvas.clipArea(r.ctx,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?o.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?o.height:i.bottom+n.bottom}),u.dataset.draw(),t.canvas.unclipArea(r.ctx));f<s;++f)e[f].draw(i)},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=ut(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=ut(r.hoverBorderColor,u(r.borderColor));i.borderWidth=ut(r.hoverBorderWidth,r.borderWidth);i.radius=ut(r.hoverRadius,r.radius)}});uo=t.options.resolve;i._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(n){var t,u,f,i=document.createElement("ul"),e=n.data,r=e.datasets,o=e.labels;if(i.setAttribute("class",n.id+"-legend"),r.length)for(t=0,u=r[0].data.length;t<u;++t)(f=i.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[0].backgroundColor[t],o[t]&&f.appendChild(document.createTextNode(o[t]));return i.outerHTML},legend:{labels:{generateLabels:function(n){var t=n.data;return t.labels.length&&t.datasets.length?t.labels.map(function(i,r){var f=n.getDatasetMeta(0),u=f.controller.getStyle(r);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,lineWidth:u.borderWidth,hidden:isNaN(t.datasets[0].data[r])||f.data[r].hidden,index:r}}):[]}},onClick:function(n,t){for(var f,e=t.index,r=this.chart,i=0,u=(r.data.datasets||[]).length;i<u;++i)(f=r.getDatasetMeta(i)).data[e].hidden=!f.data[e].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(n,t){return t.labels[n.index]+": "+n.yLabel}}}});fo=y.extend({dataElementType:c.Arc,linkScales:t.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(n){var t,r,f,i=this,s=i.getDataset(),e=i.getMeta(),o=i.chart.options.startAngle||0,h=i._starts=[],c=i._angles=[],u=e.data;for(i._updateRadius(),e.count=i.countVisibleElements(),t=0,r=s.data.length;t<r;t++)h[t]=o,f=i._computeAngle(t),c[t]=f,o+=f;for(t=0,r=u.length;t<r;++t)u[t]._options=i._resolveDataElementOptions(u[t],t),i.updateElement(u[t],t,n)},_updateRadius:function(){var t=this,n=t.chart,i=n.chartArea,r=n.options,u=Math.min(i.right-i.left,i.bottom-i.top);n.outerRadius=Math.max(u/2,0);n.innerRadius=Math.max(r.cutoutPercentage?n.outerRadius/100*r.cutoutPercentage:1,0);n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount();t.outerRadius=n.outerRadius-n.radiusLength*t.index;t.innerRadius=t.outerRadius-n.radiusLength},updateElement:function(n,i,r){var u=this,o=u.chart,h=u.getDataset(),c=o.options,s=c.animation,f=o.scale,l=o.data.labels,y=f.xCenter,p=f.yCenter,a=c.startAngle,w=n.hidden?0:f.getDistanceFromCenterForValue(h.data[i]),v=u._starts[i],b=v+(n.hidden?0:u._angles[i]),k=s.animateScale?0:f.getDistanceFromCenterForValue(h.data[i]),e=n._options||{};t.extend(n,{_datasetIndex:u.index,_index:i,_scale:f,_model:{backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,borderAlign:e.borderAlign,x:y,y:p,innerRadius:0,outerRadius:r?k:w,startAngle:r&&s.animateRotate?a:v,endAngle:r&&s.animateRotate?a:b,label:t.valueAtIndexOrDefault(l,i,l[i])}});n.pivot()},countVisibleElements:function(){var i=this.getDataset(),r=this.getMeta(),n=0;return t.each(r.data,function(t,r){isNaN(i.data[r])||t.hidden||n++}),n},setHoverStyle:function(n){var i=n._model,r=n._options,f=t.getHoverColor,u=t.valueOrDefault;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth};i.backgroundColor=u(r.hoverBackgroundColor,f(r.backgroundColor));i.borderColor=u(r.hoverBorderColor,f(r.borderColor));i.borderWidth=u(r.hoverBorderWidth,r.borderWidth)},_computeAngle:function(n){var t=this,u=this.getMeta().count,i=t.getDataset(),f=t.getMeta(),r;return isNaN(i.data[n])||f.data[n].hidden?0:(r={chart:t.chart,dataIndex:n,dataset:i,datasetIndex:t.index},uo([t.chart.options.elements.arc.angle,2*Math.PI/u],r,n))}});i._set("pie",t.clone(i.doughnut));i._set("pie",{cutoutPercentage:0});eo=hu;ht=t.valueOrDefault;i._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});oo=y.extend({datasetElementType:c.Line,dataElementType:c.Point,linkScales:t.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(n){var t,f,i=this,o=i.getMeta(),r=o.dataset,u=o.data||[],s=i.chart.scale,e=i._config;for(void 0!==e.tension&&void 0===e.lineTension&&(e.lineTension=e.tension),r._scale=s,r._datasetIndex=i.index,r._children=u,r._loop=!0,r._model=i._resolveDatasetElementOptions(r),r.pivot(),t=0,f=u.length;t<f;++t)i.updateElement(u[t],t,n);for(i.updateBezierControlPoints(),t=0,f=u.length;t<f;++t)u[t].pivot()},updateElement:function(n,t,i){var u=this,e=n.custom||{},l=u.getDataset(),f=u.chart.scale,o=f.getPointPositionForValue(t,l.data[t]),r=u._resolveDataElementOptions(n,t),s=u.getMeta().dataset._model,h=i?f.xCenter:o.x,c=i?f.yCenter:o.y;n._scale=f;n._options=r;n._datasetIndex=u.index;n._index=t;n._model={x:h,y:c,skip:e.skip||isNaN(h)||isNaN(c),radius:r.radius,pointStyle:r.pointStyle,rotation:r.rotation,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,tension:ht(e.tension,s?s.tension:0),hitRadius:r.hitRadius}},_resolveDatasetElementOptions:function(){var n=this,i=n._config,r=n.chart.options,t=y.prototype._resolveDatasetElementOptions.apply(n,arguments);return t.spanGaps=ht(i.spanGaps,r.spanGaps),t.tension=ht(i.lineTension,r.elements.line.tension),t},updateBezierControlPoints:function(){function e(n,t,i){return Math.max(Math.min(n,i),t)}var r,o,i,f,s=this.getMeta(),n=this.chart.chartArea,u=s.data||[];for(s.dataset._model.spanGaps&&(u=u.filter(function(n){return!n._model.skip})),r=0,o=u.length;r<o;++r)i=u[r]._model,f=t.splineCurve(t.previousItem(u,r,!0)._model,i,t.nextItem(u,r,!0)._model,i.tension),i.controlPointPreviousX=e(f.previous.x,n.left,n.right),i.controlPointPreviousY=e(f.previous.y,n.top,n.bottom),i.controlPointNextX=e(f.next.x,n.left,n.right),i.controlPointNextY=e(f.next.y,n.top,n.bottom)},setHoverStyle:function(n){var i=n._model,r=n._options,u=t.getHoverColor;n.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius};i.backgroundColor=ht(r.hoverBackgroundColor,u(r.backgroundColor));i.borderColor=ht(r.hoverBorderColor,u(r.borderColor));i.borderWidth=ht(r.hoverBorderWidth,r.borderWidth);i.radius=ht(r.hoverRadius,r.radius)}});i._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(n){return"("+n.xLabel+", "+n.yLabel+")"}}}});i._set("global",{datasets:{scatter:{showLine:!1}}});au={bar:io,bubble:sc,doughnut:hu,horizontalBar:hc,line:lu,polarArea:fo,pie:eo,radar:oo,scatter:lu};kt={modes:{single:function(n,t){var r=bt(t,n),i=[];return li(n,function(n){if(n.inRange(r.x,r.y))return i.push(n),i}),i.slice(0,1)},label:wu,index:wu,dataset:function(n,t,i){var u=bt(t,n),f,r;return i.axis=i.axis||"xy",f=pu(i.axis),r=i.intersect?vu(n,u):yu(n,u,!1,f),r.length>0&&(r=n.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(n,t){return wu(n,t,{intersect:!1})},point:function(n,t){return vu(n,bt(t,n))},nearest:function(n,t,i){var u=bt(t,n),r;return i.axis=i.axis||"xy",r=pu(i.axis),yu(n,u,i.intersect,r)},x:function(n,t,i){var r=bt(t,n),u=[],f=!1;return li(n,function(n){n.inXRange(r.x)&&u.push(n);n.inRange(r.x,r.y)&&(f=!0)}),i.intersect&&!f&&(u=[]),u},y:function(n,t,i){var r=bt(t,n),u=[],f=!1;return li(n,function(n){n.inYRange(r.y)&&u.push(n);n.inRange(r.x,r.y)&&(f=!0)}),i.intersect&&!f&&(u=[]),u}}};er=t.extend;i._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var bu,b={defaults:{},addBox:function(n,t){n.boxes||(n.boxes=[]);t.fullWidth=t.fullWidth||!1;t.position=t.position||"top";t.weight=t.weight||0;t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]};n.boxes.push(t)},removeBox:function(n,t){var i=n.boxes?n.boxes.indexOf(t):-1;-1!==i&&n.boxes.splice(i,1)},configure:function(n,t,i){for(var r,f=["fullWidth","position","weight"],e=f.length,u=0;u<e;++u)r=f[u],i.hasOwnProperty(r)&&(t[r]=i[r])},update:function(n,i,r){if(n){var a=n.options.layout||{},f=t.options.toPadding(a.padding),h=i-f.width,c=r-f.height,o=function(n){var t=function(n){for(var i,u=[],t=0,r=(n||[]).length;t<r;++t)i=n[t],u.push({index:t,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return u}(n),i=or(ai(t,"left"),!0),r=or(ai(t,"right")),u=or(ai(t,"top"),!0),f=or(ai(t,"bottom"));return{leftAndTop:i.concat(u),rightAndBottom:r.concat(f),chartArea:ai(t,"chartArea"),vertical:i.concat(r),horizontal:u.concat(f)}}(n.boxes),s=o.vertical,l=o.horizontal,e=Object.freeze({outerWidth:i,outerHeight:r,padding:f,availableWidth:h,vBoxMaxWidth:h/2/s.length,hBoxMaxHeight:c/2}),u=er({maxPadding:er({},f),w:h,h:c,x:f.left,y:f.top},f);!function(n,t){for(var i,r=0,u=n.length;r<u;++r)(i=n[r]).width=i.horizontal?i.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,i.height=i.horizontal&&t.hBoxMaxHeight}(s.concat(l),e);sr(s,u,e);sr(l,u,e)&&sr(s,u,e),function(n){function t(t){var r=Math.max(i[t]-n[t],0);return n[t]+=r,r}var i=n.maxPadding;n.y+=t("top");n.x+=t("left");t("right");t("bottom")}(u);ho(o.leftAndTop,u,e);u.x+=u.w;u.y+=u.h;ho(o.rightAndBottom,u,e);n.chartArea={left:u.left,top:u.top,right:u.left+u.w,bottom:u.top+u.h};t.each(o.chartArea,function(t){var i=t.box;er(i,n.chartArea);i.update(u.w,u.h)})}}},pc=(bu=Object.freeze({__proto__:null,"default":"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&bu.default||bu,o="$chartjs",ku="chartjs-size-monitor",co="chartjs-render-monitor",wc="chartjs-render-animation",lo=["animationstart","webkitAnimationStart"],bc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};du=!!function(){var n=!1,t;try{t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("e",null,t)}catch(n){}return n}()&&{passive:!0};tf={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(n){if(!this.disableCSSInjection){var t=n.getRootNode?n.getRootNode():document;!function(n,t){var r=n[o]||(n[o]={}),i;r.containsStyles||(r.containsStyles=!0,t="/* Chart.js */\n"+t,i=document.createElement("style"),i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),n.appendChild(i))}(t.host?t:document.head,pc)}},acquireContext:function(n,t){"string"==typeof n?n=document.getElementById(n):n.length&&(n=n[0]);n&&n.canvas&&(n=n.canvas);var i=n&&n.getContext&&n.getContext("2d");return i&&i.canvas===n?(this._ensureLoaded(n),function(n,t){var i=n.style,u=n.getAttribute("height"),f=n.getAttribute("width"),r,e;(n[o]={initial:{height:u,width:f,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===f||""===f)&&(r=ao(n,"width"),void 0!==r&&(n.width=r));(null===u||""===u)&&(""===n.style.height?n.height=n.width/(t.options.aspectRatio||2):(e=ao(n,"height"),void 0!==r&&(n.height=e)))}(n,t),i):null},releaseContext:function(n){var i=n.canvas,r;i[o]&&(r=i[o].initial,["height","width"].forEach(function(n){var u=r[n];t.isNullOrUndef(u)?i.removeAttribute(n):i.setAttribute(n,u)}),t.each(r.style||{},function(n,t){i.style[t]=n}),i.width=i.width,delete i[o])},addEventListener:function(n,i,r){var f=n.canvas,u;"resize"!==i?(u=r[o]||(r[o]={}),vi(f,i,(u.proxies||(u.proxies={}))[n.id+"_"+i]=function(i){r(function(n,i){var u=bc[n.type]||n.type,r=t.getRelativePosition(n,i);return nf(u,i,r.x,r.y,n)}(i,n))})):kc(f,r,n)},removeEventListener:function(n,t,i){var u=n.canvas,r;"resize"!==t?(r=((i[o]||{}).proxies||{})[n.id+"_"+t],r&&gu(u,t,r)):dc(u)}};t.addEvent=vi;t.removeEvent=gu;vo=tf._enabled?tf:{acquireContext:function(n){return n&&n.canvas&&(n=n.canvas),n&&n.getContext("2d")||null}};dt=t.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},vo);i._set("global",{plugins:{}});var f={_plugins:[],_cacheId:0,register:function(n){var t=this._plugins;[].concat(n).forEach(function(n){-1===t.indexOf(n)&&t.push(n)});this._cacheId++},unregister:function(n){var t=this._plugins;[].concat(n).forEach(function(n){var i=t.indexOf(n);-1!==i&&t.splice(i,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(n,t,i){for(var u,f,e,o,s=this.descriptors(n),h=s.length,r=0;r<h;++r)if("function"==typeof(o=(f=(u=s[r]).plugin)[t])&&((e=[n].concat(i||[])).push(u.options),!1===o.apply(f,e)))return!1;return!0},descriptors:function(n){var r=n.$plugins||(n.$plugins={});if(r.id===this._cacheId)return r.descriptors;var e=[],u=[],f=n&&n.config||{},o=f.options&&f.options.plugins||{};return this._plugins.concat(f.plugins||[]).forEach(function(n){if(-1===e.indexOf(n)){var f=n.id,r=o[f];!1!==r&&(!0===r&&(r=t.clone(i.global.plugins[f])),e.push(n),u.push({plugin:n,options:r||{}}))}}),r.descriptors=u,r.id=this._cacheId,u},_invalidate:function(n){delete n.$plugins}},pi={constructors:{},defaults:{},registerScaleType:function(n,i,r){this.constructors[n]=i;this.defaults[n]=t.clone(r)},getScaleConstructor:function(n){if(this.constructors.hasOwnProperty(n))return this.constructors[n]},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.merge({},[i.scale,this.defaults[n]]):{}},updateScaleDefaults:function(n,i){this.defaults.hasOwnProperty(n)&&(this.defaults[n]=t.extend(this.defaults[n],i))},addScalesToLayout:function(n){t.each(n.scales,function(t){t.fullWidth=t.options.fullWidth;t.position=t.options.position;t.weight=t.options.weight;b.addBox(n,t)})}},ft=t.valueOrDefault,rf=t.rtl.getRtlAdapter;i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:t.noop,title:function(n,t){var r="",u=t.labels,f=u?u.length:0,i;return n.length>0&&(i=n[0],i.label?r=i.label:i.xLabel?r=i.xLabel:f>0&&i.index<f&&(r=u[i.index])),r},afterTitle:t.noop,beforeBody:t.noop,beforeLabel:t.noop,label:function(n,i){var r=i.datasets[n.datasetIndex].label||"";return r&&(r+=": "),r+=t.isNullOrUndef(n.value)?n.yLabel:n.value,r},labelColor:function(n,t){var i=t.getDatasetMeta(n.datasetIndex).data[n.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:t.noop,afterBody:t.noop,beforeFooter:t.noop,footer:t.noop,afterFooter:t.noop}}});uf={average:function(n){var i,u;if(!n.length)return!1;for(var e=0,o=0,r=0,t=0,f=n.length;t<f;++t)i=n[t],i&&i.hasValue()&&(u=i.tooltipPosition(),e+=u.x,o+=u.y,++r);return{x:e/r,y:o/r}},nearest:function(n,i){for(var f,h=i.x,c=i.y,l=Number.POSITIVE_INFINITY,r,a,e,o,u=0,s=n.length;u<s;++u)r=n[u],r&&r.hasValue()&&(a=r.getCenterPoint(),e=t.distanceBetweenPoints(i,a),e<l&&(l=e,f=r));return f&&(o=f.tooltipPosition(),h=o.x,c=o.y),{x:h,y:c}}};var gc=nt.extend({initialize:function(){this._model=yo(this._options);this._lastActive=[]},getTitle:function(){var t=this,r=t._options,i=r.callbacks,u=i.beforeTitle.apply(t,arguments),f=i.title.apply(t,arguments),e=i.afterTitle.apply(t,arguments),n=[];return n=tt(n,et(u)),n=tt(n,et(f)),n=tt(n,et(e))},getBeforeBody:function(){return po(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(n,i){var r=this,u=r._options.callbacks,f=[];return t.each(n,function(n){var t={before:[],lines:[],after:[]};tt(t.before,et(u.beforeLabel.call(r,n,i)));tt(t.lines,u.label.call(r,n,i));tt(t.after,et(u.afterLabel.call(r,n,i)));f.push(t)}),f},getAfterBody:function(){return po(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,i=t._options.callbacks,r=i.beforeFooter.apply(t,arguments),u=i.footer.apply(t,arguments),f=i.afterFooter.apply(t,arguments),n=[];return n=tt(n,et(r)),n=tt(n,et(u)),n=tt(n,et(f))},update:function(n){var v,rt,e,y,p,h,o,w,b,k,r=this,f=r._options,s=r._model,i=r._model=yo(f),d=r._active,c=r._data,g={xAlign:s.xAlign,yAlign:s.yAlign},nt={x:s.x,y:s.y},l={width:s.width,height:s.height},a={x:s.caretX,y:s.caretY},tt,it,u;if(d.length){for(i.opacity=1,tt=[],it=[],a=uf[f.position].call(r,d,r._eventPosition),u=[],v=0,rt=d.length;v<rt;++v)u.push((e=d[v],y=void 0,p=void 0,h=void 0,o=void 0,w=void 0,b=void 0,k=void 0,y=e._xScale,p=e._yScale||e._scale,h=e._index,o=e._datasetIndex,w=e._chart.getDatasetMeta(o).controller,b=w._getIndexScale(),k=w._getValueScale(),{xLabel:y?y.getLabelForIndex(h,o):"",yLabel:p?p.getLabelForIndex(h,o):"",label:b?""+b.getLabelForIndex(h,o):"",value:k?""+k.getLabelForIndex(h,o):"",index:h,datasetIndex:o,x:e._model.x,y:e._model.y}));f.filter&&(u=u.filter(function(n){return f.filter(n,c)}));f.itemSort&&(u=u.sort(function(n,t){return f.itemSort(n,t,c)}));t.each(u,function(n){tt.push(f.callbacks.labelColor.call(r,n,r._chart));it.push(f.callbacks.labelTextColor.call(r,n,r._chart))});i.title=r.getTitle(u,c);i.beforeBody=r.getBeforeBody(u,c);i.body=r.getBody(u,c);i.afterBody=r.getAfterBody(u,c);i.footer=r.getFooter(u,c);i.x=a.x;i.y=a.y;i.caretPadding=f.caretPadding;i.labelColors=tt;i.labelTextColors=it;i.dataPoints=u;l=function(n,i){var f=n._chart.ctx,r=2*i.yPadding,c=0,a=i.body,e=a.reduce(function(n,t){return n+t.before.length+t.lines.length+t.after.length},0),h,u;e+=i.beforeBody.length+i.afterBody.length;var o=i.title.length,s=i.footer.length,v=i.titleFontSize,l=i.bodyFontSize,y=i.footerFontSize;return r+=o*v,r+=o?(o-1)*i.titleSpacing:0,r+=o?i.titleMarginBottom:0,r+=e*l,r+=e?(e-1)*i.bodySpacing:0,r+=s?i.footerMarginTop:0,r+=s*y,r+=s?(s-1)*i.footerSpacing:0,h=0,u=function(n){c=Math.max(c,f.measureText(n).width+h)},f.font=t.fontString(v,i._titleFontStyle,i._titleFontFamily),t.each(i.title,u),f.font=t.fontString(l,i._bodyFontStyle,i._bodyFontFamily),t.each(i.beforeBody.concat(i.afterBody),u),h=i.displayColors?l+2:0,t.each(a,function(n){t.each(n.before,u);t.each(n.lines,u);t.each(n.after,u)}),h=0,f.font=t.fontString(y,i._footerFontStyle,i._footerFontFamily),t.each(i.footer,u),{width:c+=2*i.xPadding,height:r}}(this,i);nt=function(n,t,i,r){var u=n.x,o=n.y,l=n.caretSize,h=n.caretPadding,a=n.cornerRadius,f=i.xAlign,s=i.yAlign,e=l+h,c=a+h;return"right"===f?u-=t.width:"center"===f&&((u-=t.width/2)+t.width>r.width&&(u=r.width-t.width),u<0&&(u=0)),"top"===s?o+=e:o-="bottom"===s?t.height+e:t.height/2,"center"===s?"left"===f?u+=e:"right"===f&&(u-=e):"left"===f?u-=c:"right"===f&&(u+=c),{x:u,y:o}}(i,l,g=function(n,t){var o,s,a,v,h,i=n._model,c=n._chart,e=n._chart.chartArea,u="center",r="center",l,y,f;return i.y<t.height?r="top":i.y>c.height-t.height&&(r="bottom"),l=(e.left+e.right)/2,y=(e.top+e.bottom)/2,"center"===r?(o=function(n){return n<=l},s=function(n){return n>l}):(o=function(n){return n<=t.width/2},s=function(n){return n>=c.width-t.width/2}),a=function(n){return n+t.width+i.caretSize+i.caretPadding>c.width},v=function(n){return n-t.width-i.caretSize-i.caretPadding<0},h=function(n){return n<=y?"top":"bottom"},o(i.x)?(u="left",a(i.x)&&(u="center",r=h(i.y))):s(i.x)&&(u="right",v(i.x)&&(u="center",r=h(i.y))),f=n._options,{xAlign:f.xAlign?f.xAlign:u,yAlign:f.yAlign?f.yAlign:r}}(this,l),r._chart)}else i.opacity=0;return i.xAlign=g.xAlign,i.yAlign=g.yAlign,i.x=nt.x,i.y=nt.y,i.width=l.width,i.height=l.height,i.caretX=a.x,i.caretY=a.y,r._model=i,n&&f.custom&&f.custom.call(r,i),r},drawCaret:function(n,t){var r=this._chart.ctx,u=this._view,i=this.getCaretPosition(n,t,u);r.lineTo(i.x1,i.y1);r.lineTo(i.x2,i.y2);r.lineTo(i.x3,i.y3)},getCaretPosition:function(n,t,i){var u,f,e,s,o,h,r=i.caretSize,v=i.cornerRadius,l=i.xAlign,y=i.yAlign,c=n.x,a=n.y,p=t.width,w=t.height,b;return"center"===y?(o=a+w/2,"left"===l?(f=(u=c)-r,e=u,s=o+r,h=o-r):(f=(u=c+p)+r,e=u,s=o-r,h=o+r)):("left"===l?(u=(f=c+v+r)-r,e=f+r):"right"===l?(u=(f=c+p-v-r)-r,e=f+r):(u=(f=i.caretX)-r,e=f+r),"top"===y)?(o=(s=a)-r,h=s):(o=(s=a+w)+r,h=s,b=e,e=u,u=b),{x1:u,x2:f,x3:e,y1:s,y2:o,y3:h}},drawTitle:function(n,i,r){var f,e,u,h=i.title,o=h.length,s;if(o)for(s=rf(i.rtl,i.x,i.width),n.x=hr(i,i._titleAlign),r.textAlign=s.textAlign(i._titleAlign),r.textBaseline="middle",f=i.titleFontSize,e=i.titleSpacing,r.fillStyle=i.titleFontColor,r.font=t.fontString(f,i._titleFontStyle,i._titleFontFamily),u=0;u<o;++u)r.fillText(h[u],s.x(n.x),n.y+f/2),n.y+=f+e,u+1===o&&(n.y+=i.titleMarginBottom-e)},drawBody:function(n,i,r){var s,l,a,w,e,h,b,k,u=i.bodyFontSize,d=i.bodySpacing,v=i._bodyAlign,g=i.body,y=i.displayColors,p=0,tt=y?hr(i,"left"):0,f=rf(i.rtl,i.x,i.width),o=function(t){r.fillText(t,f.x(n.x+p),n.y+u/2);n.y+=u+d},nt=f.textAlign(v),c;for(r.textAlign=v,r.textBaseline="middle",r.font=t.fontString(u,i._bodyFontStyle,i._bodyFontFamily),n.x=hr(i,nt),r.fillStyle=i.bodyFontColor,t.each(i.beforeBody,o),p=y&&"right"!==nt?"center"===v?u/2+1:u+2:0,e=0,b=g.length;e<b;++e){for(s=g[e],l=i.labelTextColors[e],a=i.labelColors[e],r.fillStyle=l,t.each(s.before,o),h=0,k=(w=s.lines).length;h<k;++h)y&&(c=f.x(tt),r.fillStyle=i.legendColorBackground,r.fillRect(f.leftForLtr(c,u),n.y,u,u),r.lineWidth=1,r.strokeStyle=a.borderColor,r.strokeRect(f.leftForLtr(c,u),n.y,u,u),r.fillStyle=a.backgroundColor,r.fillRect(f.leftForLtr(f.xPlus(c,1),u-2),n.y+1,u-2,u-2),r.fillStyle=l),o(w[h]);t.each(s.after,o)}p=0;t.each(i.afterBody,o);n.y-=d},drawFooter:function(n,i,r){var u,f,o=i.footer,s=o.length,e;if(s)for(e=rf(i.rtl,i.x,i.width),n.x=hr(i,i._footerAlign),n.y+=i.footerMarginTop,r.textAlign=e.textAlign(i._footerAlign),r.textBaseline="middle",u=i.footerFontSize,r.fillStyle=i.footerFontColor,r.font=t.fontString(u,i._footerFontStyle,i._footerFontFamily),f=0;f<s;++f)r.fillText(o[f],e.x(n.x),n.y+u/2),n.y+=u+i.footerSpacing},drawBackground:function(n,t,i,r){i.fillStyle=t.backgroundColor;i.strokeStyle=t.borderColor;i.lineWidth=t.borderWidth;var c=t.xAlign,h=t.yAlign,u=n.x,f=n.y,o=r.width,s=r.height,e=t.cornerRadius;i.beginPath();i.moveTo(u+e,f);"top"===h&&this.drawCaret(n,r);i.lineTo(u+o-e,f);i.quadraticCurveTo(u+o,f,u+o,f+e);"center"===h&&"right"===c&&this.drawCaret(n,r);i.lineTo(u+o,f+s-e);i.quadraticCurveTo(u+o,f+s,u+o-e,f+s);"bottom"===h&&this.drawCaret(n,r);i.lineTo(u+e,f+s);i.quadraticCurveTo(u,f+s,u,f+s-e);"center"===h&&"left"===c&&this.drawCaret(n,r);i.lineTo(u,f+e);i.quadraticCurveTo(u,f,u+e,f);i.closePath();i.fill();t.borderWidth>0&&i.stroke()},draw:function(){var i=this._chart.ctx,n=this._view;if(0!==n.opacity){var u={width:n.width,height:n.height},r={x:n.x,y:n.y},f=Math.abs(n.opacity<.001)?0:n.opacity,e=n.title.length||n.beforeBody.length||n.body.length||n.afterBody.length||n.footer.length;this._options.enabled&&e&&(i.save(),i.globalAlpha=f,this.drawBackground(r,n,i,u),r.y+=n.yPadding,t.rtl.overrideTextDirection(i,n.textDirection),this.drawTitle(r,n,i),this.drawBody(r,n,i),this.drawFooter(r,n,i),t.rtl.restoreTextDirection(i,n.textDirection),i.restore())}},handleEvent:function(n){var u,i=this,r=i._options;return i._lastActive=i._lastActive||[],"mouseout"===n.type?i._active=[]:(i._active=i._chart.getElementsAtEventForMode(n,r.mode,r),r.reverse&&i._active.reverse()),(u=!t.arrayEquals(i._active,i._lastActive))&&(i._lastActive=i._active,(r.enabled||r.custom)&&(i._eventPosition={x:n.x,y:n.y},i.update(!0),i.pivot())),u}}),nl=uf,ff=gc;ff.positioners=nl;cr=t.valueOrDefault;i._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});ot=function(n,t){return this.construct(n,t),this};t.extend(ot.prototype,{construct:function(n,r){var u=this;r=function(n){var t=(n=n||{}).data=n.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],n.options=ef(i.global,i[n.type],n.options||{}),n}(r);var e=dt.acquireContext(n,r),f=e&&e.canvas,o=f&&f.height,s=f&&f.width;u.id=t.uid();u.ctx=e;u.canvas=f;u.config=r;u.width=s;u.height=o;u.aspectRatio=o?s/o:null;u.options=r.options;u._bufferedRender=!1;u._layers=[];u.chart=u;u.controller=u;ot.instances[u.id]=u;Object.defineProperty(u,"data",{get:function(){return u.config.data},set:function(n){u.config.data=n}});e&&f?(u.initialize(),u.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var n=this;return f.notify(n,"beforeInit"),t.retinaScale(n,n.options.devicePixelRatio),n.bindEvents(),n.options.responsive&&n.resize(!0),n.initToolTip(),f.notify(n,"afterInit"),n},clear:function(){return t.canvas.clear(this),this},stop:function(){return eu.cancelAnimation(this),this},resize:function(n){var i=this,u=i.options,r=i.canvas,h=u.maintainAspectRatio&&i.aspectRatio||null,e=Math.max(0,Math.floor(t.getMaximumWidth(r))),o=Math.max(0,Math.floor(h?e/h:t.getMaximumHeight(r))),s;i.width===e&&i.height===o||(r.width=i.width=e,r.height=i.height=o,r.style.width=e+"px",r.style.height=o+"px",t.retinaScale(i,u.devicePixelRatio),n)||(s={width:e,height:o},f.notify(i,"resize",[s]),u.onResize&&u.onResize(i,s),i.stop(),i.update({duration:u.responsiveAnimationDuration}))},ensureScalesHaveIDs:function(){var r=this.options,n=r.scales||{},i=r.scale;t.each(n.xAxes,function(t,i){t.id||(t.id=bo(n.xAxes,"x-axis-",i))});t.each(n.yAxes,function(t,i){t.id||(t.id=bo(n.yAxes,"y-axis-",i))});i&&(i.id=i.id||"scale")},buildOrUpdateScales:function(){var n=this,r=n.options,i=n.scales||{},u=[],f=Object.keys(i).reduce(function(n,t){return n[t]=!1,n},{});r.scales&&(u=u.concat((r.scales.xAxes||[]).map(function(n){return{options:n,dtype:"category",dposition:"bottom"}}),(r.scales.yAxes||[]).map(function(n){return{options:n,dtype:"linear",dposition:"left"}})));r.scale&&u.push({options:r.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"});t.each(u,function(t){var u=t.options,e=u.id,o=cr(u.type,t.dtype),r,s;if(ko(u.position)!==ko(t.dposition)&&(u.position=t.dposition),f[e]=!0,r=null,e in i&&i[e].type===o)(r=i[e]).options=u,r.ctx=n.ctx,r.chart=n;else{if(s=pi.getScaleConstructor(o),!s)return;r=new s({id:e,type:o,options:u,ctx:n.ctx,chart:n});i[r.id]=r}r.mergeTicksOptions();t.isDefault&&(n.scale=r)});t.each(f,function(n,t){n||delete i[t]});n.scales=i;pi.addScalesToLayout(this)},buildOrUpdateControllers:function(){for(var i=this,f=[],e=i.data.datasets,r,t=0,u=e.length;t<u;t++){var o=e[t],n=i.getDatasetMeta(t),s=o.type||i.config.type;if(n.type&&n.type!==s&&(i.destroyDatasetMeta(t),n=i.getDatasetMeta(t)),n.type=s,n.order=o.order||0,n.index=t,n.controller)n.controller.updateIndex(t),n.controller.linkScales();else{if(r=au[n.type],void 0===r)throw new Error('"'+n.type+'" is not a chart type.');n.controller=new r(i,t);f.push(n.controller)}}return f},resetElements:function(){var n=this;t.each(n.data.datasets,function(t,i){n.getDatasetMeta(i).controller.reset()},n)},reset:function(){this.resetElements();this.tooltip.initialize()},update:function(n){var r,u,i=this,e;if(n&&"object"==typeof n||(n={duration:n,lazy:arguments[1]}),tl(i),f._invalidate(i),!1!==f.notify(i,"beforeUpdate")){for(i.tooltip._data=i.data,e=i.buildOrUpdateControllers(),r=0,u=i.data.datasets.length;r<u;r++)i.getDatasetMeta(r).controller.buildOrUpdateElements();i.updateLayout();i.options.animation&&i.options.animation.duration&&t.each(e,function(n){n.reset()});i.updateDatasets();i.tooltip.initialize();i.lastActive=[];f.notify(i,"afterUpdate");i._layers.sort(go("z","_idx"));i._bufferedRender?i._bufferedRequest={duration:n.duration,easing:n.easing,lazy:n.lazy}:i.render(n)}},updateLayout:function(){var n=this;!1!==f.notify(n,"beforeLayout")&&(b.update(this,this.width,this.height),n._layers=[],t.each(n.boxes,function(t){t._configure&&t._configure();n._layers.push.apply(n._layers,t._layers())},n),n._layers.forEach(function(n,t){n._idx=t}),f.notify(n,"afterScaleUpdate"),f.notify(n,"afterLayout"))},updateDatasets:function(){if(!1!==f.notify(this,"beforeDatasetsUpdate")){for(var n=0,t=this.data.datasets.length;n<t;++n)this.updateDataset(n);f.notify(this,"afterDatasetsUpdate")}},updateDataset:function(n){var t=this.getDatasetMeta(n),i={meta:t,index:n};!1!==f.notify(this,"beforeDatasetUpdate",[i])&&(t.controller._update(),f.notify(this,"afterDatasetUpdate",[i]))},render:function(n){var i=this,e,o;n&&"object"==typeof n||(n={duration:n,lazy:arguments[1]});var r=i.options.animation,u=cr(n.duration,r&&r.duration),s=n.lazy;if(!1!==f.notify(i,"beforeRender"))return e=function(n){f.notify(i,"afterRender");t.callback(r&&r.onComplete,[n],i)},r&&u?(o=new fu({numSteps:u/16.66,easing:n.easing||r.easing,render:function(n,i){var f=t.easing.effects[i.easing],r=i.currentStep,u=r/i.numSteps;n.draw(f(u),u,r)},onAnimationProgress:r.onProgress,onAnimationComplete:e}),eu.addAnimation(i,o,u,s)):(i.draw(),e(new fu({numSteps:0,chart:i}))),i},draw:function(n){var r,u,i=this;if(i.clear(),t.isNullOrUndef(n)&&(n=1),i.transition(n),!(i.width<=0||i.height<=0)&&!1!==f.notify(i,"beforeDraw",[n])){for(u=i._layers,r=0;r<u.length&&u[r].z<=0;++r)u[r].draw(i.chartArea);for(i.drawDatasets(n);r<u.length;++r)u[r].draw(i.chartArea);i._drawTooltip(n);f.notify(i,"afterDraw",[n])}},transition:function(n){for(var t=0,i=(this.data.datasets||[]).length;t<i;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(n);this.tooltip.transition(n)},_getSortedDatasetMetas:function(n){for(var i=[],t=0,r=(this.data.datasets||[]).length;t<r;++t)n&&!this.isDatasetVisible(t)||i.push(this.getDatasetMeta(t));return i.sort(go("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(n){var i,t;if(!1!==f.notify(this,"beforeDatasetsDraw",[n])){for(t=(i=this._getSortedVisibleDatasetMetas()).length-1;t>=0;--t)this.drawDataset(i[t],n);f.notify(this,"afterDatasetsDraw",[n])}},drawDataset:function(n,t){var i={meta:n,index:n.index,easingValue:t};!1!==f.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(t),f.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(n){var t=this.tooltip,i={tooltip:t,easingValue:n};!1!==f.notify(this,"beforeTooltipDraw",[i])&&(t.draw(),f.notify(this,"afterTooltipDraw",[i]))},getElementAtEvent:function(n){return kt.modes.single(this,n)},getElementsAtEvent:function(n){return kt.modes.label(this,n,{intersect:!0})},getElementsAtXAxis:function(n){return kt.modes["x-axis"](this,n,{intersect:!0})},getElementsAtEventForMode:function(n,t,i){var r=kt.modes[t];return"function"==typeof r?r(this,n,i):[]},getDatasetAtEvent:function(n){return kt.modes.dataset(this,n,{intersect:!0})},getDatasetMeta:function(n){var t=this.data.datasets[n],i;return t._meta||(t._meta={}),i=t._meta[this.id],i||(i=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:n}),i},getVisibleDatasetCount:function(){for(var t=0,n=0,i=this.data.datasets.length;n<i;++n)this.isDatasetVisible(n)&&t++;return t},isDatasetVisible:function(n){var t=this.getDatasetMeta(n);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[n].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(n){var i=this.id,t=this.data.datasets[n],r=t._meta&&t._meta[i];r&&(r.controller.destroy(),delete t._meta[i])},destroy:function(){var i,r,n=this,u=n.canvas;for(n.stop(),i=0,r=n.data.datasets.length;i<r;++i)n.destroyDatasetMeta(i);u&&(n.unbindEvents(),t.canvas.clear(n),dt.releaseContext(n.ctx),n.canvas=null,n.ctx=null);f.notify(n,"destroy");delete ot.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var n=this;n.tooltip=new ff({_chart:n,_chartInstance:n,_data:n.data,_options:n.options.tooltips},n)},bindEvents:function(){var n=this,r=n._listeners={},i=function(){n.eventHandler.apply(n,arguments)};t.each(n.options.events,function(t){dt.addEventListener(n,t,i);r[t]=i});n.options.responsive&&(i=function(){n.resize()},dt.addEventListener(n,"resize",i),r.resize=i)},unbindEvents:function(){var n=this,i=n._listeners;i&&(delete n._listeners,t.each(i,function(t,i){dt.removeEventListener(n,i,t)}))},updateHoverStyle:function(n,t,i){for(var u,e=i?"set":"remove",r=0,f=n.length;r<f;++r)(u=n[r])&&this.getDatasetMeta(u._datasetIndex).controller[e+"HoverStyle"](u);"dataset"===t&&this.getDatasetMeta(n[0]._datasetIndex).controller["_"+e+"DatasetHoverStyle"]()},eventHandler:function(n){var t=this,i=t.tooltip,r,u;if(!1!==f.notify(t,"beforeEvent",[n]))return t._bufferedRender=!0,t._bufferedRequest=null,r=t.handleEvent(n),i&&(r=i._start?i.handleEvent(n):r|i.handleEvent(n)),f.notify(t,"afterEvent",[n]),u=t._bufferedRequest,u?t.render(u):r&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t},handleEvent:function(n){var f,i=this,r=i.options||{},u=r.hover;return i.lastActive=i.lastActive||[],i.active="mouseout"===n.type?[]:i.getElementsAtEventForMode(n,u.mode,u),t.callback(r.onHover||r.hover.onHover,[n.native,i.active],i),"mouseup"!==n.type&&"click"!==n.type||r.onClick&&r.onClick.call(i,n.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,u.mode,!1),i.active.length&&u.mode&&i.updateHoverStyle(i.active,u.mode,!0),f=!t.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,f}});ot.instances={};r=ot;ot.Controller=ot;ot.types={};t.configMerge=ef;t.scaleMerge=wo;t.extend(lr.prototype,{formats:gt,parse:gt,format:gt,add:gt,diff:gt,startOf:gt,endOf:gt,_create:function(n){return n}});lr.override=function(n){t.extend(lr.prototype,n)};var of={_date:lr},wi={formatters:{values:function(n){return t.isArray(n)?n:""+n},linear:function(n,i,r){var o=r.length>3?r[2]-r[1]:r[1]-r[0],s,u,h,f,e;return Math.abs(o)>1&&n!==Math.floor(n)&&(o=n-Math.floor(n)),s=t.log10(Math.abs(o)),u="",0!==n?Math.max(Math.abs(r[0]),Math.abs(r[r.length-1]))<.0001?(h=t.log10(Math.abs(n)),f=Math.floor(h)-Math.floor(s),f=Math.max(Math.min(f,20),0),u=n.toExponential(f)):(e=-1*Math.floor(s),e=Math.max(Math.min(e,20),0),u=n.toFixed(e)):u="0",u},logarithmic:function(n,i,r){var u=n/Math.pow(10,Math.floor(t.log10(n)));return 0===n?"0":1===u||2===u||5===u||0===i||i===r.length-1?n.toExponential():""}}},ni=t.isArray,bi=t.isNullOrUndef,ti=t.valueOrDefault,oi=t.valueAtIndexOrDefault;i._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:wi.formatters.values,minor:{},major:{}}});vr=nt.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){t.callback(this.options.beforeUpdate,[this])},update:function(n,i,r){var e,c,s,f,h,u=this,o=u.options.ticks,l=o.sampleSize;if(u.beforeUpdate(),u.maxWidth=n,u.maxHeight=i,u.margins=t.extend({left:0,right:0,top:0,bottom:0},r),u._ticks=null,u.ticks=null,u._labelSizes=null,u._maxLabelLines=0,u.longestLabelWidth=0,u.longestTextCache=u.longestTextCache||{},u._gridLineItems=null,u._labelItems=null,u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),f=u.buildTicks()||[],(!(f=u.afterBuildTicks(f)||f)||!f.length)&&u.ticks)for(f=[],e=0,c=u.ticks.length;e<c;++e)f.push({value:u.ticks[e],major:!1});return u._ticks=f,h=l<f.length,s=u._convertTicksToLabels(h?function(n,t){for(var r=[],u=n.length/t,i=0,f=n.length;i<f;i+=u)r.push(n[Math.floor(i)]);return r}(f,l):f),u._configure(),u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u._ticksToDraw=o.display&&(o.autoSkip||"auto"===o.source)?u._autoSkip(f):f,h&&(s=u._convertTicksToLabels(u._ticksToDraw)),u.ticks=s,u.afterUpdate(),u.minSize},_configure:function(){var t,i,n=this,r=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,i=n.right):(t=n.top,i=n.bottom,r=!r);n._startPixel=t;n._endPixel=i;n._reversePixels=r;n._length=i-t},afterUpdate:function(){t.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0},afterSetDimensions:function(){t.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(n){var i=this;return ni(n)&&n.length?t.callback(i.options.afterBuildTicks,[i,n]):(i.ticks=t.callback(i.options.afterBuildTicks,[i,i.ticks])||i.ticks,n)},beforeTickToLabelConversion:function(){t.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var n=this.options.ticks;this.ticks=this.ticks.map(n.userCallback||n.callback,this)},afterTickToLabelConversion:function(){t.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var u,i,f,c,l,v,a,n=this,r=n.options,e=r.ticks,o=n.getTicks().length,s=e.minRotation||0,y=e.maxRotation,h=s;!n._isVisible()||!e.display||s>=y||o<=1||!n.isHorizontal()?n.labelRotation=s:(i=(u=n._getLabelSizes()).widest.width,f=u.highest.height-u.highest.offset,c=Math.min(n.maxWidth,n.chart.width-i),i+6>(l=r.offset?n.maxWidth/o:c/(o-1))&&(l=c/(o-(r.offset?.5:1)),v=n.maxHeight-ki(r.gridLines)-e.padding-sf(r.scaleLabel),a=Math.sqrt(i*i+f*f),h=t.toDegrees(Math.min(Math.asin(Math.min((u.highest.height+6)/l,1)),Math.asin(Math.min(v/a,1))-Math.asin(f/a))),h=Math.max(s,Math.min(y,h))),n.labelRotation=h)},afterCalculateTickRotation:function(){t.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callback(this.options.beforeFit,[this])},fit:function(){var n=this,i=n.minSize={width:0,height:0},b=n.chart,e=n.options,o=e.ticks,k=e.scaleLabel,d=e.gridLines,c=n._isVisible(),g="bottom"===e.position,s=n.isHorizontal(),v,y,p,w,ft;if(s?i.width=n.maxWidth:c&&(i.width=ki(d)+sf(k)),s?c&&(i.height=ki(d)+sf(k)):i.height=n.maxHeight,o.display&&c){var et=hf(o),h=n._getLabelSizes(),r=h.first,u=h.last,nt=h.widest,tt=h.highest,it=.4*et.minor.lineHeight,rt=o.padding;if(s){var l=0!==n.labelRotation,ut=t.toRadians(n.labelRotation),a=Math.cos(ut),f=Math.sin(ut),ot=f*nt.width+a*(tt.height-(l?tt.offset:0))+(l?0:it);i.height=Math.min(n.maxHeight,i.height+ot+rt);p=n.getPixelForTick(0)-n.left;w=n.right-n.getPixelForTick(n.getTicks().length-1);l?(v=g?a*r.width+f*r.offset:f*(r.height-r.offset),y=g?f*(u.height-u.offset):a*u.width+f*u.offset):(v=r.width/2,y=u.width/2);n.paddingLeft=Math.max((v-p)*n.width/(n.width-p),0)+3;n.paddingRight=Math.max((y-w)*n.width/(n.width-w),0)+3}else ft=o.mirror?0:nt.width+rt+it,i.width=Math.min(n.maxWidth,i.width+ft),n.paddingTop=r.height/2,n.paddingBottom=u.height/2}n.handleMargins();s?(n.width=n._length=b.width-n.margins.left-n.margins.right,n.height=i.height):(n.width=i.width,n.height=n._length=b.height-n.margins.top-n.margins.bottom)},handleMargins:function(){var n=this;n.margins&&(n.margins.left=Math.max(n.paddingLeft,n.margins.left),n.margins.top=Math.max(n.paddingTop,n.margins.top),n.margins.right=Math.max(n.paddingRight,n.margins.right),n.margins.bottom=Math.max(n.paddingBottom,n.margins.bottom))},afterFit:function(){t.callback(this.options.afterFit,[this])},isHorizontal:function(){var n=this.options.position;return"top"===n||"bottom"===n},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(n){if(bi(n))return NaN;if(("number"==typeof n||n instanceof Number)&&!isFinite(n))return NaN;if(n)if(this.isHorizontal()){if(void 0!==n.x)return this.getRightValue(n.x)}else if(void 0!==n.y)return this.getRightValue(n.y);return n},_convertTicksToLabels:function(n){var r,t,u,i=this;for(i.ticks=n.map(function(n){return n.value}),i.beforeTickToLabelConversion(),r=i.convertTicksToLabels(n)||i.ticks,i.afterTickToLabelConversion(),t=0,u=n.length;t<u;++t)n[t].label=r[t];return r},_getLabelSizes:function(){var n=this,t=n._labelSizes;return t||(n._labelSizes=t=rl(n.ctx,hf(n.options.ticks),n.getTicks(),n.longestTextCache),n.longestLabelWidth=t.widest.width),t},_parseValue:function(n){var t,i,r,u;return ni(n)?(t=+this.getRightValue(n[0]),i=+this.getRightValue(n[1]),r=Math.min(t,i),u=Math.max(t,i)):(t=void 0,i=n=+this.getRightValue(n),r=n,u=n),{min:r,max:u,start:t,end:i}},_getScaleLabel:function(n){var t=this._parseValue(n);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(n)},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(n){var t=this.options.offset,i=this._ticks.length,r=1/Math.max(i-(t?0:1),1);return n<0||n>i-1?null:this.getPixelForDecimal(n*r+(t?r/2:0))},getPixelForDecimal:function(n){return this._reversePixels&&(n=1-n),this._startPixel+n*this._length},getDecimalForPixel:function(n){var t=(n-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var n=this.min,t=this.max;return this.beginAtZero?0:n<0&&t<0?t:n>0&&t>0?n:0},_autoSkip:function(n){var u,c,f,e,l=this.options.ticks,a=this._length,o=l.maxTicksLimit||a/this._tickSize()+1,i=l.major.enabled?function(n){for(var r=[],t=0,i=n.length;t<i;t++)n[t].major&&r.push(t);return r}(n):[],r=i.length,s=i[0],h=i[r-1];if(r>o)return function(n,t,i){var r,u,e=0,f=t[0];for(i=Math.ceil(i),r=0;r<n.length;r++)u=n[r],r===f?(u._index=r,f=t[++e*i]):delete u.label}(n,i,r/o),cf(n);if(f=function(n,i,r,u){var o,s,f,h,c=function(n){var t,i,r=n.length;if(r<2)return!1;for(i=n[0],t=1;t<r;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),e=(i.length-1)/u;if(!c)return Math.max(e,1);for(f=0,h=(o=t.math._factorize(c)).length-1;f<h;f++)if((s=o[f])>e)return s;return Math.max(e,1)}(i,n,0,o),r>0){for(u=0,c=r-1;u<c;u++)ar(n,f,i[u],i[u+1]);return e=r>1?(h-s)/(r-1):null,ar(n,f,t.isNullOrUndef(e)?0:s-e,s),ar(n,f,h,t.isNullOrUndef(e)?n.length:h+e),cf(n)}return ar(n,f),cf(n)},_tickSize:function(){var s=this.options.ticks,e=t.toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=s.autoSkipPadding||0,u=r?r.widest.width+o:0,f=r?r.highest.height+o:0;return this.isHorizontal()?f*n>u*i?u/n:f/i:f*i<u*n?f/n:u/i},_isVisible:function(){var n,i,r,t=this.chart,u=this.options.display;if("auto"!==u)return!!u;for(n=0,i=t.data.datasets.length;n<i;++n)if(t.isDatasetVisible(n)&&((r=t.getDatasetMeta(n)).xAxisID===this.id||r.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(n){var u,f,d,ot,g,s,h,c,l,a,v,y,p,w,nt,tt,it,i=this,st=i.chart,rt=i.options,r=rt.gridLines,ut=rt.position,ft=r.offsetGridLines,at=i.isHorizontal(),et=i._ticksToDraw,ht=et.length+(ft?1:0),b=ki(r),k=[],ct=r.drawBorder?oi(r.lineWidth,0,0):0,e=ct/2,lt=t._alignPixel,o=function(n){return lt(st,n,ct)};for("top"===ut?(u=o(i.bottom),h=i.bottom-b,l=u-e,v=o(n.top)+e,p=n.bottom):"bottom"===ut?(u=o(i.top),v=n.top,p=o(n.bottom)-e,h=u+e,l=i.top+b):"left"===ut?(u=o(i.right),s=i.right-b,c=u-e,a=o(n.left)+e,y=n.right):(u=o(i.left),a=n.left,y=o(n.right)-e,s=u+e,c=i.left+b),f=0;f<ht;++f)d=et[f]||{},bi(d.label)&&f<et.length||(f===i.zeroLineIndex&&rt.offset===ft?(w=r.zeroLineWidth,nt=r.zeroLineColor,tt=r.zeroLineBorderDash||[],it=r.zeroLineBorderDashOffset||0):(w=oi(r.lineWidth,f,1),nt=oi(r.color,f,"rgba(0,0,0,0.1)"),tt=r.borderDash||[],it=r.borderDashOffset||0),void 0!==(ot=il(i,d._index||f,ft))&&(g=lt(st,ot,w),at?s=c=a=y=g:h=l=v=p=g,k.push({tx1:s,ty1:h,tx2:c,ty2:l,x1:a,y1:v,x2:y,y2:p,width:w,color:nt,borderDash:tt,borderDashOffset:it})));return k.ticksLength=ht,k.borderValue=u,k},_computeLabelItems:function(){var i,d,y,r,e,o,u,p,g,s,w,b,n=this,k=n.options,h=k.ticks,c=k.position,l=h.mirror,rt=n.isHorizontal(),nt=n._ticksToDraw,tt=hf(h),a=h.padding,v=ki(k.gridLines),f=-t.toRadians(n.labelRotation),it=[];for("top"===c?(o=n.bottom-v-a,u=f?"left":"center"):"bottom"===c?(o=n.top+v+a,u=f?"right":"center"):"left"===c?(e=n.right-(l?0:v)-a,u=l?"left":"right"):(e=n.left+(l?0:v)+a,u=l?"right":"left"),i=0,d=nt.length;i<d;++i)r=(y=nt[i]).label,bi(r)||(p=n.getPixelForTick(y._index||i)+h.labelOffset,s=(g=y.major?tt.major:tt.minor).lineHeight,w=ni(r)?r.length:1,rt?(e=p,b="top"===c?((f?1:.5)-w)*s:(f?0:.5)*s):(o=p,b=(1-w)*s/2),it.push({x:e,y:o,rotation:f,label:r,font:g,textOffset:b,textAlign:u}));return it},_drawGrid:function(n){var u=this,f=u.options.gridLines;if(f.display){for(var a,v,r,i=u.ctx,o=u.chart,s=t._alignPixel,y=f.drawBorder?oi(f.lineWidth,0,0):0,h=u._gridLineItems||(u._gridLineItems=u._computeGridLineItems(n)),e=0,d=h.length;e<d;++e)a=(r=h[e]).width,v=r.color,a&&v&&(i.save(),i.lineWidth=a,i.strokeStyle=v,i.setLineDash&&(i.setLineDash(r.borderDash),i.lineDashOffset=r.borderDashOffset),i.beginPath(),f.drawTicks&&(i.moveTo(r.tx1,r.ty1),i.lineTo(r.tx2,r.ty2)),f.drawOnChartArea&&(i.moveTo(r.x1,r.y1),i.lineTo(r.x2,r.y2)),i.stroke(),i.restore());if(y){var p,w,b,k,c=y,l=oi(f.lineWidth,h.ticksLength-1,1),g=h.borderValue;u.isHorizontal()?(p=s(o,u.left,c)-c/2,w=s(o,u.right,l)+l/2,b=k=g):(b=s(o,u.top,c)-c/2,k=s(o,u.bottom,l)+l/2,p=w=g);i.lineWidth=y;i.strokeStyle=oi(f.color,0);i.beginPath();i.moveTo(p,b);i.lineTo(w,k);i.stroke()}}},_drawLabels:function(){var i=this,u,f,h,c,t,e,r,o,n,s;if(i.options.ticks.display)for(n=i.ctx,s=i._labelItems||(i._labelItems=i._computeLabelItems()),u=0,h=s.length;u<h;++u){if(e=(t=s[u]).font,n.save(),n.translate(t.x,t.y),n.rotate(t.rotation),n.font=e.string,n.fillStyle=e.color,n.textBaseline="middle",n.textAlign=t.textAlign,r=t.label,o=t.textOffset,ni(r))for(f=0,c=r.length;f<c;++f)n.fillText(""+r[f],0,o),o+=e.lineHeight;else n.fillText(r,0,o);n.restore()}},_drawTitle:function(){var n=this,r=n.ctx,c=n.options,u=c.scaleLabel,h;if(u.display){var o,s,y=ti(u.fontColor,i.global.defaultFontColor),l=t.options._parseFont(u),f=t.options.toPadding(u.padding),e=l.lineHeight/2,a=c.position,v=0;n.isHorizontal()?(o=n.left+n.width/2,s="bottom"===a?n.bottom-e-f.bottom:n.top+e+f.top):(h="left"===a,o=h?n.left+e+f.top:n.right-e-f.top,s=n.top+n.height/2,v=h?-.5*Math.PI:.5*Math.PI);r.save();r.translate(o,s);r.rotate(v);r.textAlign="center";r.textBaseline="middle";r.fillStyle=y;r.font=l.string;r.fillText(u.labelString,0,0);r.restore()}},draw:function(n){this._isVisible()&&(this._drawGrid(n),this._drawTitle(),this._drawLabels())},_layers:function(){var n=this,t=n.options,i=t.ticks&&t.ticks.z||0,r=t.gridLines&&t.gridLines.z||0;return n._isVisible()&&i!==r&&n.draw===n._draw?[{z:r,draw:function(){n._drawGrid.apply(n,arguments);n._drawTitle.apply(n,arguments)}},{z:i,draw:function(){n._drawLabels.apply(n,arguments)}}]:[{z:i,draw:function(){n.draw.apply(n,arguments)}}]},_getMatchingVisibleMetas:function(n){var t=this,i=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(r){return(!n||r.type===n)&&(i?r.xAxisID===t.id:r.yAxisID===t.id)})}});vr.prototype._draw=vr.prototype.draw;var l=vr,lf=t.isNullOrUndef,ts=l.extend({determineDataLimits:function(){var i,n=this,t=n._getLabels(),f=n.options.ticks,e=f.min,o=f.max,r=0,u=t.length-1;void 0!==e&&(i=t.indexOf(e))>=0&&(r=i);void 0!==o&&(i=t.indexOf(o))>=0&&(u=i);n.minIndex=r;n.maxIndex=u;n.min=t[r];n.max=t[u]},buildTicks:function(){var n=this._getLabels(),t=this.minIndex,i=this.maxIndex;this.ticks=0===t&&i===n.length-1?n:n.slice(t,i+1)},getLabelForIndex:function(n,t){var i=this.chart;return i.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(i.data.datasets[t].data[n]):this._getLabels()[n]},_configure:function(){var n=this,t=n.options.offset,i=n.ticks;l.prototype._configure.call(n);n.isHorizontal()||(n._reversePixels=!n._reversePixels);i&&(n._startValue=n.minIndex-(t?.5:0),n._valueRange=Math.max(i.length-(t?0:1),1))},getPixelForValue:function(n,i,r){var f,e,o,u=this;return lf(i)||lf(r)||(n=u.chart.data.datasets[r].data[i]),lf(n)||(f=u.isHorizontal()?n.x:n.y),(void 0!==f||void 0!==n&&isNaN(i))&&(e=u._getLabels(),n=t.valueOrDefault(f,n),i=-1!==(o=e.indexOf(n))?o:i,isNaN(i)&&(i=n)),u.getPixelForDecimal((i-u._startValue)/u._valueRange)},getPixelForTick:function(n){var t=this.ticks;return n<0||n>t.length-1?null:this.getPixelForValue(t[n],n+this.minIndex)},getValueForPixel:function(n){var t=Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});ts._defaults={position:"bottom"};var ul=t.noop,ii=t.isNullOrUndef,yr=l.extend({getRightValue:function(n){return"string"==typeof n?+n:l.prototype.getRightValue.call(this,n)},handleTickRangeOptions:function(){var n=this,i=n.options.ticks,r,u,f,e;i.beginAtZero&&(r=t.sign(n.min),u=t.sign(n.max),r<0&&u<0?n.max=0:r>0&&u>0&&(n.min=0));f=void 0!==i.min||void 0!==i.suggestedMin;e=void 0!==i.max||void 0!==i.suggestedMax;void 0!==i.min?n.min=i.min:void 0!==i.suggestedMin&&(n.min=null===n.min?i.suggestedMin:Math.min(n.min,i.suggestedMin));void 0!==i.max?n.max=i.max:void 0!==i.suggestedMax&&(n.max=null===n.max?i.suggestedMax:Math.max(n.max,i.suggestedMax));f!==e&&n.min>=n.max&&(f?n.max=n.min+1:n.min=n.max-1);n.min===n.max&&(n.max++,i.beginAtZero||n.min--)},getTickLimit:function(){var n,r=this.options.ticks,i=r.stepSize,t=r.maxTicksLimit;return i?n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1:(n=this._computeTickLimit(),t=t||11),t&&(n=Math.min(t,n)),n},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:ul,buildTicks:function(){var n=this,i=n.options.ticks,u=n.getTickLimit(),f={maxTicks:u=Math.max(2,u),min:i.min,max:i.max,precision:i.precision,stepSize:t.valueOrDefault(i.fixedStepSize,i.stepSize)},r=n.ticks=function(n,i){var u,e,o,f,c=[],p=n.stepSize,l=p||1,w=n.maxTicks-1,s=n.min,h=n.max,b=n.precision,a=i.min,v=i.max,r=t.niceNum((v-a)/w/l)*l,y;if(r<1e-14&&ii(s)&&ii(h))return[a,v];for((f=Math.ceil(v/r)-Math.floor(a/r))>w&&(r=t.niceNum(f*r/w/l)*l),p||ii(b)?u=Math.pow(10,t._decimalPlaces(r)):(u=Math.pow(10,b),r=Math.ceil(r*u)/u),e=Math.floor(a/r)*r,o=Math.ceil(v/r)*r,p&&(!ii(s)&&t.almostWhole(s/r,r/1e3)&&(e=s),!ii(h)&&t.almostWhole(h/r,r/1e3)&&(o=h)),f=(o-e)/r,f=t.almostEquals(f,Math.round(f),r/1e3)?Math.round(f):Math.ceil(f),e=Math.round(e*u)/u,o=Math.round(o*u)/u,c.push(ii(s)?e:s),y=1;y<f;++y)c.push(Math.round((e+y*r)*u)/u);return c.push(ii(h)?o:h),c}(f,n);n.handleDirectionalChanges();n.max=t.max(r);n.min=t.min(r);i.reverse?(r.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var n=this;n.ticksAsNumbers=n.ticks.slice();n.zeroLineIndex=n.ticks.indexOf(0);l.prototype.convertTicksToLabels.call(n)},_configure:function(){var r,n=this,u=n.getTicks(),t=n.min,i=n.max;l.prototype._configure.call(n);n.options.offset&&u.length&&(t-=r=(i-t)/Math.max(u.length-1,1)/2,i+=r);n._startValue=t;n._endValue=i;n._valueRange=i-t}}),fl={position:"left",ticks:{callback:wi.formatters.linear}};af=yr.extend({determineDataLimits:function(){var i,r,f,e,n=this,c=n.options,l=n.chart.data.datasets,o=n._getMatchingVisibleMetas(),u=c.stacked,s={},h=o.length;if(n.min=Number.POSITIVE_INFINITY,n.max=Number.NEGATIVE_INFINITY,void 0===u)for(i=0;!u&&i<h;++i)u=void 0!==(r=o[i]).stack;for(i=0;i<h;++i)f=l[(r=o[i]).index].data,u?el(n,s,r,f):ol(n,r,f);t.each(s,function(i){e=i.pos.concat(i.neg);n.min=Math.min(n.min,t.min(e));n.max=Math.max(n.max,t.max(e))});n.min=t.isFinite(n.min)&&!isNaN(n.min)?n.min:0;n.max=t.isFinite(n.max)&&!isNaN(n.max)?n.max:1;n.handleTickRangeOptions()},_computeTickLimit:function(){var n;return this.isHorizontal()?Math.ceil(this.width/40):(n=t.options._parseFont(this.options.ticks),Math.ceil(this.height/n.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(n,t){return this._getScaleLabel(this.chart.data.datasets[t].data[n])},getPixelForValue:function(n){return this.getPixelForDecimal((+this.getRightValue(n)-this._startValue)/this._valueRange)},getValueForPixel:function(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange},getPixelForTick:function(n){var t=this.ticksAsNumbers;return n<0||n>t.length-1?null:this.getPixelForValue(t[n])}});is=fl;af._defaults=is;var vf=t.valueOrDefault,a=t.math.log10,sl={position:"left",ticks:{callback:wi.formatters.logarithmic}};yf=l.extend({determineDataLimits:function(){function p(t){return w?t.xAxisID===n.id:t.yAxisID===n.id}var i,f,r,h,u,c,n=this,y=n.options,e=n.chart,o=e.data.datasets,w=n.isHorizontal(),l,s,a,v;if(n.min=Number.POSITIVE_INFINITY,n.max=Number.NEGATIVE_INFINITY,n.minNotZero=Number.POSITIVE_INFINITY,l=y.stacked,void 0===l)for(i=0;i<o.length;i++)if(f=e.getDatasetMeta(i),e.isDatasetVisible(i)&&p(f)&&void 0!==f.stack){l=!0;break}if(y.stacked||l){for(s={},i=0;i<o.length;i++)if(a=[(f=e.getDatasetMeta(i)).type,void 0===y.stacked&&void 0===f.stack?i:"",f.stack].join("."),e.isDatasetVisible(i)&&p(f))for(void 0===s[a]&&(s[a]=[]),u=0,c=(h=o[i].data).length;u<c;u++)v=s[a],r=n._parseValue(h[u]),isNaN(r.min)||isNaN(r.max)||f.data[u].hidden||r.min<0||r.max<0||(v[u]=v[u]||0,v[u]+=r.max);t.each(s,function(i){if(i.length>0){var r=t.min(i),u=t.max(i);n.min=Math.min(n.min,r);n.max=Math.max(n.max,u)}})}else for(i=0;i<o.length;i++)if(f=e.getDatasetMeta(i),e.isDatasetVisible(i)&&p(f))for(u=0,c=(h=o[i].data).length;u<c;u++)r=n._parseValue(h[u]),isNaN(r.min)||isNaN(r.max)||f.data[u].hidden||r.min<0||r.max<0||(n.min=Math.min(r.min,n.min),n.max=Math.max(r.max,n.max),0!==r.min&&(n.minNotZero=Math.min(r.min,n.minNotZero)));n.min=t.isFinite(n.min)?n.min:null;n.max=t.isFinite(n.max)?n.max:null;n.minNotZero=t.isFinite(n.minNotZero)?n.minNotZero:null;this.handleTickRangeOptions()},handleTickRangeOptions:function(){var n=this,t=n.options.ticks;n.min=pr(t.min,n.min);n.max=pr(t.max,n.max);n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(a(n.min))-1),n.max=Math.pow(10,Math.floor(a(n.max))+1)):(n.min=1,n.max=10));null===n.min&&(n.min=Math.pow(10,Math.floor(a(n.max))-1));null===n.max&&(n.max=0!==n.min?Math.pow(10,Math.floor(a(n.min))+1):10);null===n.minNotZero&&(n.minNotZero=n.min>0?n.min:n.max<1?Math.pow(10,Math.floor(a(n.max))):1)},buildTicks:function(){var n=this,i=n.options.ticks,r=!n.isHorizontal(),f={min:pr(i.min),max:pr(i.max)},u=n.ticks=function(n,t){var i,u,e=[],r=vf(n.min,Math.pow(10,Math.floor(a(t.min)))),o=Math.floor(a(t.max)),h=Math.ceil(t.max/Math.pow(10,o)),f,s;0===r?(i=Math.floor(a(t.minNotZero)),u=Math.floor(t.minNotZero/Math.pow(10,i)),e.push(r),r=u*Math.pow(10,i)):(i=Math.floor(a(r)),u=Math.floor(r/Math.pow(10,i)));f=i<0?Math.pow(10,Math.abs(i)):1;do e.push(r),10==++u&&(u=1,f=++i>=0?1:f),r=Math.round(u*Math.pow(10,i)*f)/f;while(i<o||i===o&&u<h);return s=vf(n.max,r),e.push(s),e}(f,n);n.max=t.max(u);n.min=t.min(u);i.reverse?(r=!r,n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max);r&&u.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();l.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(n,t){return this._getScaleLabel(this.chart.data.datasets[t].data[n])},getPixelForTick:function(n){var t=this.tickValues;return n<0||n>t.length-1?null:this.getPixelForValue(t[n])},_getFirstTickValue:function(n){var t=Math.floor(a(n));return Math.floor(n/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var n=this,t=n.min,r=0;l.prototype._configure.call(n);0===t&&(t=n._getFirstTickValue(n.minNotZero),r=vf(n.options.ticks.fontSize,i.global.defaultFontSize)/n._length);n._startValue=a(t);n._valueOffset=r;n._valueRange=(a(n.max)-a(t))/(1-r)},getPixelForValue:function(n){var t=this,i=0;return(n=+t.getRightValue(n))>t.min&&n>0&&(i=(a(n)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(i)},getValueForPixel:function(n){var t=this,i=t.getDecimalForPixel(n);return 0===i&&0===t.min?0:Math.pow(10,t._startValue+(i-t._valueOffset)*t._valueRange)}});rs=sl;yf._defaults=rs;var wr=t.valueOrDefault,pf=t.valueAtIndexOrDefault,us=t.options.resolve,hl={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:wi.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(n){return n}}};bf=yr.extend({setDimensions:function(){var n=this;n.width=n.maxWidth;n.height=n.maxHeight;n.paddingTop=wf(n.options)/2;n.xCenter=Math.floor(n.width/2);n.yCenter=Math.floor((n.height-n.paddingTop)/2);n.drawingArea=Math.min(n.height-n.paddingTop,n.width)/2},determineDataLimits:function(){var n=this,u=n.chart,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;t.each(u.data.datasets,function(f,e){if(u.isDatasetVisible(e)){var o=u.getDatasetMeta(e);t.each(f.data,function(t,u){var f=+n.getRightValue(t);isNaN(f)||o.data[u].hidden||(i=Math.min(f,i),r=Math.max(f,r))})}});n.min=i===Number.POSITIVE_INFINITY?0:i;n.max=r===Number.NEGATIVE_INFINITY?0:r;n.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/wf(this.options))},convertTicksToLabels:function(){var n=this;yr.prototype.convertTicksToLabels.call(n);n.pointLabels=n.chart.data.labels.map(function(){var i=t.callback(n.options.pointLabels.callback,arguments,n);return i||0===i?i:""})},getLabelForIndex:function(n,t){return+this.getRightValue(this.chart.data.datasets[t].data[n])},fit:function(){var n=this.options;n.display&&n.pointLabels.display?function(n){var r,o,l,v=t.options._parseFont(n.options.pointLabels),i={l:0,r:n.width,t:0,b:n.height-n.paddingTop},u={},s,a,f,y;for(n.ctx.font=v.string,n._pointLabelSizes=[],y=n.chart.data.labels.length,r=0;r<y;r++){l=n.getPointPosition(r,n.drawingArea+5);s=n.ctx;a=v.lineHeight;f=n.pointLabels[r];o=t.isArray(f)?{w:t.longestText(s,s.font,f),h:f.length*a}:{w:s.measureText(f).width,h:a};n._pointLabelSizes[r]=o;var e=n.getIndexAngle(r),p=t.toDegrees(e)%360,h=fs(p,l.x,o.w,0,180),c=fs(p,l.y,o.h,90,270);h.start<i.l&&(i.l=h.start,u.l=e);h.end>i.r&&(i.r=h.end,u.r=e);c.start<i.t&&(i.t=c.start,u.t=e);c.end>i.b&&(i.b=c.end,u.b=e)}n.setReductions(n.drawingArea,i,u)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(n,t,i){var r=this,u=t.l/Math.sin(i.l),f=Math.max(t.r-r.width,0)/Math.sin(i.r),e=-t.t/Math.cos(i.t),o=-Math.max(t.b-(r.height-r.paddingTop),0)/Math.cos(i.b);u=br(u);f=br(f);e=br(e);o=br(o);r.drawingArea=Math.min(Math.floor(n-(u+f)/2),Math.floor(n-(e+o)/2));r.setCenterPoint(u,f,e,o)},setCenterPoint:function(n,t,i,r){var u=this,f=u.width-t-u.drawingArea,e=n+u.drawingArea,o=i+u.drawingArea,s=u.height-u.paddingTop-r-u.drawingArea;u.xCenter=Math.floor((e+f)/2+u.left);u.yCenter=Math.floor((o+s)/2+u.top+u.paddingTop)},getIndexAngle:function(n){var i=this.chart,t=(n*(360/i.data.labels.length)+((i.options||{}).startAngle||0))%360;return(t<0?t+360:t)*Math.PI/180},getDistanceFromCenterForValue:function(n){var i=this,r;return t.isNullOrUndef(n)?NaN:(r=i.drawingArea/(i.max-i.min),i.options.ticks.reverse?(i.max-n)*r:(n-i.min)*r)},getPointPosition:function(n,t){var i=this.getIndexAngle(n)-Math.PI/2;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter}},getPointPositionForValue:function(n,t){return this.getPointPosition(n,this.getDistanceFromCenterForValue(t))},getBasePosition:function(n){var t=this.min,i=this.max;return this.getPointPositionForValue(n||0,this.beginAtZero?0:t<0&&i<0?i:t>0&&i>0?t:0)},_drawGrid:function(){var e,o,h,n=this,r=n.ctx,s=n.options,u=s.gridLines,f=s.angleLines,c=wr(f.lineWidth,u.lineWidth),l=wr(f.color,u.color);if(s.pointLabels.display&&function(n){var u=n.ctx,f=n.options,o=f.pointLabels,l=wf(f),a=n.getDistanceFromCenterForValue(f.ticks.reverse?n.min:n.max),s=t.options._parseFont(o),r,c,e;for(u.save(),u.font=s.string,u.textBaseline="middle",r=n.chart.data.labels.length-1;r>=0;r--){var v=0===r?l/2:0,h=n.getPointPosition(r,a+v+5),y=pf(o.fontColor,r,i.global.defaultFontColor);u.fillStyle=y;c=n.getIndexAngle(r);e=t.toDegrees(c);u.textAlign=cl(e);al(e,n._pointLabelSizes[r],h);ll(u,n.pointLabels[r],h,s.lineHeight)}u.restore()}(n),u.display&&t.each(n.ticks,function(t,i){0!==i&&(o=n.getDistanceFromCenterForValue(n.ticksAsNumbers[i]),function(n,t,i,r){var f,u=n.ctx,o=t.circular,s=n.chart.data.labels.length,h=pf(t.color,r-1),c=pf(t.lineWidth,r-1),e;if((o||s)&&h&&c){if(u.save(),u.strokeStyle=h,u.lineWidth=c,u.setLineDash&&(u.setLineDash(t.borderDash||[]),u.lineDashOffset=t.borderDashOffset||0),u.beginPath(),o)u.arc(n.xCenter,n.yCenter,i,0,2*Math.PI);else for(f=n.getPointPosition(0,i),u.moveTo(f.x,f.y),e=1;e<s;e++)f=n.getPointPosition(e,i),u.lineTo(f.x,f.y);u.closePath();u.stroke();u.restore()}}(n,u,o,i))}),f.display&&c&&l){for(r.save(),r.lineWidth=c,r.strokeStyle=l,r.setLineDash&&(r.setLineDash(us([f.borderDash,u.borderDash,[]])),r.lineDashOffset=us([f.borderDashOffset,u.borderDashOffset,0])),e=n.chart.data.labels.length-1;e>=0;e--)o=n.getDistanceFromCenterForValue(s.ticks.reverse?n.min:n.max),h=n.getPointPosition(e,o),r.beginPath(),r.moveTo(n.xCenter,n.yCenter),r.lineTo(h.x,h.y),r.stroke();r.restore()}},_drawLabels:function(){var u=this,n=u.ctx,r=u.options.ticks;if(r.display){var f,e,s=u.getIndexAngle(0),o=t.options._parseFont(r),h=wr(r.fontColor,i.global.defaultFontColor);n.save();n.font=o.string;n.translate(u.xCenter,u.yCenter);n.rotate(s);n.textAlign="center";n.textBaseline="middle";t.each(u.ticks,function(t,i){(0!==i||r.reverse)&&(f=u.getDistanceFromCenterForValue(u.ticksAsNumbers[i]),r.showLabelBackdrop&&(e=n.measureText(t).width,n.fillStyle=r.backdropColor,n.fillRect(-e/2-r.backdropPaddingX,-f-o.size/2-r.backdropPaddingY,e+2*r.backdropPaddingX,o.size+2*r.backdropPaddingY)),n.fillStyle=h,n.fillText(t,0,-f))});n.restore()}},_drawTitle:t.noop});es=hl;bf._defaults=es;var kf=t._deprecated,os=t.options.resolve,vl=t.valueOrDefault,ss=Number.MIN_SAFE_INTEGER||-9007199254740991,df=Number.MAX_SAFE_INTEGER||9007199254740991,kr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},v=Object.keys(kr);ne=l.extend({initialize:function(){this.mergeTicksOptions();l.prototype.initialize.call(this)},update:function(){var i=this,r=i.options,n=r.time||(r.time={}),u=i._adapter=new of._date(r.adapters.date);return kf("time scale",n.format,"time.format","time.parser"),kf("time scale",n.min,"time.min","ticks.min"),kf("time scale",n.max,"time.max","ticks.max"),t.mergeIf(n.displayFormats,u.formats()),l.prototype.update.apply(i,arguments)},getRightValue:function(n){return n&&void 0!==n.t&&(n=n.t),l.prototype.getRightValue.call(this,n)},determineDataLimits:function(){for(var o,y,c,l,p,i=this,a=i.chart,w=i._adapter,v=i.options,b=v.time.unit||"day",r=df,u=ss,f=[],h=[],e=[],k=i._getLabels(),n=0,s=k.length;n<s;++n)e.push(ri(i,k[n]));for(n=0,s=(a.data.datasets||[]).length;n<s;++n)if(a.isDatasetVisible(n))if(c=a.data.datasets[n].data,t.isObject(c[0]))for(h[n]=[],o=0,y=c.length;o<y;++o)l=ri(i,c[o]),f.push(l),h[n][o]=l;else h[n]=e.slice(0),p||(f=f.concat(e),p=!0);else h[n]=[];e.length&&(r=Math.min(r,e[0]),u=Math.max(u,e[e.length-1]));f.length&&(f=s>1?function(n){for(var i,u={},f=[],t=0,r=n.length;t<r;++t)u[i=n[t]]||(u[i]=!0,f.push(i));return f}(f).sort(hs):f.sort(hs),r=Math.min(r,f[0]),u=Math.max(u,f[f.length-1]));r=ri(i,cs(v))||r;u=ri(i,ls(v))||u;r=r===df?+w.startOf(Date.now(),b):r;u=u===ss?+w.endOf(Date.now(),b)+1:u;i.min=Math.min(r,u);i.max=Math.max(r+1,u);i._table=[];i._timestamps={data:f,datasets:h,labels:e}},buildTicks:function(){var e,l,s,n=this,i=n.min,r=n.max,u=n.options,o=u.ticks,h=u.time,t=n._timestamps,f=[],a=n.getLabelCapacity(i),c=o.source,y=u.distribution;for(t="data"===c||"auto"===c&&"series"===y?t.data:"labels"===c?t.labels:function(n,t,i,r){var u,s=n._adapter,a=n.options,f=a.time,e=f.unit||as(f.minUnit,t,i,r),h=os([f.stepSize,f.unitStepSize,1]),c="week"===e&&f.isoWeekday,o=t,l=[];if(c&&(o=+s.startOf(o,"isoWeek",c)),o=+s.startOf(o,c?"day":e),s.diff(i,t,e)>1e5*h)throw t+" and "+i+" are too far apart with stepSize of "+h+" "+e;for(u=o;u<i;u=+s.add(u,h,e))l.push(u);return u!==i&&"ticks"!==a.bounds||l.push(u),l}(n,i,r,a),"ticks"===u.bounds&&t.length&&(i=t[0],r=t[t.length-1]),i=ri(n,cs(u))||i,r=ri(n,ls(u))||r,e=0,l=t.length;e<l;++e)(s=t[e])>=i&&s<=r&&f.push(s);return n.min=i,n.max=r,n._unit=h.unit||(o.autoSkip?as(h.minUnit,n.min,n.max,a):function(n,t,i,r,u){for(var e,f=v.length-1;f>=v.indexOf(i);f--)if(e=v[f],kr[e].common&&n._adapter.diff(u,r,e)>=t-1)return e;return v[i?v.indexOf(i):0]}(n,f.length,h.minUnit,n.min,n.max)),n._majorUnit=o.major.enabled&&"year"!==n._unit?function(n){for(var t=v.indexOf(n)+1,i=v.length;t<i;++t)if(kr[v[t]].common)return v[t]}(n._unit):void 0,n._table=function(n,t,i,r){if("linear"===r||!n.length)return[{time:t,pos:0},{time:i,pos:1}];for(var s,f,h,c=[],e=[t],u=0,o=n.length;u<o;++u)(f=n[u])>t&&f<i&&e.push(f);for(e.push(i),u=0,o=e.length;u<o;++u)h=e[u+1],s=e[u-1],f=e[u],void 0!==s&&void 0!==h&&Math.round((h+s)/2)===f||c.push({time:f,pos:u/(o-1)});return c}(n._timestamps.data,i,r,y),n._offsets=function(n,t,i,r,u){var f,e,o=0,s=0;return u.offset&&t.length&&(f=si(n,"time",t[0],"pos"),o=1===t.length?1-f:(si(n,"time",t[1],"pos")-f)/2,e=si(n,"time",t[t.length-1],"pos"),s=1===t.length?e:(e-si(n,"time",t[t.length-2],"pos"))/2),{start:o,end:s,factor:1/(o+1+s)}}(n._table,f,0,0,u),o.reverse&&f.reverse(),vs(n,f,n._majorUnit)},getLabelForIndex:function(n,i){var r=this,o=r._adapter,f=r.chart.data,e=r.options.time,u=f.labels&&n<f.labels.length?f.labels[n]:"",s=f.datasets[i].data[n];return t.isObject(s)&&(u=r.getRightValue(s)),e.tooltipFormat?o.format(gf(r,u),e.tooltipFormat):"string"==typeof u?u:o.format(gf(r,u),e.displayFormats.datetime)},tickFormatFunction:function(n,t,i,r){var y=this._adapter,f=this.options,e=f.time.displayFormats,p=e[this._unit],o=this._majorUnit,s=e[o],h=i[t],u=f.ticks,c=o&&s&&h&&h.major,l=y.format(n,r||(c?s:p)),a=c?u.major:u.minor,v=os([a.callback,a.userCallback,u.callback,u.userCallback]);return v?v(l,t,i):l},convertTicksToLabels:function(n){for(var r=[],t=0,i=n.length;t<i;++t)r.push(this.tickFormatFunction(n[t].value,t,n));return r},getPixelForOffset:function(n){var t=this._offsets,i=si(this._table,"time",n,"pos");return this.getPixelForDecimal((t.start+i)*t.factor)},getPixelForValue:function(n,t,i){var r=null;if(void 0!==t&&void 0!==i&&(r=this._timestamps.datasets[i][t]),null===r&&(r=ri(this,n)),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(n){var t=this.getTicks();return n>=0&&n<t.length?this.getPixelForOffset(t[n].value):null},getValueForPixel:function(n){var t=this._offsets,i=this.getDecimalForPixel(n)/t.factor-t.end,r=si(this._table,"pos",i,"time");return this._adapter._create(r)},_getLabelSize:function(n){var r=this.options.ticks,u=this.ctx.measureText(n).width,f=t.toRadians(this.isHorizontal()?r.maxRotation:r.minRotation),e=Math.cos(f),o=Math.sin(f),s=vl(r.fontSize,i.global.defaultFontSize);return{w:u*e+s*o,h:u*o+s*e}},getLabelWidth:function(n){return this._getLabelSize(n).w},getLabelCapacity:function(n){var t=this,r=t.options.time,u=r.displayFormats,e=u[r.unit]||u.millisecond,o=t.tickFormatFunction(n,0,vs(t,[n],t._majorUnit),e),f=t._getLabelSize(o),i=Math.floor(t.isHorizontal()?t.width/f.w:t.height/f.h);return t.options.offset&&i--,i>0?i:1}});ys={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};ne._defaults=ys;ps={category:ts,linear:af,logarithmic:yf,radialLinear:bf,time:ne};ws={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};of._date.override("function"==typeof n?{_id:"moment",formats:function(){return ws},parse:function(t,i){return"string"==typeof t&&"string"==typeof i?t=n(t,i):t instanceof n||(t=n(t)),t.isValid()?t.valueOf():null},format:function(t,i){return n(t).format(i)},add:function(t,i,r){return n(t).add(i,r).valueOf()},diff:function(t,i,r){return n(t).diff(n(i),r)},startOf:function(t,i,r){return t=n(t),"isoWeek"===i?t.isoWeekday(r).valueOf():t.startOf(i).valueOf()},endOf:function(t,i){return n(t).endOf(i).valueOf()},_create:function(t){return n(t)}}:{});i._set("global",{plugins:{filler:{propagate:!0}}});bs={dataset:function(n){var t=n.fill,i=n.chart,r=i.getDatasetMeta(t),u=r&&i.isDatasetVisible(t)&&r.dataset._children||[],f=u.length||0;return f?function(n,t){return t<f&&u[t]._view||null}:null},boundary:function(n){var i=n.boundary,r=i?i.x:null,u=i?i.y:null;return t.isArray(i)?function(n,t){return i[t]}:function(n){return{x:null===r?n.x:r,y:null===u?n.y:u}}}};var dl={id:"filler",afterDatasetsUpdate:function(n,t){for(var o,u,r,f=(n.data.datasets||[]).length,s=t.propagate,e=[],i=0;i<f;++i)r=null,(u=(o=n.getDatasetMeta(i)).dataset)&&u._model&&u instanceof c.Line&&(r={visible:n.isDatasetVisible(i),fill:yl(u,i,f),chart:n,el:u}),o.$filler=r,e.push(r);for(i=0;i<f;++i)(r=e[i])&&(r.fill=wl(e,i,s),r.boundary=pl(r),r.mapper=bl(r))},beforeDatasetsDraw:function(n){for(var r,f,e,o,s,h,l=n._getSortedVisibleDatasetMetas(),c=n.ctx,u=l.length-1;u>=0;--u)(r=l[u].$filler)&&r.visible&&(e=(f=r.el)._view,o=f._children||[],s=r.mapper,h=e.backgroundColor||i.global.defaultColor,s&&h&&o.length&&(t.canvas.clipArea(c,n.chartArea),kl(c,o,s,e,h,f._loop),t.canvas.unclipArea(c)))}},gl=t.rtl.getRtlAdapter,ct=t.noop,lt=t.valueOrDefault;i._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(n,t){var r=t.datasetIndex,i=this.chart,u=i.getDatasetMeta(r);u.hidden=null===u.hidden?!i.data.datasets[r].hidden:null;i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var i=n.data.datasets,t=n.options.legend||{},r=t.labels&&t.labels.usePointStyle;return n._getSortedDatasetMetas().map(function(t){var u=t.controller.getStyle(r?0:void 0);return{text:i[t.index].label,fillStyle:u.backgroundColor,hidden:!n.isDatasetVisible(t.index),lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:u.borderWidth,strokeStyle:u.borderColor,pointStyle:u.pointStyle,rotation:u.rotation,datasetIndex:t.index}},this)}}},legendCallback:function(n){var t,u,f,r=document.createElement("ul"),i=n.data.datasets;for(r.setAttribute("class",n.id+"-legend"),t=0,u=i.length;t<u;t++)(f=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=i[t].backgroundColor,i[t].label&&f.appendChild(document.createTextNode(i[t].label));return r.outerHTML}});ie=nt.extend({initialize:function(n){t.extend(this,n);this.legendHitBoxes=[];this._hoveredItem=null;this.doughnutMode=!1},beforeUpdate:ct,update:function(n,t,i){var r=this;return r.beforeUpdate(),r.maxWidth=n,r.maxHeight=t,r.margins=i,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:ct,beforeSetDimensions:ct,setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0;n.minSize={width:0,height:0}},afterSetDimensions:ct,beforeBuildLabels:ct,buildLabels:function(){var n=this,r=n.options.labels||{},i=t.callback(r.generateLabels,[n.chart],n)||[];r.filter&&(i=i.filter(function(t){return r.filter(t,n.chart.data)}));n.options.reverse&&i.reverse();n.legendItems=i},afterBuildLabels:ct,beforeFit:ct,fit:function(){var n=this,a=n.options,r=a.labels,h=a.display,o=n.ctx,v=t.options._parseFont(r),u=v.size,y=n.legendHitBoxes=[],i=n.minSize,p=n.isHorizontal(),f,c;if(p?(i.width=n.maxWidth,i.height=h?10:0):(i.width=h?10:0,i.height=n.maxHeight),h){if(o.font=v.string,p)f=n.lineWidths=[0],c=0,o.textAlign="left",o.textBaseline="middle",t.each(n.legendItems,function(n,t){var e=te(r,u)+u/2+o.measureText(n.text).width;(0===t||f[f.length-1]+e+2*r.padding>i.width)&&(c+=u+r.padding,f[f.length-(t>0?0:1)]=0);y[t]={left:0,top:0,width:e,height:u};f[f.length-1]+=e+r.padding}),i.height+=c;else{var w=r.padding,b=n.columnWidths=[],k=n.columnHeights=[],l=r.padding,e=0,s=0;t.each(n.legendItems,function(n,t){var f=te(r,u)+u/2+o.measureText(n.text).width;t>0&&s+u+2*w>i.height&&(l+=e+r.padding,b.push(e),k.push(s),e=0,s=0);e=Math.max(e,f);s+=u+w;y[t]={left:0,top:0,width:f,height:u}});l+=e;b.push(e);k.push(s);i.width+=l}n.width=i.width;n.height=i.height}else n.width=i.width=n.height=i.height=0},afterFit:ct,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var r=this,h=r.options,f=h.labels,v=i.global,w=v.defaultColor,c=v.elements.line,b=r.height,k=r.columnHeights,d=r.width,g=r.lineWidths,a;if(h.display){var u,o=gl(h.rtl,r.left,r.minSize.width),n=r.ctx,nt=lt(f.fontColor,v.defaultFontColor),tt=t.options._parseFont(f),s=tt.size;n.textAlign=o.textAlign("left");n.textBaseline="middle";n.lineWidth=.5;n.strokeStyle=nt;n.fillStyle=nt;n.font=tt.string;var e=te(f,s),y=r.legendHitBoxes,l=function(n,t){switch(h.align){case"start":return f.padding;case"end":return n-t;default:return(n-t+f.padding)/2}},p=r.isHorizontal();u=p?{x:r.left+l(d,g[0]),y:r.top+f.padding,line:0}:{x:r.left+f.padding,y:r.top+l(b,k[0]),line:0};t.rtl.overrideTextDirection(r.ctx,h.textDirection);a=s+f.padding;t.each(r.legendItems,function(i,h){var it=n.measureText(i.text).width,rt=e+s/2+it,nt=u.x,v=u.y,tt;o.setWidth(r.minSize.width);p?h>0&&nt+rt+f.padding>r.left+r.minSize.width&&(v=u.y+=a,u.line++,nt=u.x=r.left+l(d,g[u.line])):h>0&&v+a>r.top+r.minSize.height&&(nt=u.x=nt+r.columnWidths[u.line]+f.padding,u.line++,v=u.y=r.top+l(b,k[u.line]));tt=o.x(nt);!function(i,r,u){var h;if(!(isNaN(e)||e<=0)){if(n.save(),h=lt(u.lineWidth,c.borderWidth),n.fillStyle=lt(u.fillStyle,w),n.lineCap=lt(u.lineCap,c.borderCapStyle),n.lineDashOffset=lt(u.lineDashOffset,c.borderDashOffset),n.lineJoin=lt(u.lineJoin,c.borderJoinStyle),n.lineWidth=h,n.strokeStyle=lt(u.strokeStyle,w),n.setLineDash&&n.setLineDash(lt(u.lineDash,c.borderDash)),f&&f.usePointStyle){var l=e*Math.SQRT2/2,a=o.xPlus(i,e/2),v=r+s/2;t.canvas.drawPoint(n,u.pointStyle,l,a,v,u.rotation)}else n.fillRect(o.leftForLtr(i,e),r,e,s),0!==h&&n.strokeRect(o.leftForLtr(i,e),r,e,s);n.restore()}}(tt,v,i);y[h].left=o.leftForLtr(tt,y[h].width);y[h].top=v,function(t,i,r,u){var c=s/2,f=o.xPlus(t,e+c),h=i+c;n.fillText(r.text,f,h);r.hidden&&(n.beginPath(),n.lineWidth=2,n.moveTo(f,h),n.lineTo(o.xPlus(f,u),h),n.stroke())}(tt,v,i,it);p?u.x+=rt+f.padding:u.y+=a});t.rtl.restoreTextDirection(r.ctx,h.textDirection)}},_getLegendItemAt:function(n,t){var u,i,f,r=this;if(n>=r.left&&n<=r.right&&t>=r.top&&t<=r.bottom)for(f=r.legendHitBoxes,u=0;u<f.length;++u)if(n>=(i=f[u]).left&&n<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return r.legendItems[u];return null},handleEvent:function(n){var r,t=this,i=t.options,u="mouseup"===n.type?"click":n.type;if("mousemove"===u){if(!i.onHover&&!i.onLeave)return}else{if("click"!==u)return;if(!i.onClick)return}r=t._getLegendItemAt(n.x,n.y);"click"===u?r&&i.onClick&&i.onClick.call(t,n.native,r):(i.onLeave&&r!==t._hoveredItem&&(t._hoveredItem&&i.onLeave.call(t,n.native,t._hoveredItem),t._hoveredItem=r),i.onHover&&r&&i.onHover.call(t,n.native,r))}});nh={id:"legend",_element:ie,beforeInit:function(n){var t=n.options.legend;t&&gs(n,t)},beforeUpdate:function(n){var r=n.options.legend,u=n.legend;r?(t.mergeIf(r,i.global.legend),u?(b.configure(n,u,r),u.options=r):gs(n,r)):u&&(b.removeBox(n,u),delete n.legend)},afterEvent:function(n,t){var i=n.legend;i&&i.handleEvent(t)}};it=t.noop;i._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});re=nt.extend({initialize:function(n){t.extend(this,n);this.legendHitBoxes=[]},beforeUpdate:it,update:function(n,t,i){var r=this;return r.beforeUpdate(),r.maxWidth=n,r.maxHeight=t,r.margins=i,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:it,beforeSetDimensions:it,setDimensions:function(){var n=this;n.isHorizontal()?(n.width=n.maxWidth,n.left=0,n.right=n.width):(n.height=n.maxHeight,n.top=0,n.bottom=n.height);n.paddingLeft=0;n.paddingTop=0;n.paddingRight=0;n.paddingBottom=0;n.minSize={width:0,height:0}},afterSetDimensions:it,beforeBuildLabels:it,buildLabels:it,afterBuildLabels:it,beforeFit:it,fit:function(){var u,n=this,i=n.options,r=n.minSize={},f=n.isHorizontal();i.display?(u=(t.isArray(i.text)?i.text.length:1)*t.options._parseFont(i).lineHeight+2*i.padding,n.width=r.width=f?n.maxWidth:u,n.height=r.height=f?u:n.maxHeight):n.width=r.width=n.height=r.height=0},afterFit:it,isHorizontal:function(){var n=this.options.position;return"top"===n||"bottom"===n},draw:function(){var r=this,n=r.ctx,u=r.options,f,y,h;if(u.display){var e,c,l,p=t.options._parseFont(u),w=p.lineHeight,a=w/2+u.padding,b=0,o=r.top,s=r.left,k=r.bottom,v=r.right;if(n.fillStyle=t.valueOrDefault(u.fontColor,i.global.defaultFontColor),n.font=p.string,r.isHorizontal()?(c=s+(v-s)/2,l=o+a,e=v-s):(c="left"===u.position?s+a:v-a,l=o+(k-o)/2,e=k-o,b=Math.PI*("left"===u.position?-.5:.5)),n.save(),n.translate(c,l),n.rotate(b),n.textAlign="center",n.textBaseline="middle",f=u.text,t.isArray(f))for(y=0,h=0;h<f.length;++h)n.fillText(f[h],0,y,e),y+=w;else n.fillText(f,0,0,e);n.restore()}}});var at={},na=dl,ta=nh,ia={id:"title",_element:re,beforeInit:function(n){var t=n.options.title;t&&th(n,t)},beforeUpdate:function(n){var r=n.options.title,u=n.titleBlock;r?(t.mergeIf(r,i.global.title),u?(b.configure(n,u,r),u.options=r):th(n,r)):u&&(b.removeBox(n,u),delete n.titleBlock)}};for(ue in at.filler=na,at.legend=ta,at.title=ia,r.helpers=t,function(){function n(n,t,i){var r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*t.parentNode[i])):r=n,r}function r(n){return null!=n&&"none"!==n}function u(i,u,f){var e=document.defaultView,o=t._getParentNode(i),s=e.getComputedStyle(i)[u],h=e.getComputedStyle(o)[u],c=r(s),l=r(h),a=Number.POSITIVE_INFINITY;return c||l?Math.min(c?n(s,i,f):a,l?n(h,o,f):a):"none"}t.where=function(n,i){if(t.isArray(n)&&Array.prototype.filter)return n.filter(i);var r=[];return t.each(n,function(n){i(n)&&r.push(n)}),r};t.findIndex=Array.prototype.findIndex?function(n,t,i){return n.findIndex(t,i)}:function(n,t,i){i=void 0===i?n:i;for(var r=0,u=n.length;r<u;++r)if(t.call(i,n[r],r,n))return r;return-1};t.findNextWhere=function(n,i,r){var u,f;for(t.isNullOrUndef(r)&&(r=-1),u=r+1;u<n.length;u++)if(f=n[u],i(f))return f};t.findPreviousWhere=function(n,i,r){var u,f;for(t.isNullOrUndef(r)&&(r=n.length),u=r-1;u>=0;u--)if(f=n[u],i(f))return f};t.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};t.almostEquals=function(n,t,i){return Math.abs(n-t)<i};t.almostWhole=function(n,t){var i=Math.round(n);return i-t<=n&&i+t>=n};t.max=function(n){return n.reduce(function(n,t){return isNaN(t)?n:Math.max(n,t)},Number.NEGATIVE_INFINITY)};t.min=function(n){return n.reduce(function(n,t){return isNaN(t)?n:Math.min(n,t)},Number.POSITIVE_INFINITY)};t.sign=Math.sign?function(n){return Math.sign(n)}:function(n){return 0==(n=+n)||isNaN(n)?n:n>0?1:-1};t.toRadians=function(n){return n*(Math.PI/180)};t.toDegrees=function(n){return n*(180/Math.PI)};t._decimalPlaces=function(n){if(t.isFinite(n)){for(var i=1,r=0;Math.round(n*i)/i!==n;)i*=10,r++;return r}};t.getAngleFromPoint=function(n,t){var i=t.x-n.x,r=t.y-n.y,f=Math.sqrt(i*i+r*r),u=Math.atan2(r,i);return u<-.5*Math.PI&&(u+=2*Math.PI),{angle:u,distance:f}};t.distanceBetweenPoints=function(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))};t.aliasPixel=function(n){return n%2==0?0:.5};t._alignPixel=function(n,t,i){var r=n.currentDevicePixelRatio,u=i/2;return Math.round((t-u)*r)/r+u};t.splineCurve=function(n,t,i,r){var f=n.skip?t:n,u=t,e=i.skip?t:i,o=Math.sqrt(Math.pow(u.x-f.x,2)+Math.pow(u.y-f.y,2)),s=Math.sqrt(Math.pow(e.x-u.x,2)+Math.pow(e.y-u.y,2)),h=o/(o+s),c=s/(o+s),l=r*(h=isNaN(h)?0:h),a=r*(c=isNaN(c)?0:c);return{previous:{x:u.x-l*(e.x-f.x),y:u.y-l*(e.y-f.y)},next:{x:u.x+a*(e.x-f.x),y:u.y+a*(e.y-f.y)}}};t.EPSILON=Number.EPSILON||1e-14;t.splineCurveMonotone=function(n){for(var f,i,u,h,c,l,v,o,e=(n||[]).map(function(n){return{model:n._model,deltaK:0,mK:0}}),s=e.length,a,r=0;r<s;++r)(i=e[r]).model.skip||((f=r>0?e[r-1]:null,(u=r<s-1?e[r+1]:null)&&!u.model.skip)&&(a=u.model.x-i.model.x,i.deltaK=0!==a?(u.model.y-i.model.y)/a:0),i.mK=!f||f.model.skip?i.deltaK:!u||u.model.skip?f.deltaK:this.sign(f.deltaK)!==this.sign(i.deltaK)?0:(f.deltaK+i.deltaK)/2);for(r=0;r<s-1;++r)i=e[r],u=e[r+1],i.model.skip||u.model.skip||(t.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=u.mK=0:(h=i.mK/i.deltaK,c=u.mK/i.deltaK,(v=Math.pow(h,2)+Math.pow(c,2))<=9||(l=3/Math.sqrt(v),i.mK=h*l*i.deltaK,u.mK=c*l*i.deltaK)));for(r=0;r<s;++r)(i=e[r]).model.skip||(f=r>0?e[r-1]:null,u=r<s-1?e[r+1]:null,f&&!f.model.skip&&(o=(i.model.x-f.model.x)/3,i.model.controlPointPreviousX=i.model.x-o,i.model.controlPointPreviousY=i.model.y-o*i.mK),u&&!u.model.skip&&(o=(u.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+o,i.model.controlPointNextY=i.model.y+o*i.mK))};t.nextItem=function(n,t,i){return i?t>=n.length-1?n[0]:n[t+1]:t>=n.length-1?n[n.length-1]:n[t+1]};t.previousItem=function(n,t,i){return i?t<=0?n[n.length-1]:n[t-1]:t<=0?n[0]:n[t-1]};t.niceNum=function(n,i){var u=Math.floor(t.log10(n)),r=n/Math.pow(10,u);return(i?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,u)};t.requestAnimFrame="undefined"==typeof window?function(n){n()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return window.setTimeout(n,1e3/60)};t.getRelativePosition=function(n,i){var f,e,s=n.originalEvent||n,r=n.target||n.srcElement,u=r.getBoundingClientRect(),o=s.touches;o&&o.length>0?(f=o[0].clientX,e=o[0].clientY):(f=s.clientX,e=s.clientY);var h=parseFloat(t.getStyle(r,"padding-left")),c=parseFloat(t.getStyle(r,"padding-top")),l=parseFloat(t.getStyle(r,"padding-right")),a=parseFloat(t.getStyle(r,"padding-bottom")),v=u.right-u.left-h-l,y=u.bottom-u.top-c-a;return{x:f=Math.round((f-u.left-h)/v*r.width/i.currentDevicePixelRatio),y:e=Math.round((e-u.top-c)/y*r.height/i.currentDevicePixelRatio)}};t.getConstraintWidth=function(n){return u(n,"max-width","clientWidth")};t.getConstraintHeight=function(n){return u(n,"max-height","clientHeight")};t._calculatePadding=function(n,i,r){return(i=t.getStyle(n,i)).indexOf("%")>-1?r*parseInt(i,10)/100:parseInt(i,10)};t._getParentNode=function(n){var t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t};t.getMaximumWidth=function(n){var i=t._getParentNode(n);if(!i)return n.clientWidth;var r=i.clientWidth,u=r-t._calculatePadding(i,"padding-left",r)-t._calculatePadding(i,"padding-right",r),f=t.getConstraintWidth(n);return isNaN(f)?u:Math.min(u,f)};t.getMaximumHeight=function(n){var i=t._getParentNode(n);if(!i)return n.clientHeight;var r=i.clientHeight,u=r-t._calculatePadding(i,"padding-top",r)-t._calculatePadding(i,"padding-bottom",r),f=t.getConstraintHeight(n);return isNaN(f)?u:Math.min(u,f)};t.getStyle=function(n,t){return n.currentStyle?n.currentStyle[t]:document.defaultView.getComputedStyle(n,null).getPropertyValue(t)};t.retinaScale=function(n,t){var r=n.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==r){var i=n.canvas,u=n.height,f=n.width;i.height=u*r;i.width=f*r;n.ctx.scale(r,r);i.style.height||i.style.width||(i.style.height=u+"px",i.style.width=f+"px")}};t.fontString=function(n,t,i){return t+" "+n+"px "+i};t.longestText=function(n,i,r,u){var h=(u=u||{}).data=u.data||{},e=u.garbageCollect=u.garbageCollect||[],f,c,v,o,a,s,y,l;for(u.font!==i&&(h=u.data={},e=u.garbageCollect=[],u.font=i),n.font=i,s=0,y=r.length,f=0;f<y;f++)if(null!=(o=r[f])&&!0!==t.isArray(o))s=t.measureText(n,h,e,s,o);else if(t.isArray(o))for(c=0,v=o.length;c<v;c++)null==(a=o[c])||t.isArray(a)||(s=t.measureText(n,h,e,s,a));if(l=e.length/2,l>r.length){for(f=0;f<l;f++)delete h[e[f]];e.splice(0,l)}return s};t.measureText=function(n,t,i,r,u){var f=t[u];return f||(f=t[u]=n.measureText(u).width,i.push(u)),f>r&&(r=f),r};t.numberOfLabelLines=function(n){var i=1;return t.each(n,function(n){t.isArray(n)&&n.length>i&&(i=n.length)}),i};t.color=gi?function(n){return n instanceof CanvasGradient&&(n=i.global.defaultColor),gi(n)}:function(n){return console.error("Color.js not found!"),n};t.getHoverColor=function(n){return n instanceof CanvasPattern||n instanceof CanvasGradient?n:t.color(n).saturate(.5).darken(.1).rgbString()}}(),r._adapters=of,r.Animation=fu,r.animationService=eu,r.controllers=au,r.DatasetController=y,r.defaults=i,r.Element=nt,r.elements=c,r.Interaction=kt,r.layouts=b,r.platform=dt,r.plugins=f,r.Scale=l,r.scaleService=pi,r.Ticks=wi,r.Tooltip=ff,r.helpers.each(ps,function(n,t){r.scaleService.registerScaleType(t,n,n._defaults)}),at)at.hasOwnProperty(ue)&&r.plugins.register(at[ue]);return r.platform.initialize(),ih=r,"undefined"!=typeof window&&(window.Chart=r),r.Chart=r,r.Legend=at.legend._element,r.Title=at.title._element,r.pluginService=r.plugins,r.PluginBase=r.Element.extend({}),r.canvasHelpers=r.helpers.canvas,r.layoutService=r.layouts,r.LinearScaleBase=yr,r.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(n){r[n]=function(t,i){return new r(t,r.helpers.merge(i||{},{type:n.charAt(0).toLowerCase()+n.slice(1)}))}}),ih}),!function(n){n(["jquery"],function(n){return function(){function v(n,t,r){return u({type:f.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function r(r,u){return r||(r=i()),t=n("#"+r.containerId),t.length?t:(u&&(t=nt(r)),t)}function y(n,t,r){return u({type:f.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function p(n){o=n}function w(n,t,r){return u({type:f.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function b(n,t,r){return u({type:f.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function k(n,u){var f=i();t||r(f);h(n,f,u)||g(f)}function d(u){var f=i();return t||r(f),u&&0===n(":focus",u).length?void e(u):void(t.children().length&&t.remove())}function g(i){for(var u=t.children(),r=u.length-1;r>=0;r--)h(n(u[r]),i)}function h(t,i,r){var u=!(!r||!r.force)&&r.force;return!(!t||!u&&0!==n(":focus",t).length)&&(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){e(t)}}),!0)}function nt(i){return t=n("<div/>").attr("id",i.containerId).addClass(i.positionClass),t.appendTo(n(i.target)),t}function tt(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;<\/button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function c(n){o&&o(n)}function u(u){function k(n){return null==n&&(n=""),n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nt(){ut();et();ot();st();ht();ct();ft();tt()}function tt(){var n="";switch(u.iconClass){case"toast-success":case"toast-info":n="polite";break;default:n="assertive"}o.attr("aria-live",n)}function it(){f.closeOnHover&&o.hover(vt,at);!f.onclick&&f.tapToDismiss&&o.click(v);f.closeButton&&p&&p.click(function(n){n.stopPropagation?n.stopPropagation():void 0!==n.cancelBubble&&n.cancelBubble!==!0&&(n.cancelBubble=!0);f.onCloseClick&&f.onCloseClick(n);v(!0)});f.onclick&&o.click(function(n){f.onclick(n);v()})}function rt(){o.hide();o[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown});f.timeOut>0&&(y=setTimeout(v,f.timeOut),h.maxHideTime=parseFloat(f.timeOut),h.hideEta=(new Date).getTime()+h.maxHideTime,f.progressBar&&(h.intervalId=setInterval(yt,10)))}function ut(){u.iconClass&&o.addClass(f.toastClass).addClass(w)}function ft(){f.newestOnTop?t.prepend(o):t.append(o)}function et(){if(u.title){var n=u.title;f.escapeHtml&&(n=k(u.title));d.append(n).addClass(f.titleClass);o.append(d)}}function ot(){if(u.message){var n=u.message;f.escapeHtml&&(n=k(u.message));g.append(n).addClass(f.messageClass);o.append(g)}}function st(){f.closeButton&&(p.addClass(f.closeClass).attr("role","button"),o.prepend(p))}function ht(){f.progressBar&&(b.addClass(f.progressClass),o.prepend(b))}function ct(){f.rtl&&o.addClass("rtl")}function lt(n,t){if(n.preventDuplicates){if(t.message===s)return!0;s=t.message}return!1}function v(t){var i=t&&f.closeMethod!==!1?f.closeMethod:f.hideMethod,r=t&&f.closeDuration!==!1?f.closeDuration:f.hideDuration,u=t&&f.closeEasing!==!1?f.closeEasing:f.hideEasing;if(!n(":focus",o).length||t)return clearTimeout(h.intervalId),o[i]({duration:r,easing:u,complete:function(){e(o);clearTimeout(y);f.onHidden&&"hidden"!==a.state&&f.onHidden();a.state="hidden";a.endTime=new Date;c(a)}})}function at(){(f.timeOut>0||f.extendedTimeOut>0)&&(y=setTimeout(v,f.extendedTimeOut),h.maxHideTime=parseFloat(f.extendedTimeOut),h.hideEta=(new Date).getTime()+h.maxHideTime)}function vt(){clearTimeout(y);h.hideEta=0;o.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function yt(){var n=(h.hideEta-(new Date).getTime())/h.maxHideTime*100;b.width(n+"%")}var f=i(),w=u.iconClass||f.iconClass;if("undefined"!=typeof u.optionsOverride&&(f=n.extend(f,u.optionsOverride),w=u.optionsOverride.iconClass||w),!lt(f,u)){l++;t=r(f,!0);var y=null,o=n("<div/>"),d=n("<div/>"),g=n("<div/>"),b=n("<div/>"),p=n(f.closeHtml),h={intervalId:null,hideEta:null,maxHideTime:null},a={toastId:l,state:"visible",startTime:new Date,options:f,map:u};return nt(),rt(),it(),c(a),f.debug&&console&&console.log(a),o}}function i(){return n.extend({},tt(),a.options)}function e(n){t||(t=r());n.is(":visible")||(n.remove(),n=null,0===t.children().length&&(t.remove(),s=void 0))}var t,o,s,l=0,f={error:"error",info:"info",success:"success",warning:"warning"},a={clear:k,remove:d,error:v,getContainer:r,info:y,options:{},subscribe:p,success:w,version:"2.1.3",warning:b};return a}()})}("function"==typeof define&&define.amd?define:function(n,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),function(n){"use strict";function i(t){if(n(t).attr("type")=="email"||n(t).attr("name")=="email"){if(n(t).val().trim().match(/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{1,5}|[0-9]{1,3})(\]?)$/)==null)return!1}else if(n(t).val().trim()=="")return!1}function r(t){var i=n(t).parent();n(i).addClass("alert-validate")}function u(t){var i=n(t).parent();n(i).removeClass("alert-validate")}n(".input100").each(function(){n(this).on("blur",function(){n(this).val().trim()!=""?n(this).addClass("has-val"):n(this).removeClass("has-val")})});var t=n(".validate-input .input100");n(".validate-form").on("submit",function(){for(var u=!0,n=0;n<t.length;n++)i(t[n])==!1&&(r(t[n]),u=!1);return u});n(".validate-form .input100").each(function(){n(this).focus(function(){u(this)})});n(".contact100-btn-hide").on("click",function(){n(".wrap-contact100").fadeOut(400)});n(".contact100-btn-show").on("click",function(){n(".wrap-contact100").fadeIn(400)})}(jQuery),Holder.addTheme("thumb",{bg:"#55595c",fg:"#eceeef",text:"Thumbnail"}),$(function(){$("[data-toggle='tooltip']").tooltip()}),els=$(".time-ago-label"),i=0;i<els.length;i++)els[i].innerText=moment.utc(els[i].dataset.timeago+"Z").fromNow();var y=[],d5=[],d6=[],d7=[],d8=[];for(i=0;i<21;i++)y.push(i*1e3),d5.push((1-Math.pow(1-1/Math.pow(6,4),y[i]))*100),d6.push((1-Math.pow(1-1/Math.pow(6,5),y[i]))*100),d7.push((1-Math.pow(1-1/Math.pow(6,6),y[i]))*100),d8.push((1-Math.pow(1-1/Math.pow(6,7),y[i]))*100);chartEL=document.getElementById("probability-chart");chartEL&&new Chart(chartEL.getContext("2d"),{type:"line",data:{labels:y,datasets:[{data:d5,label:"5 Dice",borderColor:"#3e95cd",fill:!1},{data:d6,label:"6 Dice",borderColor:"#8e5ea2",fill:!1},{data:d7,label:"7 Dice",borderColor:"#3cba9f",fill:!1},{data:d8,label:"8 Dice",borderColor:"#e8c3b9",fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(n,t){var i=t.datasets[n.datasetIndex].label||"";return i&&(i+=": "),i+n.yLabel.toFixed(2)}}},title:{display:!0,text:"Probability of rolling a Yahtzee"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Numer of rolls"}}],yAxes:[{scaleLabel:{display:!0,labelString:"Probability"}}]}}});toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};document.getElementById("contact-form")&&(contactFormResponse=="SUCCESS"?toastr.success("Thank you for contacting me","Thank you!"):contactFormResponse=="FAIL"&&toastr.error("An error occured. Try again later.","An error occured"));